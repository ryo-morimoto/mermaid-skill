var jN=Object.create;var{getPrototypeOf:fN,defineProperty:J7,getOwnPropertyNames:XH,getOwnPropertyDescriptor:TN}=Object,JH=Object.prototype.hasOwnProperty,aZ=(Z,Q,X)=>{for(let J of XH(Q))if(!JH.call(Z,J)&&J!=="default")J7(Z,J,{get:()=>Q[J],enumerable:!0});if(X){for(let J of XH(Q))if(!JH.call(X,J)&&J!=="default")J7(X,J,{get:()=>Q[J],enumerable:!0});return X}},bz=(Z,Q,X)=>{X=Z!=null?jN(fN(Z)):{};let J=Q||!Z||!Z.__esModule?J7(X,"default",{value:Z,enumerable:!0}):X;for(let W of XH(Z))if(!JH.call(J,W))J7(J,W,{get:()=>Z[W],enumerable:!0});return J},xz=new WeakMap,vN=(Z)=>{var Q=xz.get(Z),X;if(Q)return Q;if(Q=J7({},"__esModule",{value:!0}),Z&&typeof Z==="object"||typeof Z==="function")XH(Z).map((J)=>!JH.call(Q,J)&&J7(Q,J,{get:()=>Z[J],enumerable:!(X=TN(Z,J))||X.enumerable}));return xz.set(Z,Q),Q},WH=(Z,Q)=>()=>(Q||Z((Q={exports:{}}).exports,Q),Q.exports);var KX=(Z,Q)=>{for(var X in Q)J7(Z,X,{get:Q[X],enumerable:!0,configurable:!0,set:(J)=>Q[X]=()=>J})};var D=(Z,Q)=>()=>(Z&&(Q=Z(Z=0)),Q);class tZ{ast;constructor(Z){this.ast=Z}toAST(){return this.ast}get type(){return this.ast.type}get title(){return this.ast.title}set title(Z){this.ast.title=Z}get accDescription(){return this.ast.accDescription}set accDescription(Z){this.ast.accDescription=Z}}function xQ(Z,Q="    "){let X=[];function J(W,H){if(!W)return;if(typeof W==="string")X.push(Q.repeat(H)+W);else if(Array.isArray(W))for(let Y of W)J(Y,H);else if(typeof W==="object"&&"_indent"in W)J(W._indent,H+1);else if(typeof W==="object"&&"_blank"in W)X.push("")}return J(Z,0),X.join(`
`)}var ZQ=(Z)=>({_indent:Z}),KQ=(Z,Q)=>{if(!Z)return null;return typeof Q==="function"?Q():Q},NX=(Z,Q,X,J)=>{let W=J?.indent!==!1;return[Z,W?ZQ(Q):Q,X]};var eX=()=>{};function VN(Z){if(Z===void 0)return KH.indent;if(Z==="tab")return"\t";return" ".repeat(Z)}function QQ(Z){return{indent:VN(Z?.indent),inlineClasses:Z?.inlineClasses??KH.inlineClasses,compactLinks:Z?.compactLinks??KH.compactLinks,sortNodes:Z?.sortNodes??KH.sortNodes}}var KH;var aQ=D(()=>{KH={indent:"    ",inlineClasses:!1,compactLinks:!1,sortNodes:!1}});function M0(Z,Q){throw Error(Q??`Unexpected value: ${Z}`)}function AH(){return{type:"flowchart",direction:"TB",nodes:new Map,links:[],subgraphs:[],classDefs:new Map,classes:new Map,clicks:[],linkStyles:[]}}var y3,d3;var lz=D(()=>{y3=function(){var Z=function(N9,xZ,kZ,cZ){for(kZ=kZ||{},cZ=N9.length;cZ--;kZ[N9[cZ]]=xZ);return kZ},Q=[1,4],X=[1,3],J=[1,5],W=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],H=[2,2],Y=[1,13],B=[1,14],K=[1,15],U=[1,16],G=[1,23],z=[1,25],F=[1,26],q=[1,27],L=[1,49],A=[1,48],k=[1,29],T=[1,30],p=[1,31],s=[1,32],y=[1,33],C=[1,44],P=[1,46],g=[1,42],f=[1,47],O=[1,43],h=[1,50],w=[1,45],$=[1,51],j=[1,52],n=[1,34],d=[1,35],m=[1,36],b=[1,37],u=[1,57],S=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],l=[1,61],I=[1,60],QZ=[1,62],WZ=[8,9,11,75,77,78],MZ=[1,78],r=[1,91],qZ=[1,96],BZ=[1,95],DZ=[1,92],UZ=[1,88],AZ=[1,94],e=[1,90],ZZ=[1,97],i=[1,93],V=[1,98],o=[1,89],N=[8,9,10,11,40,75,77,78],YZ=[8,9,10,11,40,46,75,77,78],M=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],mZ=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],a=[44,60,89,102,105,106,109,111,114,115,116],IZ=[1,121],nZ=[1,122],vZ=[1,124],LZ=[1,123],GZ=[44,60,62,74,89,102,105,106,109,111,114,115,116],HZ=[1,133],t=[1,147],zZ=[1,148],x=[1,149],EZ=[1,150],E=[1,135],PZ=[1,137],R=[1,141],FZ=[1,142],JZ=[1,143],jZ=[1,144],OZ=[1,145],KZ=[1,146],GQ=[1,151],wZ=[1,152],FQ=[1,131],qQ=[1,132],JX=[1,139],lZ=[1,134],JQ=[1,138],EQ=[1,136],uZ=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],wQ=[1,154],OX=[1,156],dZ=[8,9,11],rZ=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],$Z=[1,176],iZ=[1,172],bZ=[1,173],VZ=[1,177],hZ=[1,174],_Z=[1,175],PX=[77,116,119],gZ=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],W0=[10,106],YX=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],kQ=[1,247],_Q=[1,245],pX=[1,249],tX=[1,243],$Q=[1,244],Z9=[1,246],Q9=[1,248],X9=[1,250],T7=[1,268],Sz=[8,9,11,106],f0=[8,9,10,11,60,84,105,106,109,110,111,112],R3={trace:function(){},yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:function(xZ,kZ,cZ,RZ,OQ,_,Z7){var v=_.length-1;switch(OQ){case 2:this.$=[];break;case 3:if(!Array.isArray(_[v])||_[v].length>0)_[v-1].push(_[v]);this.$=_[v-1];break;case 4:case 183:this.$=_[v];break;case 11:RZ.setDirection("TB"),this.$="TB";break;case 12:RZ.setDirection(_[v-1]),this.$=_[v-1];break;case 27:this.$=_[v-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=RZ.addSubGraph(_[v-6],_[v-1],_[v-4]);break;case 34:this.$=RZ.addSubGraph(_[v-3],_[v-1],_[v-3]);break;case 35:this.$=RZ.addSubGraph(void 0,_[v-1],void 0);break;case 37:this.$=_[v].trim(),RZ.setAccTitle(this.$);break;case 38:case 39:this.$=_[v].trim(),RZ.setAccDescription(this.$);break;case 43:this.$=_[v-1]+_[v];break;case 44:this.$=_[v];break;case 45:RZ.addVertex(_[v-1][_[v-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,_[v]),RZ.addLink(_[v-3].stmt,_[v-1],_[v-2]),this.$={stmt:_[v-1],nodes:_[v-1].concat(_[v-3].nodes)};break;case 46:RZ.addLink(_[v-2].stmt,_[v],_[v-1]),this.$={stmt:_[v],nodes:_[v].concat(_[v-2].nodes)};break;case 47:RZ.addLink(_[v-3].stmt,_[v-1],_[v-2]),this.$={stmt:_[v-1],nodes:_[v-1].concat(_[v-3].nodes)};break;case 48:this.$={stmt:_[v-1],nodes:_[v-1]};break;case 49:RZ.addVertex(_[v-1][_[v-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,_[v]),this.$={stmt:_[v-1],nodes:_[v-1],shapeData:_[v]};break;case 50:this.$={stmt:_[v],nodes:_[v]};break;case 51:this.$=[_[v]];break;case 52:RZ.addVertex(_[v-5][_[v-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,_[v-4]),this.$=_[v-5].concat(_[v]);break;case 53:this.$=_[v-4].concat(_[v]);break;case 54:this.$=_[v];break;case 55:this.$=_[v-2],RZ.setClass(_[v-2],_[v]);break;case 56:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"square");break;case 57:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"doublecircle");break;case 58:this.$=_[v-5],RZ.addVertex(_[v-5],_[v-2],"circle");break;case 59:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"ellipse");break;case 60:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"stadium");break;case 61:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"subroutine");break;case 62:this.$=_[v-7],RZ.addVertex(_[v-7],_[v-1],"rect",void 0,void 0,void 0,Object.fromEntries([[_[v-5],_[v-3]]]));break;case 63:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"cylinder");break;case 64:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"round");break;case 65:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"diamond");break;case 66:this.$=_[v-5],RZ.addVertex(_[v-5],_[v-2],"hexagon");break;case 67:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"odd");break;case 68:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"trapezoid");break;case 69:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"inv_trapezoid");break;case 70:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"lean_right");break;case 71:this.$=_[v-3],RZ.addVertex(_[v-3],_[v-1],"lean_left");break;case 72:this.$=_[v],RZ.addVertex(_[v]);break;case 73:_[v-1].text=_[v],this.$=_[v-1];break;case 74:case 75:_[v-2].text=_[v-1],this.$=_[v-2];break;case 76:this.$=_[v];break;case 77:var rQ=RZ.destructLink(_[v],_[v-2]);this.$={type:rQ.type,stroke:rQ.stroke,length:rQ.length,text:_[v-1]};break;case 78:var rQ=RZ.destructLink(_[v],_[v-2]);this.$={type:rQ.type,stroke:rQ.stroke,length:rQ.length,text:_[v-1],id:_[v-3]};break;case 79:this.$={text:_[v],type:"text"};break;case 80:this.$={text:_[v-1].text+""+_[v],type:_[v-1].type};break;case 81:this.$={text:_[v],type:"string"};break;case 82:this.$={text:_[v],type:"markdown"};break;case 83:var rQ=RZ.destructLink(_[v]);this.$={type:rQ.type,stroke:rQ.stroke,length:rQ.length};break;case 84:var rQ=RZ.destructLink(_[v]);this.$={type:rQ.type,stroke:rQ.stroke,length:rQ.length,id:_[v-1]};break;case 85:this.$=_[v-1];break;case 86:this.$={text:_[v],type:"text"};break;case 87:this.$={text:_[v-1].text+""+_[v],type:_[v-1].type};break;case 88:this.$={text:_[v],type:"string"};break;case 89:case 104:this.$={text:_[v],type:"markdown"};break;case 101:this.$={text:_[v],type:"text"};break;case 102:this.$={text:_[v-1].text+""+_[v],type:_[v-1].type};break;case 103:this.$={text:_[v],type:"text"};break;case 105:this.$=_[v-4],RZ.addClass(_[v-2],_[v]);break;case 106:this.$=_[v-4],RZ.setClass(_[v-2],_[v]);break;case 107:case 115:this.$=_[v-1],RZ.setClickEvent(_[v-1],_[v]);break;case 108:case 116:this.$=_[v-3],RZ.setClickEvent(_[v-3],_[v-2]),RZ.setTooltip(_[v-3],_[v]);break;case 109:this.$=_[v-2],RZ.setClickEvent(_[v-2],_[v-1],_[v]);break;case 110:this.$=_[v-4],RZ.setClickEvent(_[v-4],_[v-3],_[v-2]),RZ.setTooltip(_[v-4],_[v]);break;case 111:this.$=_[v-2],RZ.setLink(_[v-2],_[v]);break;case 112:this.$=_[v-4],RZ.setLink(_[v-4],_[v-2]),RZ.setTooltip(_[v-4],_[v]);break;case 113:this.$=_[v-4],RZ.setLink(_[v-4],_[v-2],_[v]);break;case 114:this.$=_[v-6],RZ.setLink(_[v-6],_[v-4],_[v]),RZ.setTooltip(_[v-6],_[v-2]);break;case 117:this.$=_[v-1],RZ.setLink(_[v-1],_[v]);break;case 118:this.$=_[v-3],RZ.setLink(_[v-3],_[v-2]),RZ.setTooltip(_[v-3],_[v]);break;case 119:this.$=_[v-3],RZ.setLink(_[v-3],_[v-2],_[v]);break;case 120:this.$=_[v-5],RZ.setLink(_[v-5],_[v-4],_[v]),RZ.setTooltip(_[v-5],_[v-2]);break;case 121:this.$=_[v-4],RZ.addVertex(_[v-2],void 0,void 0,_[v]);break;case 122:this.$=_[v-4],RZ.updateLink([_[v-2]],_[v]);break;case 123:this.$=_[v-4],RZ.updateLink(_[v-2],_[v]);break;case 124:this.$=_[v-8],RZ.updateLinkInterpolate([_[v-6]],_[v-2]),RZ.updateLink([_[v-6]],_[v]);break;case 125:this.$=_[v-8],RZ.updateLinkInterpolate(_[v-6],_[v-2]),RZ.updateLink(_[v-6],_[v]);break;case 126:this.$=_[v-6],RZ.updateLinkInterpolate([_[v-4]],_[v]);break;case 127:this.$=_[v-6],RZ.updateLinkInterpolate(_[v-4],_[v]);break;case 128:case 130:this.$=[_[v]];break;case 129:case 131:_[v-2].push(_[v]),this.$=_[v-2];break;case 133:this.$=_[v-1]+_[v];break;case 181:this.$=_[v];break;case 182:this.$=_[v-1]+""+_[v];break;case 184:this.$=_[v-1]+""+_[v];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,9:Q,10:X,12:J},{1:[3]},Z(W,H,{5:6}),{4:7,9:Q,10:X,12:J},{4:8,9:Q,10:X,12:J},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:Y,9:B,10:K,11:U,20:17,22:18,23:19,24:20,25:21,26:22,27:G,33:24,34:z,36:F,38:q,42:28,43:38,44:L,45:39,47:40,60:A,84:k,85:T,86:p,87:s,88:y,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j,121:n,122:d,123:m,124:b},Z(W,[2,9]),Z(W,[2,10]),Z(W,[2,11]),{8:[1,54],9:[1,55],10:u,15:53,18:56},Z(S,[2,3]),Z(S,[2,4]),Z(S,[2,5]),Z(S,[2,6]),Z(S,[2,7]),Z(S,[2,8]),{8:l,9:I,11:QZ,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:l,9:I,11:QZ,21:67},{8:l,9:I,11:QZ,21:68},{8:l,9:I,11:QZ,21:69},{8:l,9:I,11:QZ,21:70},{8:l,9:I,11:QZ,21:71},{8:l,9:I,10:[1,72],11:QZ,21:73},Z(S,[2,36]),{35:[1,74]},{37:[1,75]},Z(S,[2,39]),Z(WZ,[2,50],{18:76,39:77,10:u,40:MZ}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:r,44:qZ,60:BZ,80:[1,86],89:DZ,95:[1,83],97:[1,84],101:85,105:UZ,106:AZ,109:e,111:ZZ,114:i,115:V,116:o,120:87},Z(S,[2,185]),Z(S,[2,186]),Z(S,[2,187]),Z(S,[2,188]),Z(N,[2,51]),Z(N,[2,54],{46:[1,99]}),Z(YZ,[2,72],{113:112,29:[1,100],44:L,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:A,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:C,102:P,105:g,106:f,109:O,111:h,114:w,115:$,116:j}),Z(M,[2,181]),Z(M,[2,142]),Z(M,[2,143]),Z(M,[2,144]),Z(M,[2,145]),Z(M,[2,146]),Z(M,[2,147]),Z(M,[2,148]),Z(M,[2,149]),Z(M,[2,150]),Z(M,[2,151]),Z(M,[2,152]),Z(W,[2,12]),Z(W,[2,18]),Z(W,[2,19]),{9:[1,113]},Z(mZ,[2,26],{18:114,10:u}),Z(S,[2,27]),{42:115,43:38,44:L,45:39,47:40,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},Z(S,[2,40]),Z(S,[2,41]),Z(S,[2,42]),Z(a,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:IZ,81:nZ,116:vZ,119:LZ},{75:[1,125],77:[1,126]},Z(GZ,[2,83]),Z(S,[2,28]),Z(S,[2,29]),Z(S,[2,30]),Z(S,[2,31]),Z(S,[2,32]),{10:HZ,12:t,14:zZ,27:x,28:127,32:EZ,44:E,60:PZ,75:R,80:[1,129],81:[1,130],83:140,84:FZ,85:JZ,86:jZ,87:OZ,88:KZ,89:GQ,90:wZ,91:128,105:FQ,109:qQ,111:JX,114:lZ,115:JQ,116:EQ},Z(uZ,H,{5:153}),Z(S,[2,37]),Z(S,[2,38]),Z(WZ,[2,48],{44:wQ}),Z(WZ,[2,49],{18:155,10:u,40:OX}),Z(N,[2,44]),{44:L,47:157,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},{102:[1,158],103:159,105:[1,160]},{44:L,47:161,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},{44:L,47:162,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},Z(dZ,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},Z(dZ,[2,115],{120:167,10:[1,166],14:r,44:qZ,60:BZ,89:DZ,105:UZ,106:AZ,109:e,111:ZZ,114:i,115:V,116:o}),Z(dZ,[2,117],{10:[1,168]}),Z(rZ,[2,183]),Z(rZ,[2,170]),Z(rZ,[2,171]),Z(rZ,[2,172]),Z(rZ,[2,173]),Z(rZ,[2,174]),Z(rZ,[2,175]),Z(rZ,[2,176]),Z(rZ,[2,177]),Z(rZ,[2,178]),Z(rZ,[2,179]),Z(rZ,[2,180]),{44:L,47:169,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},{30:170,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:178,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:180,50:[1,179],67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:181,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:182,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:183,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{109:[1,184]},{30:185,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:186,65:[1,187],67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:188,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:189,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{30:190,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},Z(M,[2,182]),Z(W,[2,20]),Z(mZ,[2,25]),Z(WZ,[2,46],{39:191,18:192,10:u,40:MZ}),Z(a,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{77:[1,196],79:197,116:vZ,119:LZ},Z(PX,[2,79]),Z(PX,[2,81]),Z(PX,[2,82]),Z(PX,[2,168]),Z(PX,[2,169]),{76:198,79:120,80:IZ,81:nZ,116:vZ,119:LZ},Z(GZ,[2,84]),{8:l,9:I,10:HZ,11:QZ,12:t,14:zZ,21:200,27:x,29:[1,199],32:EZ,44:E,60:PZ,75:R,83:140,84:FZ,85:JZ,86:jZ,87:OZ,88:KZ,89:GQ,90:wZ,91:201,105:FQ,109:qQ,111:JX,114:lZ,115:JQ,116:EQ},Z(gZ,[2,101]),Z(gZ,[2,103]),Z(gZ,[2,104]),Z(gZ,[2,157]),Z(gZ,[2,158]),Z(gZ,[2,159]),Z(gZ,[2,160]),Z(gZ,[2,161]),Z(gZ,[2,162]),Z(gZ,[2,163]),Z(gZ,[2,164]),Z(gZ,[2,165]),Z(gZ,[2,166]),Z(gZ,[2,167]),Z(gZ,[2,90]),Z(gZ,[2,91]),Z(gZ,[2,92]),Z(gZ,[2,93]),Z(gZ,[2,94]),Z(gZ,[2,95]),Z(gZ,[2,96]),Z(gZ,[2,97]),Z(gZ,[2,98]),Z(gZ,[2,99]),Z(gZ,[2,100]),{6:11,7:12,8:Y,9:B,10:K,11:U,20:17,22:18,23:19,24:20,25:21,26:22,27:G,32:[1,202],33:24,34:z,36:F,38:q,42:28,43:38,44:L,45:39,47:40,60:A,84:k,85:T,86:p,87:s,88:y,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j,121:n,122:d,123:m,124:b},{10:u,18:203},{44:[1,204]},Z(N,[2,43]),{10:[1,205],44:L,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:112,114:w,115:$,116:j},{10:[1,206]},{10:[1,207],106:[1,208]},Z(W0,[2,128]),{10:[1,209],44:L,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:112,114:w,115:$,116:j},{10:[1,210],44:L,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:112,114:w,115:$,116:j},{80:[1,211]},Z(dZ,[2,109],{10:[1,212]}),Z(dZ,[2,111],{10:[1,213]}),{80:[1,214]},Z(rZ,[2,184]),{80:[1,215],98:[1,216]},Z(N,[2,55],{113:112,44:L,60:A,89:C,102:P,105:g,106:f,109:O,111:h,114:w,115:$,116:j}),{31:[1,217],67:$Z,82:218,116:VZ,117:hZ,118:_Z},Z(YX,[2,86]),Z(YX,[2,88]),Z(YX,[2,89]),Z(YX,[2,153]),Z(YX,[2,154]),Z(YX,[2,155]),Z(YX,[2,156]),{49:[1,219],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{30:220,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{51:[1,221],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{53:[1,222],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{55:[1,223],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{57:[1,224],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{60:[1,225]},{64:[1,226],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{66:[1,227],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{30:228,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},{31:[1,229],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{67:$Z,69:[1,230],71:[1,231],82:218,116:VZ,117:hZ,118:_Z},{67:$Z,69:[1,233],71:[1,232],82:218,116:VZ,117:hZ,118:_Z},Z(WZ,[2,45],{18:155,10:u,40:OX}),Z(WZ,[2,47],{44:wQ}),Z(a,[2,75]),Z(a,[2,74]),{62:[1,234],67:$Z,82:218,116:VZ,117:hZ,118:_Z},Z(a,[2,77]),Z(PX,[2,80]),{77:[1,235],79:197,116:vZ,119:LZ},{30:236,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},Z(uZ,H,{5:237}),Z(gZ,[2,102]),Z(S,[2,35]),{43:238,44:L,45:39,47:40,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},{10:u,18:239},{10:kQ,60:_Q,84:pX,92:240,105:tX,107:241,108:242,109:$Q,110:Z9,111:Q9,112:X9},{10:kQ,60:_Q,84:pX,92:251,104:[1,252],105:tX,107:241,108:242,109:$Q,110:Z9,111:Q9,112:X9},{10:kQ,60:_Q,84:pX,92:253,104:[1,254],105:tX,107:241,108:242,109:$Q,110:Z9,111:Q9,112:X9},{105:[1,255]},{10:kQ,60:_Q,84:pX,92:256,105:tX,107:241,108:242,109:$Q,110:Z9,111:Q9,112:X9},{44:L,47:257,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},Z(dZ,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},Z(dZ,[2,116]),Z(dZ,[2,118],{10:[1,261]}),Z(dZ,[2,119]),Z(YZ,[2,56]),Z(YX,[2,87]),Z(YZ,[2,57]),{51:[1,262],67:$Z,82:218,116:VZ,117:hZ,118:_Z},Z(YZ,[2,64]),Z(YZ,[2,59]),Z(YZ,[2,60]),Z(YZ,[2,61]),{109:[1,263]},Z(YZ,[2,63]),Z(YZ,[2,65]),{66:[1,264],67:$Z,82:218,116:VZ,117:hZ,118:_Z},Z(YZ,[2,67]),Z(YZ,[2,68]),Z(YZ,[2,70]),Z(YZ,[2,69]),Z(YZ,[2,71]),Z([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),Z(a,[2,78]),{31:[1,265],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{6:11,7:12,8:Y,9:B,10:K,11:U,20:17,22:18,23:19,24:20,25:21,26:22,27:G,32:[1,266],33:24,34:z,36:F,38:q,42:28,43:38,44:L,45:39,47:40,60:A,84:k,85:T,86:p,87:s,88:y,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j,121:n,122:d,123:m,124:b},Z(N,[2,53]),{43:267,44:L,45:39,47:40,60:A,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j},Z(dZ,[2,121],{106:T7}),Z(Sz,[2,130],{108:269,10:kQ,60:_Q,84:pX,105:tX,109:$Q,110:Z9,111:Q9,112:X9}),Z(f0,[2,132]),Z(f0,[2,134]),Z(f0,[2,135]),Z(f0,[2,136]),Z(f0,[2,137]),Z(f0,[2,138]),Z(f0,[2,139]),Z(f0,[2,140]),Z(f0,[2,141]),Z(dZ,[2,122],{106:T7}),{10:[1,270]},Z(dZ,[2,123],{106:T7}),{10:[1,271]},Z(W0,[2,129]),Z(dZ,[2,105],{106:T7}),Z(dZ,[2,106],{113:112,44:L,60:A,89:C,102:P,105:g,106:f,109:O,111:h,114:w,115:$,116:j}),Z(dZ,[2,110]),Z(dZ,[2,112],{10:[1,272]}),Z(dZ,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:l,9:I,11:QZ,21:277},Z(S,[2,34]),Z(N,[2,52]),{10:kQ,60:_Q,84:pX,105:tX,107:278,108:242,109:$Q,110:Z9,111:Q9,112:X9},Z(f0,[2,133]),{14:r,44:qZ,60:BZ,89:DZ,101:279,105:UZ,106:AZ,109:e,111:ZZ,114:i,115:V,116:o,120:87},{14:r,44:qZ,60:BZ,89:DZ,101:280,105:UZ,106:AZ,109:e,111:ZZ,114:i,115:V,116:o,120:87},{98:[1,281]},Z(dZ,[2,120]),Z(YZ,[2,58]),{30:282,67:$Z,80:iZ,81:bZ,82:171,116:VZ,117:hZ,118:_Z},Z(YZ,[2,66]),Z(uZ,H,{5:283}),Z(Sz,[2,131],{108:269,10:kQ,60:_Q,84:pX,105:tX,109:$Q,110:Z9,111:Q9,112:X9}),Z(dZ,[2,126],{120:167,10:[1,284],14:r,44:qZ,60:BZ,89:DZ,105:UZ,106:AZ,109:e,111:ZZ,114:i,115:V,116:o}),Z(dZ,[2,127],{120:167,10:[1,285],14:r,44:qZ,60:BZ,89:DZ,105:UZ,106:AZ,109:e,111:ZZ,114:i,115:V,116:o}),Z(dZ,[2,114]),{31:[1,286],67:$Z,82:218,116:VZ,117:hZ,118:_Z},{6:11,7:12,8:Y,9:B,10:K,11:U,20:17,22:18,23:19,24:20,25:21,26:22,27:G,32:[1,287],33:24,34:z,36:F,38:q,42:28,43:38,44:L,45:39,47:40,60:A,84:k,85:T,86:p,87:s,88:y,89:C,102:P,105:g,106:f,109:O,111:h,113:41,114:w,115:$,116:j,121:n,122:d,123:m,124:b},{10:kQ,60:_Q,84:pX,92:288,105:tX,107:241,108:242,109:$Q,110:Z9,111:Q9,112:X9},{10:kQ,60:_Q,84:pX,92:289,105:tX,107:241,108:242,109:$Q,110:Z9,111:Q9,112:X9},Z(YZ,[2,62]),Z(S,[2,33]),Z(dZ,[2,124],{106:T7}),Z(dZ,[2,125],{106:T7})],defaultActions:{},parseError:function(xZ,kZ){if(kZ.recoverable)this.trace(xZ);else{var cZ=Error(xZ);throw cZ.hash=kZ,cZ}},parse:function(xZ){var kZ=this,cZ=[0],RZ=[],OQ=[null],_=[],Z7=this.table,v="",rQ=0,jz=0,fz=0,CN=2,Tz=1,IN=_.slice.call(arguments,1),BX=Object.create(this.lexer),Q7={yy:{}};for(var I3 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,I3))Q7.yy[I3]=this.yy[I3];if(BX.setInput(xZ,Q7.yy),Q7.yy.lexer=BX,Q7.yy.parser=this,typeof BX.yylloc>"u")BX.yylloc={};var _3=BX.yylloc;_.push(_3);var _N=BX.options&&BX.options.ranges;if(typeof Q7.yy.parseError==="function")this.parseError=Q7.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function LV(Y0){cZ.length=cZ.length-2*Y0,OQ.length=OQ.length-Y0,_.length=_.length-Y0}function SN(){var Y0=RZ.pop()||BX.lex()||Tz;if(typeof Y0!=="number"){if(Y0 instanceof Array)RZ=Y0,Y0=RZ.pop();Y0=kZ.symbols_[Y0]||Y0}return Y0}var vX,S3,X7,H0,DV,j3,v7={},ZH,J9,vz,QH;while(!0){if(X7=cZ[cZ.length-1],this.defaultActions[X7])H0=this.defaultActions[X7];else{if(vX===null||typeof vX>"u")vX=SN();H0=Z7[X7]&&Z7[X7][vX]}if(typeof H0>"u"||!H0.length||!H0[0]){var f3="";QH=[];for(ZH in Z7[X7])if(this.terminals_[ZH]&&ZH>CN)QH.push("'"+this.terminals_[ZH]+"'");if(BX.showPosition)f3="Parse error on line "+(rQ+1)+`:
`+BX.showPosition()+`
Expecting `+QH.join(", ")+", got '"+(this.terminals_[vX]||vX)+"'";else f3="Parse error on line "+(rQ+1)+": Unexpected "+(vX==Tz?"end of input":"'"+(this.terminals_[vX]||vX)+"'");this.parseError(f3,{text:BX.match,token:this.terminals_[vX]||vX,line:BX.yylineno,loc:_3,expected:QH})}if(H0[0]instanceof Array&&H0.length>1)throw Error("Parse Error: multiple actions possible at state: "+X7+", token: "+vX);switch(H0[0]){case 1:if(cZ.push(vX),OQ.push(BX.yytext),_.push(BX.yylloc),cZ.push(H0[1]),vX=null,!S3){if(jz=BX.yyleng,v=BX.yytext,rQ=BX.yylineno,_3=BX.yylloc,fz>0)fz--}else vX=S3,S3=null;break;case 2:if(J9=this.productions_[H0[1]][1],v7.$=OQ[OQ.length-J9],v7._$={first_line:_[_.length-(J9||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(J9||1)].first_column,last_column:_[_.length-1].last_column},_N)v7._$.range=[_[_.length-(J9||1)].range[0],_[_.length-1].range[1]];if(j3=this.performAction.apply(v7,[v,jz,rQ,Q7.yy,H0[1],OQ,_].concat(IN)),typeof j3<"u")return j3;if(J9)cZ=cZ.slice(0,-1*J9*2),OQ=OQ.slice(0,-1*J9),_=_.slice(0,-1*J9);cZ.push(this.productions_[H0[1]][0]),OQ.push(v7.$),_.push(v7._$),vz=Z7[cZ[cZ.length-2]][cZ[cZ.length-1]],cZ.push(vz);break;case 3:return!0}}return!0}},RN=function(){var N9={EOF:1,parseError:function(kZ,cZ){if(this.yy.parser)this.yy.parser.parseError(kZ,cZ);else throw Error(kZ)},setInput:function(xZ,kZ){if(this.yy=kZ||this.yy||{},this._input=xZ,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var xZ=this._input[0];this.yytext+=xZ,this.yyleng++,this.offset++,this.match+=xZ,this.matched+=xZ;var kZ=xZ.match(/(?:\r\n?|\n).*/g);if(kZ)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),xZ},unput:function(xZ){var kZ=xZ.length,cZ=xZ.split(/(?:\r\n?|\n)/g);this._input=xZ+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-kZ),this.offset-=kZ;var RZ=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),cZ.length-1)this.yylineno-=cZ.length-1;var OQ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:cZ?(cZ.length===RZ.length?this.yylloc.first_column:0)+RZ[RZ.length-cZ.length].length-cZ[0].length:this.yylloc.first_column-kZ},this.options.ranges)this.yylloc.range=[OQ[0],OQ[0]+this.yyleng-kZ];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(xZ){this.unput(this.match.slice(xZ))},pastInput:function(){var xZ=this.matched.substr(0,this.matched.length-this.match.length);return(xZ.length>20?"...":"")+xZ.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var xZ=this.match;if(xZ.length<20)xZ+=this._input.substr(0,20-xZ.length);return(xZ.substr(0,20)+(xZ.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var xZ=this.pastInput(),kZ=Array(xZ.length+1).join("-");return xZ+this.upcomingInput()+`
`+kZ+"^"},test_match:function(xZ,kZ){var cZ,RZ,OQ;if(this.options.backtrack_lexer){if(OQ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)OQ.yylloc.range=this.yylloc.range.slice(0)}if(RZ=xZ[0].match(/(?:\r\n?|\n).*/g),RZ)this.yylineno+=RZ.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:RZ?RZ[RZ.length-1].length-RZ[RZ.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+xZ[0].length},this.yytext+=xZ[0],this.match+=xZ[0],this.matches=xZ,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(xZ[0].length),this.matched+=xZ[0],cZ=this.performAction.call(this,this.yy,this,kZ,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(cZ)return cZ;else if(this._backtrack){for(var _ in OQ)this[_]=OQ[_];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var xZ,kZ,cZ,RZ;if(!this._more)this.yytext="",this.match="";var OQ=this._currentRules();for(var _=0;_<OQ.length;_++)if(cZ=this._input.match(this.rules[OQ[_]]),cZ&&(!kZ||cZ[0].length>kZ[0].length)){if(kZ=cZ,RZ=_,this.options.backtrack_lexer)if(xZ=this.test_match(cZ,OQ[_]),xZ!==!1)return xZ;else if(this._backtrack){kZ=!1;continue}else return!1;else if(!this.options.flex)break}if(kZ){if(xZ=this.test_match(kZ,OQ[RZ]),xZ!==!1)return xZ;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var kZ=this.next();if(kZ)return kZ;else return this.lex()},begin:function(kZ){this.conditionStack.push(kZ)},popState:function(){var kZ=this.conditionStack.length-1;if(kZ>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(kZ){if(kZ=this.conditionStack.length-1-Math.abs(kZ||0),kZ>=0)return this.conditionStack[kZ];else return"INITIAL"},pushState:function(kZ){this.begin(kZ)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(kZ,cZ,RZ,OQ){var _=OQ;switch(RZ){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),cZ.yytext="",40;break;case 8:return this.pushState("shapeDataStr"),40;break;case 9:return this.popState(),40;break;case 10:let Z7=/\n\s*/g;return cZ.yytext=cZ.yytext.replace(Z7,"<br/>"),40;break;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:if(kZ.lex.firstGraph())this.begin("dir");return 12;case 36:if(kZ.lex.firstGraph())this.begin("dir");return 12;case 37:if(kZ.lex.firstGraph())this.begin("dir");return 12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return this.popState(),14;break;case 50:return this.popState(),14;break;case 51:return this.popState(),14;break;case 52:return this.popState(),14;break;case 53:return this.popState(),14;break;case 54:return this.popState(),14;break;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;break;case 69:return this.pushState("edgeText"),75;break;case 70:return 119;case 71:return this.popState(),77;break;case 72:return this.pushState("thickEdgeText"),75;break;case 73:return 119;case 74:return this.popState(),77;break;case 75:return this.pushState("dottedEdgeText"),75;break;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;break;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;break;case 81:return this.popState(),55;break;case 82:return this.pushState("text"),54;break;case 83:return this.popState(),57;break;case 84:return this.pushState("text"),56;break;case 85:return 58;case 86:return this.pushState("text"),67;break;case 87:return this.popState(),64;break;case 88:return this.pushState("text"),63;break;case 89:return this.popState(),49;break;case 90:return this.pushState("text"),48;break;case 91:return this.popState(),69;break;case 92:return this.popState(),71;break;case 93:return 117;case 94:return this.pushState("trapText"),68;break;case 95:return this.pushState("trapText"),70;break;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;break;case 108:return this.pushState("text"),62;break;case 109:return this.popState(),51;break;case 110:return this.pushState("text"),50;break;case 111:return this.popState(),31;break;case 112:return this.pushState("text"),29;break;case 113:return this.popState(),66;break;case 114:return this.pushState("text"),65;break;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return N9}();R3.lexer=RN;function C3(){this.yy={}}return C3.prototype=R3,R3.Parser=C3,new C3}();y3.parser=y3;d3=y3});function IR(Z,Q){let X="arrow_open",J="normal",W=1;if(Z.includes("="))J="thick";else if(Z.includes("."))J="dotted";let H=(Q||"")+Z;if(H.includes("x"))X="arrow_cross";else if(H.includes("o"))X="arrow_circle";else if(H.includes(">"))X="arrow_point";else X="arrow_open";let Y=Z.match(/[-=]+/g);if(Y){let B=Y[0].length;if(X==="arrow_open")W=Math.max(1,B-2);else W=Math.max(1,B-1)}return{type:X,stroke:J,length:W}}function _R(Z){let Q={};if(!Z)return Q;let X=Z.split(",");for(let J of X){let W=J.indexOf(":");if(W>0){let H=J.slice(0,W).trim(),Y=J.slice(W+1).trim();Q[H]=Y}}return Q}function cz(Z){let Q={};if(!Z)return Q;if(Array.isArray(Z)){for(let X of Z)if(typeof X==="string"){let J=X.indexOf(":");if(J>0){let W=X.slice(0,J).trim(),H=X.slice(J+1).trim();Q[W]=H}}return Q}if(typeof Z==="string")return _R(Z);if(typeof Z==="object"){for(let[X,J]of Object.entries(Z))if(typeof J==="string")Q[X]=J;return Q}return Q}function SR(Z){let Q=!0,X=0,J=[],W=new Map;return{lex:{firstGraph:()=>{if(Q)return Q=!1,!0;return!1}},setDirection(H){Z.direction=H.trim()},addVertex(H,Y,B,K,U,G,z,F){if(!H)return;let q=Z.nodes.get(H);if(!q)q={id:H,shape:"rect"},Z.nodes.set(H,q);if(Y){if(typeof Y==="string")q.text={text:Y,type:"text"};else if(Y.text)q.text={text:Y.text,type:Y.type}}if(B)q.shape=B;if(z)q.props=z;if(F)q.shapeData=F;if(J.length>0){let L=J[J.length-1];W.set(H,L)}},addLink(H,Y,B){let K=Array.isArray(H)?H:[H],U=Array.isArray(Y)?Y:[Y];for(let G of K)for(let z of U){let F={source:G,target:z,stroke:B.stroke||"normal",type:B.type||"arrow_point",length:B.length||1};if(B.id)F.id=B.id;if(B.text){if(typeof B.text==="string")F.text={text:B.text,type:"text"};else if(B.text.text)F.text={text:B.text.text,type:B.text.type}}Z.links.push(F)}},addSubGraph(H,Y,B){let K;if(!H)K=`subGraph${X++}`;else if(typeof H==="object"&&"text"in H)K=H.text.trim();else K=H.trim();let U=[],G;if(Array.isArray(Y)){for(let F of Y)if(typeof F==="string"){let q=F.trim();if(q)U.push(q)}else if(Array.isArray(F)){for(let q of F)if(typeof q==="string"){let L=q.trim();if(L)U.push(L)}}else if(F&&typeof F==="object"){if("stmt"in F&&F.stmt==="dir"&&"value"in F)G=F.value;else if("nodes"in F){let q=F.nodes;if(Array.isArray(q)){for(let L of q)if(typeof L==="string"){let A=L.trim();if(A)U.push(A)}}}}}else if(typeof Y==="string"){let F=Y.trim();if(F){let q=F.split(/\s+/).filter((L)=>L.length>0);U.push(...q)}}let z={id:K,nodes:U};if(G)z.direction=G;if(B){if(typeof B==="string")z.title={text:B,type:"text"};else if(B.text)z.title={text:B.text,type:B.type}}return Z.subgraphs.push(z),K},setClass(H,Y){let B=H.split(",").map((K)=>K.trim());for(let K of B){if(!K)continue;let U=Z.classes.get(K)||[];if(!U.includes(Y))U.push(Y);Z.classes.set(K,U)}},addClass(H,Y){Z.classDefs.set(H,{id:H,styles:cz(Y)})},setClickEvent(H,Y,B){let K=Z.clicks.find((U)=>U.nodeId===H);if(K){if(Y)K.callback=Y;if(B)K.callbackArgs=B}else Z.clicks.push({nodeId:H,callback:Y,callbackArgs:B})},setLink(H,Y,B){let K=Z.clicks.find((U)=>U.nodeId===H);if(K){if(K.href=Y,B)K.target=B}else Z.clicks.push({nodeId:H,href:Y,target:B})},updateLink(H,Y){let B=cz(Y);for(let K of H){let U=K==="default"?"default":typeof K==="number"?K:Number.parseInt(K,10);Z.linkStyles.push({index:U,styles:B})}},updateLinkInterpolate(H,Y){for(let B of H){let K=B==="default"?"default":typeof B==="number"?B:Number.parseInt(B,10),U=Z.linkStyles.find((G)=>G.index===K);if(U)U.interpolate=Y;else Z.linkStyles.push({index:K,styles:{},interpolate:Y})}},setAccTitle(H){Z.title=H},setAccDescription(H){Z.accDescription=H},destructLink:IR,setSubgraphDirection(H){if(Z.subgraphs.length>0)Z.subgraphs[Z.subgraphs.length-1].direction=H},getTooltip:()=>{return},setTooltip:()=>{},lookUpDomId:(H)=>H,setDiagramTitle:()=>{},getDiagramTitle:()=>""}}function d7(Z){let Q=AH(),X=SR(Q);d3.yy=X;try{d3.parse(Z)}catch(J){if(J instanceof Error)throw Error(`Failed to parse flowchart: ${J.message}`);throw J}return Q}function OH(Z){let X=Z.trim().split(`
`)[0].trim().toLowerCase();return X.startsWith("flowchart")||X.startsWith("graph")||X.startsWith("flowchart-elk")}var PH=D(()=>{lz()});function $3(Z){return Z.replace(/"/g,"\\\"")}function C9(Z){let Q=Z.text?.text||Z.id,X=$3(Q);switch(Z.shape){case"square":return`[${X}]`;case"round":return`(${X})`;case"circle":return`((${X}))`;case"doublecircle":return`(((${X})))`;case"ellipse":return`(-${X}-)`;case"stadium":return`([${X}])`;case"subroutine":return`[[${X}]]`;case"cylinder":return`[(${X})]`;case"diamond":return`{${X}}`;case"hexagon":return`{{${X}}}`;case"odd":return`>${X}]`;case"trapezoid":return`[/${X}\\]`;case"inv_trapezoid":return`[\\${X}/]`;case"lean_right":return`[/${X}/]`;case"lean_left":return`[\\${X}\\]`;default:if(!Z.text)return"";return`[${X}]`}}function jR(Z){let Q=Z.type==="arrow_open",X=Math.max(1,Z.length),J="";if(Z.type==="arrow_circle")J+="o";else if(Z.type==="arrow_cross")J+="x";switch(Z.stroke){case"thick":if(Q)J+="=".repeat(X+2);else J+="=".repeat(X+1);break;case"dotted":if(Q)J+="-.-";else J+="-.-";break;case"normal":if(Q)J+="-".repeat(X+2);else J+="-".repeat(X+1);break;default:M0(Z.stroke)}switch(Z.type){case"arrow_open":break;case"arrow_point":J+=">";break;case"arrow_circle":J+="o";break;case"arrow_cross":J+="x";break;default:M0(Z.type)}return J}function $7(Z){let Q=jR(Z);if(Z.text?.text)return`${Q}|${$3(Z.text.text)}|`;return Q}function W7(Z,Q){let X=Q.classes.get(Z);if(X&&X.length>0)return`:::${X.join(",")}`;return""}function fR(Z){return[...Z.classDefs.entries()].map(([Q,X])=>{let J=Object.entries(X.styles).map(([W,H])=>`${W}:${H}`).join(",");return`classDef ${Q} ${J}`})}function TR(Z){let Q=new Map;for(let[X,J]of Z.classes)for(let W of J){let H=Q.get(W)||[];H.push(X),Q.set(W,H)}return[...Q.entries()].map(([X,J])=>`class ${J.join(",")} ${X}`)}function vR(Z){return Z.clicks.map((Q)=>{if(Q.href){let X=Q.target?` ${Q.target}`:"";return`click ${Q.nodeId} href "${Q.href}"${X}`}if(Q.callback){let X=Q.callbackArgs?` ${Q.callbackArgs}`:"";return`click ${Q.nodeId} ${Q.callback}${X}`}return null})}function xR(Z){return Z.linkStyles.map((Q)=>{let X=Object.entries(Q.styles).map(([H,Y])=>`${H}:${Y}`).join(","),J=Q.index==="default"?"default":Q.index,W=Q.interpolate?` interpolate ${Q.interpolate}`:"";return`linkStyle ${J} ${X}${W}`})}function bR(Z,Q,X,J,W){let H=Z.title?.text||Z.id,Y=H!==Z.id?`subgraph ${Z.id}[${$3(H)}]`:`subgraph ${Z.id}`,B=[...Z.nodes];if(W.sortNodes)B.sort();let K=[];if(Z.direction)K.push(`direction ${Z.direction}`);for(let U of B)if(!X.has(U)){let G=Q.nodes.get(U);if(G){let z=C9(G),F=W.inlineClasses?W7(U,Q):"";K.push(`${G.id}${z}${F}`),X.add(U)}}for(let U=0;U<Q.links.length;U++){let G=Q.links[U];if(!J.has(U)&&Z.nodes.includes(G.source)&&Z.nodes.includes(G.target)){let z=$7(G);K.push(`${G.source} ${z} ${G.target}`),J.add(U)}}return NX(Y,K,"end")}function gR(Z,Q){let X=[],J=new Set,W=new Map;for(let B=0;B<Z.links.length;B++){if(Q.has(B))continue;let K=Z.links[B],U=W.get(K.source)||[];U.push({target:K.target,link:K,index:B}),W.set(K.source,U)}let H=new Map;for(let B=0;B<Z.links.length;B++){if(Q.has(B))continue;let K=Z.links[B];H.set(K.target,(H.get(K.target)||0)+1)}let Y=new Set;for(let B=0;B<Z.links.length;B++){if(Q.has(B)||Y.has(B))continue;let K=Z.links[B],U={nodeIds:[K.source],links:[]},G=K.source;while(!0){let z=W.get(G);if(!z||z.length!==1)break;let F=z[0];if(Y.has(F.index))break;if((H.get(F.target)||0)!==1){U.nodeIds.push(F.target),U.links.push(F.link),Y.add(F.index),J.add(F.index);break}U.nodeIds.push(F.target),U.links.push(F.link),Y.add(F.index),J.add(F.index),G=F.target}if(U.links.length>0)X.push(U)}return{chains:X,usedLinkIndices:J}}function VR(Z,Q,X,J,W){let H=[],{chains:Y,usedLinkIndices:B}=gR(Z,J);for(let K of Y){let U="";for(let G=0;G<K.nodeIds.length;G++){let z=K.nodeIds[G],F=Z.nodes.get(z);if(G===0)if(F&&!X.has(z)){let q=C9(F),L=W.inlineClasses?W7(z,Z):"";U+=`${z}${q}${L}`,X.add(z)}else U+=z;if(G<K.links.length){let q=K.links[G],L=$7(q),A=K.nodeIds[G+1],k=Z.nodes.get(A);if(k&&!X.has(A)){let T=C9(k),p=W.inlineClasses?W7(A,Z):"";U+=` ${L} ${A}${T}${p}`,X.add(A)}else U+=` ${L} ${A}`}}H.push(U)}for(let K of B)J.add(K);for(let[K,U]of Q){if(X.has(K))continue;let G=C9(U),z=W.inlineClasses?W7(K,Z):"";H.push(`${U.id}${G}${z}`),X.add(K)}for(let K=0;K<Z.links.length;K++){if(J.has(K))continue;let U=Z.links[K],G=$7(U);H.push(`${U.source} ${G} ${U.target}`),J.add(K)}return H}function hR(Z,Q,X,J,W){let H=[],Y=new Map;for(let B=0;B<Z.links.length;B++){if(J.has(B))continue;let K=Z.links[B],U=Y.get(K.source)||[];U.push({link:K,index:B}),Y.set(K.source,U)}for(let[B,K]of Q){if(X.has(B))continue;let U=Y.get(B)||[],G=W.inlineClasses?W7(B,Z):"";if(U.length===0){let z=C9(K);H.push(`${K.id}${z}${G}`),X.add(B)}else{let z=U[0],F=C9(K),q=$7(z.link),L=Z.nodes.get(z.link.target),A=W.inlineClasses?W7(z.link.target,Z):"",k=L&&!X.has(z.link.target)?C9(L):"";H.push(`${K.id}${F}${G} ${q} ${z.link.target}${k}${A}`),X.add(B),X.add(z.link.target),J.add(z.index);for(let T=1;T<U.length;T++){let p=U[T],s=$7(p.link),y=Z.nodes.get(p.link.target),C=W.inlineClasses?W7(p.link.target,Z):"",P=y&&!X.has(p.link.target)?C9(y):"";H.push(`${K.id} ${s} ${p.link.target}${P}${C}`),X.add(p.link.target),J.add(p.index)}}}for(let B=0;B<Z.links.length;B++){if(J.has(B))continue;let K=Z.links[B],U=$7(K);H.push(`${K.source} ${U} ${K.target}`),J.add(B)}return H}function l7(Z,Q){let X=QQ(Q),J=new Set,W=new Set,H=[...Z.nodes.entries()];if(X.sortNodes)H.sort((B,K)=>B[0].localeCompare(K[0]));let Y=[`flowchart ${Z.direction}`,ZQ([...Z.subgraphs.map((B)=>bR(B,Z,J,W,X)),X.compactLinks?VR(Z,H,J,W,X):hR(Z,H,J,W,X),fR(Z),KQ(!X.inlineClasses,()=>TR(Z)),vR(Z),xR(Z)])];return xQ(Y,X.indent)}var NH=D(()=>{aQ();eX()});function iz(Z,Q,X,J){let W=this.toAST(),H=W.links.findIndex((B)=>B.source===Q&&B.target===X);if(H===-1)return this.addNode(Z,J),this.addLink(Q,Z),this.addLink(Z,X),this;let Y=W.links[H];return this.addNode(Z,J),W.links.push({source:Q,target:Z,type:Y.type,stroke:Y.stroke,length:Y.length,text:Y.text}),W.links.push({source:Z,target:X,type:Y.type,stroke:Y.stroke,length:Y.length}),W.links.splice(H,1),this}function sz(Z){return this.removeNode(Z,{reconnect:!0})}function nz(Z){let Q=this.toAST(),X=new Set,J=[Z];while(J.length>0){let W=J.shift();if(X.has(W))continue;X.add(W);for(let H of Q.links)if(H.source===W&&!X.has(H.target))J.push(H.target)}return[...X]}function oz(Z){let Q=this.toAST(),X=new Set,J=[Z];while(J.length>0){let W=J.shift();if(X.has(W))continue;X.add(W);for(let H of Q.links)if(H.target===W&&!X.has(H.source))J.push(H.source)}return[...X]}function rz(Z,Q){if(Z===Q)return[Z];let X=this.toAST(),J=new Set,W=[{node:Z,path:[Z]}];while(W.length>0){let{node:H,path:Y}=W.shift();if(J.has(H))continue;J.add(H);for(let B of X.links)if(B.source===H){let K=[...Y,B.target];if(B.target===Q)return K;if(!J.has(B.target))W.push({node:B.target,path:K})}}return[]}function az(Z,Q){if(Z===Q)return[Z];let X=this.toAST(),J=[Z],W=Z;while(W!==Q){let H=X.links.filter((B)=>B.source===W);if(H.length!==1)return[];let Y=H[0].target;if(J.push(Y),W=Y,J.length>X.nodes.size)return[]}return J}function tz(Z){if(Z.length===0)return this;let Q=this.toAST(),X=Z[0],J=Z[Z.length-1],W=Q.links.filter((Y)=>Y.target===X&&!Z.includes(Y.source)).map((Y)=>({source:Y.source,link:Y})),H=Q.links.filter((Y)=>Y.source===J&&!Z.includes(Y.target)).map((Y)=>({target:Y.target,link:Y}));for(let{source:Y,link:B}of W)for(let{target:K}of H)if(Y!==K)Q.links.push({source:Y,target:K,type:B.type,stroke:B.stroke,length:B.length});for(let Y of Z)this.removeNode(Y);return this}function ez(Z,Q,X,J){if(Z.length===0)return this.addLink(Q,X,J),this;let W=Z[0],H=Z[Z.length-1];return this.removeLinksBetween(Q,X),this.addLink(Q,W,J),this.addLink(H,X,J),this}function ZF(Z){if(Z.length<2)return this;let Q=this.toAST();for(let X=0;X<Z.length-1;X++){let J=Z[X],W=Z[X+1],H=Q.links.findIndex((Y)=>Y.source===J&&Y.target===W);if(H!==-1)this.flipLink(H)}return this}function QF(Z){let{Flowchart:Q}=(l3(),vN(JF)),X=this.toAST(),J=new Set(Z),W=Q.create(this.direction);for(let H of Z){let Y=X.nodes.get(H);if(Y){W.addNode(H,Y.text?.text,{shape:Y.shape});let B=X.classes.get(H);if(B)for(let K of B)W.addClass(H,K)}}for(let H of X.links)if(J.has(H.source)&&J.has(H.target))W.addLink(H.source,H.target,{text:H.text?.text,type:H.type,stroke:H.stroke,length:H.length});return this.yankChain(Z),W}function XF(Z,Q){if(Z.length===0)return this;let X=this.toAST(),J=new Set(Z),W=X.links.filter((Y)=>!J.has(Y.source)&&J.has(Y.target));for(let Y of W){let B=X.links.indexOf(Y);if(B!==-1)X.links.splice(B,1)}let H=Z.filter((Y)=>{return!X.links.some((B)=>B.target===Y&&J.has(B.source))});for(let Y of H)this.addLink(Q,Y);return this}var JF={};KX(JF,{Flowchart:()=>H7});var H7;var l3=D(()=>{PH();NH();H7=class H7 extends tZ{constructor(Z){super(Z)}static create(Z="TD"){let Q=AH();return Q.direction=Z,new H7(Q)}static from(Z){return new H7(Z)}static parse(Z){let Q=d7(Z);return new H7(Q)}render(Z){return l7(this.ast,Z)}clone(){let Z={type:"flowchart",direction:this.ast.direction,nodes:new Map(this.ast.nodes),links:[...this.ast.links.map((Q)=>({...Q}))],subgraphs:[...this.ast.subgraphs.map((Q)=>({...Q,nodes:[...Q.nodes]}))],classDefs:new Map(this.ast.classDefs),classes:new Map([...this.ast.classes].map(([Q,X])=>[Q,[...X]])),clicks:[...this.ast.clicks.map((Q)=>({...Q}))],linkStyles:[...this.ast.linkStyles.map((Q)=>({...Q,styles:{...Q.styles}}))],title:this.ast.title,accDescription:this.ast.accDescription};return new H7(Z)}get direction(){return this.ast.direction}set direction(Z){this.ast.direction=Z}get nodeIds(){return[...this.ast.nodes.keys()]}get nodes(){return[...this.ast.nodes.values()]}get links(){return this.ast.links}get subgraphs(){return this.ast.subgraphs}get nodeCount(){return this.ast.nodes.size}get linkCount(){return this.ast.links.length}hasNode(Z){return this.ast.nodes.has(Z)}getNode(Z){return this.ast.nodes.get(Z)}addNode(Z,Q,X){let J={id:Z,shape:X?.shape??"square"};if(Q)J.text={text:Q,type:"text"};if(this.ast.nodes.set(Z,J),X?.classes)this.ast.classes.set(Z,[...X.classes]);return this}removeNode(Z,Q){if(!this.ast.nodes.has(Z))return this;if(Q?.reconnect){let X=this.ast.links.filter((W)=>W.target===Z),J=this.ast.links.filter((W)=>W.source===Z);for(let W of X)for(let H of J)if(W.source!==H.target)this.ast.links.push({source:W.source,target:H.target,stroke:W.stroke,type:W.type,length:W.length})}this.ast.links=this.ast.links.filter((X)=>X.source!==Z&&X.target!==Z);for(let X of this.ast.subgraphs){let J=X.nodes.indexOf(Z);if(J!==-1)X.nodes.splice(J,1)}return this.ast.classes.delete(Z),this.ast.clicks=this.ast.clicks.filter((X)=>X.nodeId!==Z),this.ast.nodes.delete(Z),this}setNodeText(Z,Q){let X=this.ast.nodes.get(Z);if(X)X.text={text:Q,type:"text"};return this}setNodeShape(Z,Q){let X=this.ast.nodes.get(Z);if(X)X.shape=Q;return this}addClass(Z,Q){let X=this.ast.classes.get(Z)||[];if(!X.includes(Q))X.push(Q),this.ast.classes.set(Z,X);return this}removeClass(Z,Q){let X=this.ast.classes.get(Z);if(X){let J=X.indexOf(Q);if(J!==-1){if(X.splice(J,1),X.length===0)this.ast.classes.delete(Z)}}return this}getClasses(Z){return this.ast.classes.get(Z)||[]}findNodes(Z){let Q=[];for(let[X,J]of this.ast.nodes){if(Z.class){if(!(this.ast.classes.get(X)||[]).includes(Z.class))continue}if(Z.shape&&J.shape!==Z.shape)continue;if(Z.textContains){if(!(J.text?.text||J.id).includes(Z.textContains))continue}if(Z.textMatches){let W=J.text?.text||J.id;if(!Z.textMatches.test(W))continue}if(Z.inSubgraph){let W=this.ast.subgraphs.find((H)=>H.id===Z.inSubgraph);if(!W||!W.nodes.includes(X))continue}Q.push(X)}return Q}addLink(Z,Q,X){let J={source:Z,target:Q,type:X?.type??"arrow_point",stroke:X?.stroke??"normal",length:X?.length??1};if(X?.text)J.text={text:X.text,type:"text"};return this.ast.links.push(J),this}removeLink(Z){if(Z>=0&&Z<this.ast.links.length)this.ast.links.splice(Z,1);return this}removeLinksBetween(Z,Q){return this.ast.links=this.ast.links.filter((X)=>!(X.source===Z&&X.target===Q)),this}getLink(Z){return this.ast.links[Z]}flipLink(Z){let Q=this.ast.links[Z];if(Q){let X=Q.source;Q.source=Q.target,Q.target=X}return this}setLinkType(Z,Q){let X=this.ast.links[Z];if(X)X.type=Q;return this}setLinkStroke(Z,Q){let X=this.ast.links[Z];if(X)X.stroke=Q;return this}setLinkText(Z,Q){let X=this.ast.links[Z];if(X)if(Q)X.text={text:Q,type:"text"};else X.text=void 0;return this}getLinksFrom(Z){return this.ast.links.map((Q,X)=>({index:X,link:Q})).filter(({link:Q})=>Q.source===Z)}getLinksTo(Z){return this.ast.links.map((Q,X)=>({index:X,link:Q})).filter(({link:Q})=>Q.target===Z)}addLinksFromMany(Z,Q,X){for(let J of Z)this.addLink(J,Q,X);return this}addLinksToMany(Z,Q,X){for(let J of Q)this.addLink(Z,J,X);return this}createSubgraph(Z,Q,X){for(let W of this.ast.subgraphs)W.nodes=W.nodes.filter((H)=>!Q.includes(H));let J={id:Z,nodes:[...Q]};if(X)J.title={text:X,type:"text"};return this.ast.subgraphs.push(J),this}dissolveSubgraph(Z){let Q=this.ast.subgraphs.findIndex((X)=>X.id===Z);if(Q!==-1)this.ast.subgraphs.splice(Q,1);return this}moveToSubgraph(Z,Q){for(let J of this.ast.subgraphs)J.nodes=J.nodes.filter((W)=>!Z.includes(W));let X=this.ast.subgraphs.find((J)=>J.id===Q);if(X)X.nodes.push(...Z);return this}extractFromSubgraph(Z){for(let Q of this.ast.subgraphs)Q.nodes=Q.nodes.filter((X)=>!Z.includes(X));return this}mergeSubgraphs(Z,Q){let X=this.ast.subgraphs.find((W)=>W.id===Z),J=this.ast.subgraphs.find((W)=>W.id===Q);if(X&&J)J.nodes.push(...X.nodes),this.dissolveSubgraph(Z);return this}getSubgraph(Z){return this.ast.subgraphs.find((Q)=>Q.id===Z)}insertBetween=iz;removeAndReconnect=sz;getReachable=nz;getAncestors=oz;getPath=rz;getChain=az;yankChain=tz;spliceChain=ez;reverseChain=ZF;extractChain=QF;rebaseNodes=XF}});function mQ(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$type==="string"}function qX(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$refText==="string"}function s3(Z){return typeof Z==="object"&&Z!==null&&typeof Z.name==="string"&&typeof Z.type==="string"&&typeof Z.path==="string"}function Y7(Z){return typeof Z==="object"&&Z!==null&&mQ(Z.container)&&qX(Z.reference)&&typeof Z.message==="string"}class i7{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(Z,Q){return mQ(Z)&&this.isSubtype(Z.$type,Q)}isSubtype(Z,Q){if(Z===Q)return!0;let X=this.subtypes[Z];if(!X)X=this.subtypes[Z]={};let J=X[Q];if(J!==void 0)return J;else{let W=this.computeIsSubtype(Z,Q);return X[Q]=W,W}}getAllSubTypes(Z){let Q=this.allSubtypes[Z];if(Q)return Q;else{let X=this.getAllTypes(),J=[];for(let W of X)if(this.isSubtype(W,Z))J.push(W);return this.allSubtypes[Z]=J,J}}}function L0(Z){return typeof Z==="object"&&Z!==null&&Array.isArray(Z.content)}function I9(Z){return typeof Z==="object"&&Z!==null&&typeof Z.tokenType==="object"}function T8(Z){return L0(Z)&&typeof Z.fullText==="string"}function uR(Z){if(typeof Z==="string")return Z;if(typeof Z>"u")return"undefined";if(typeof Z.toString==="function")return Z.toString();return Object.prototype.toString.call(Z)}function _H(Z){return!!Z&&typeof Z[Symbol.iterator]==="function"}function UQ(...Z){if(Z.length===1){let Q=Z[0];if(Q instanceof tQ)return Q;if(_H(Q))return new tQ(()=>Q[Symbol.iterator](),(X)=>X.next());if(typeof Q.length==="number")return new tQ(()=>({index:0}),(X)=>{if(X.index<Q.length)return{done:!1,value:Q[X.index++]};else return RX})}if(Z.length>1)return new tQ(()=>({collIndex:0,arrIndex:0}),(Q)=>{do{if(Q.iterator){let X=Q.iterator.next();if(!X.done)return X;Q.iterator=void 0}if(Q.array){if(Q.arrIndex<Q.array.length)return{done:!1,value:Q.array[Q.arrIndex++]};Q.array=void 0,Q.arrIndex=0}if(Q.collIndex<Z.length){let X=Z[Q.collIndex++];if(_H(X))Q.iterator=X[Symbol.iterator]();else if(X&&typeof X.length==="number")Q.array=X}}while(Q.iterator||Q.array||Q.collIndex<Z.length);return RX});return v8}var tQ,v8,RX,Y9,s7;var yX=D(()=>{tQ=class tQ{constructor(Z,Q){this.startFn=Z,this.nextFn=Q}iterator(){let Z={state:this.startFn(),next:()=>this.nextFn(Z.state),[Symbol.iterator]:()=>Z};return Z}[Symbol.iterator](){return this.iterator()}isEmpty(){let Z=this.iterator();return Boolean(Z.next().done)}count(){let Z=this.iterator(),Q=0,X=Z.next();while(!X.done)Q++,X=Z.next();return Q}toArray(){let Z=[],Q=this.iterator(),X;do if(X=Q.next(),X.value!==void 0)Z.push(X.value);while(!X.done);return Z}toSet(){return new Set(this)}toMap(Z,Q){let X=this.map((J)=>[Z?Z(J):J,Q?Q(J):J]);return new Map(X)}toString(){return this.join()}concat(Z){return new tQ(()=>({first:this.startFn(),firstDone:!1,iterator:Z[Symbol.iterator]()}),(Q)=>{let X;if(!Q.firstDone){do if(X=this.nextFn(Q.first),!X.done)return X;while(!X.done);Q.firstDone=!0}do if(X=Q.iterator.next(),!X.done)return X;while(!X.done);return RX})}join(Z=","){let Q=this.iterator(),X="",J,W=!1;do{if(J=Q.next(),!J.done){if(W)X+=Z;X+=uR(J.value)}W=!0}while(!J.done);return X}indexOf(Z,Q=0){let X=this.iterator(),J=0,W=X.next();while(!W.done){if(J>=Q&&W.value===Z)return J;W=X.next(),J++}return-1}every(Z){let Q=this.iterator(),X=Q.next();while(!X.done){if(!Z(X.value))return!1;X=Q.next()}return!0}some(Z){let Q=this.iterator(),X=Q.next();while(!X.done){if(Z(X.value))return!0;X=Q.next()}return!1}forEach(Z){let Q=this.iterator(),X=0,J=Q.next();while(!J.done)Z(J.value,X),J=Q.next(),X++}map(Z){return new tQ(this.startFn,(Q)=>{let{done:X,value:J}=this.nextFn(Q);if(X)return RX;else return{done:!1,value:Z(J)}})}filter(Z){return new tQ(this.startFn,(Q)=>{let X;do if(X=this.nextFn(Q),!X.done&&Z(X.value))return X;while(!X.done);return RX})}nonNullable(){return this.filter((Z)=>Z!==void 0&&Z!==null)}reduce(Z,Q){let X=this.iterator(),J=Q,W=X.next();while(!W.done){if(J===void 0)J=W.value;else J=Z(J,W.value);W=X.next()}return J}reduceRight(Z,Q){return this.recursiveReduce(this.iterator(),Z,Q)}recursiveReduce(Z,Q,X){let J=Z.next();if(J.done)return X;let W=this.recursiveReduce(Z,Q,X);if(W===void 0)return J.value;return Q(W,J.value)}find(Z){let Q=this.iterator(),X=Q.next();while(!X.done){if(Z(X.value))return X.value;X=Q.next()}return}findIndex(Z){let Q=this.iterator(),X=0,J=Q.next();while(!J.done){if(Z(J.value))return X;J=Q.next(),X++}return-1}includes(Z){let Q=this.iterator(),X=Q.next();while(!X.done){if(X.value===Z)return!0;X=Q.next()}return!1}flatMap(Z){return new tQ(()=>({this:this.startFn()}),(Q)=>{do{if(Q.iterator){let W=Q.iterator.next();if(W.done)Q.iterator=void 0;else return W}let{done:X,value:J}=this.nextFn(Q.this);if(!X){let W=Z(J);if(_H(W))Q.iterator=W[Symbol.iterator]();else return{done:!1,value:W}}}while(Q.iterator);return RX})}flat(Z){if(Z===void 0)Z=1;if(Z<=0)return this;let Q=Z>1?this.flat(Z-1):this;return new tQ(()=>({this:Q.startFn()}),(X)=>{do{if(X.iterator){let H=X.iterator.next();if(H.done)X.iterator=void 0;else return H}let{done:J,value:W}=Q.nextFn(X.this);if(!J)if(_H(W))X.iterator=W[Symbol.iterator]();else return{done:!1,value:W}}while(X.iterator);return RX})}head(){let Q=this.iterator().next();if(Q.done)return;return Q.value}tail(Z=1){return new tQ(()=>{let Q=this.startFn();for(let X=0;X<Z;X++)if(this.nextFn(Q).done)return Q;return Q},this.nextFn)}limit(Z){return new tQ(()=>({size:0,state:this.startFn()}),(Q)=>{if(Q.size++,Q.size>Z)return RX;return this.nextFn(Q.state)})}distinct(Z){return new tQ(()=>({set:new Set,internalState:this.startFn()}),(Q)=>{let X;do if(X=this.nextFn(Q.internalState),!X.done){let J=Z?Z(X.value):X.value;if(!Q.set.has(J))return Q.set.add(J),X}while(!X.done);return RX})}exclude(Z,Q){let X=new Set;for(let J of Z){let W=Q?Q(J):J;X.add(W)}return this.filter((J)=>{let W=Q?Q(J):J;return!X.has(W)})}};v8=new tQ(()=>{return},()=>RX),RX=Object.freeze({done:!0,value:void 0});Y9=class Y9 extends tQ{constructor(Z,Q,X){super(()=>({iterators:(X===null||X===void 0?void 0:X.includeRoot)?[[Z][Symbol.iterator]()]:[Q(Z)[Symbol.iterator]()],pruned:!1}),(J)=>{if(J.pruned)J.iterators.pop(),J.pruned=!1;while(J.iterators.length>0){let H=J.iterators[J.iterators.length-1].next();if(H.done)J.iterators.pop();else return J.iterators.push(Q(H.value)[Symbol.iterator]()),H}return RX})}iterator(){let Z={state:this.startFn(),next:()=>this.nextFn(Z.state),prune:()=>{Z.state.pruned=!0},[Symbol.iterator]:()=>Z};return Z}};(function(Z){function Q(H){return H.reduce((Y,B)=>Y+B,0)}Z.sum=Q;function X(H){return H.reduce((Y,B)=>Y*B,0)}Z.product=X;function J(H){return H.reduce((Y,B)=>Math.min(Y,B))}Z.min=J;function W(H){return H.reduce((Y,B)=>Math.max(Y,B))}Z.max=W})(s7||(s7={}))});var jH={};KX(jH,{tokenToRange:()=>n7,toDocumentSegment:()=>K7,streamCst:()=>B7,isCommentNode:()=>n3,isChildNode:()=>o3,inRange:()=>r3,getStartlineNode:()=>$R,getPreviousNode:()=>GF,getNextNode:()=>dR,getInteriorNodes:()=>lR,flattenCst:()=>pR,findLeafNodeBeforeOffset:()=>KF,findLeafNodeAtOffset:()=>t3,findDeclarationNodeAtOffset:()=>yR,findCommentNode:()=>a3,compareRange:()=>BF,RangeComparison:()=>T0,DefaultNameRegexp:()=>SH});function B7(Z){return new Y9(Z,(Q)=>{if(L0(Q))return Q.content;else return[]},{includeRoot:!0})}function pR(Z){return B7(Z).filter(I9)}function o3(Z,Q){while(Z.container)if(Z=Z.container,Z===Q)return!0;return!1}function n7(Z){return{start:{character:Z.startColumn-1,line:Z.startLine-1},end:{character:Z.endColumn,line:Z.endLine-1}}}function K7(Z){if(!Z)return;let{offset:Q,end:X,range:J}=Z;return{range:J,offset:Q,end:X,length:X-Q}}function BF(Z,Q){if(Z.end.line<Q.start.line||Z.end.line===Q.start.line&&Z.end.character<=Q.start.character)return T0.Before;else if(Z.start.line>Q.end.line||Z.start.line===Q.end.line&&Z.start.character>=Q.end.character)return T0.After;let X=Z.start.line>Q.start.line||Z.start.line===Q.start.line&&Z.start.character>=Q.start.character,J=Z.end.line<Q.end.line||Z.end.line===Q.end.line&&Z.end.character<=Q.end.character;if(X&&J)return T0.Inside;else if(X)return T0.OverlapBack;else if(J)return T0.OverlapFront;else return T0.Outside}function r3(Z,Q){return BF(Z,Q)>T0.After}function yR(Z,Q,X=SH){if(Z){if(Q>0){let J=Q-Z.offset,W=Z.text.charAt(J);if(!X.test(W))Q--}return t3(Z,Q)}return}function a3(Z,Q){if(Z){let X=GF(Z,!0);if(X&&n3(X,Q))return X;if(T8(Z)){let J=Z.content.findIndex((W)=>!W.hidden);for(let W=J-1;W>=0;W--){let H=Z.content[W];if(n3(H,Q))return H}}}return}function n3(Z,Q){return I9(Z)&&Q.includes(Z.tokenType.name)}function t3(Z,Q){if(I9(Z))return Z;else if(L0(Z)){let X=UF(Z,Q,!1);if(X)return t3(X,Q)}return}function KF(Z,Q){if(I9(Z))return Z;else if(L0(Z)){let X=UF(Z,Q,!0);if(X)return KF(X,Q)}return}function UF(Z,Q,X){let J=0,W=Z.content.length-1,H=void 0;while(J<=W){let Y=Math.floor((J+W)/2),B=Z.content[Y];if(B.offset<=Q&&B.end>Q)return B;if(B.end<=Q)H=X?B:void 0,J=Y+1;else W=Y-1}return H}function GF(Z,Q=!0){while(Z.container){let X=Z.container,J=X.content.indexOf(Z);while(J>0){J--;let W=X.content[J];if(Q||!W.hidden)return W}Z=X}return}function dR(Z,Q=!0){while(Z.container){let X=Z.container,J=X.content.indexOf(Z),W=X.content.length-1;while(J<W){J++;let H=X.content[J];if(Q||!H.hidden)return H}Z=X}return}function $R(Z){if(Z.range.start.character===0)return Z;let Q=Z.range.start.line,X=Z,J;while(Z.container){let W=Z.container,H=J!==null&&J!==void 0?J:W.content.indexOf(Z);if(H===0)Z=W,J=void 0;else J=H-1,Z=W.content[J];if(Z.range.start.line!==Q)break;X=Z}return X}function lR(Z,Q){let X=cR(Z,Q);if(!X)return[];return X.parent.content.slice(X.a+1,X.b)}function cR(Z,Q){let X=YF(Z),J=YF(Q),W;for(let H=0;H<X.length&&H<J.length;H++){let Y=X[H],B=J[H];if(Y.parent===B.parent)W={parent:Y.parent,a:Y.index,b:B.index};else break}return W}function YF(Z){let Q=[];while(Z.container){let X=Z.container,J=X.content.indexOf(Z);Q.push({parent:X,index:J}),Z=X}return Q.reverse()}var T0,SH;var D0=D(()=>{yX();(function(Z){Z[Z.Before=0]="Before",Z[Z.After=1]="After",Z[Z.OverlapFront=2]="OverlapFront",Z[Z.OverlapBack=3]="OverlapBack",Z[Z.Inside=4]="Inside",Z[Z.Outside=5]="Outside"})(T0||(T0={}));SH=/^[\w\p{L}]$/u});function v0(Z){throw Error("Error! The input value was not handled.")}var o7;var fH=D(()=>{o7=class o7 extends Error{constructor(Z,Q){super(Z?`${Q} at ${Z.range.start.line}:${Z.range.start.character}`:Q)}}});var y8={};KX(y8,{reflection:()=>yZ,isWildcard:()=>MB,isValueLiteral:()=>tR,isUntilToken:()=>wB,isUnorderedGroup:()=>hH,isUnionType:()=>BB,isTypeDefinition:()=>aR,isTypeAttribute:()=>Y1,isType:()=>u8,isTerminalRuleCall:()=>VH,isTerminalRule:()=>Z0,isTerminalGroup:()=>qB,isTerminalAlternatives:()=>FB,isStringLiteral:()=>H1,isSimpleType:()=>bH,isRuleCall:()=>A0,isReturnType:()=>YB,isRegexToken:()=>zB,isReferenceType:()=>HB,isPrimitiveType:()=>zF,isParserRule:()=>CX,isParameterReference:()=>WB,isParameter:()=>W1,isNumberLiteral:()=>J1,isNegation:()=>JB,isNegatedToken:()=>GB,isNamedArgument:()=>X1,isKeyword:()=>B0,isInterface:()=>xH,isInferredType:()=>vH,isGroup:()=>_9,isGrammarImport:()=>Q1,isGrammar:()=>Z1,isFeatureName:()=>rR,isEndOfFile:()=>UB,isDisjunction:()=>XB,isCrossReference:()=>G7,isConjunction:()=>QB,isCondition:()=>oR,isCharacterRange:()=>KB,isBooleanLiteral:()=>ZB,isAssignment:()=>E0,isArrayType:()=>e3,isArrayLiteral:()=>eR,isAlternatives:()=>gH,isAction:()=>B9,isAbstractType:()=>nR,isAbstractRule:()=>sR,isAbstractElement:()=>m8,Wildcard:()=>bJ,ValueLiteral:()=>b8,UntilToken:()=>xJ,UnorderedGroup:()=>vJ,UnionType:()=>LJ,TypeDefinition:()=>TH,TypeAttribute:()=>k8,Type:()=>MJ,TerminalRuleCall:()=>TJ,TerminalRule:()=>U7,TerminalGroup:()=>fJ,TerminalAlternatives:()=>jJ,StringLiteral:()=>wJ,SimpleType:()=>qJ,RuleCall:()=>SJ,ReturnType:()=>h8,RegexToken:()=>_J,ReferenceType:()=>FJ,ParserRule:()=>zJ,ParameterReference:()=>GJ,Parameter:()=>UJ,NumberLiteral:()=>KJ,Negation:()=>BJ,NegatedToken:()=>IJ,NamedArgument:()=>V8,LangiumGrammarTerminals:()=>iR,LangiumGrammarAstReflection:()=>p8,Keyword:()=>CJ,Interface:()=>YJ,InferredType:()=>HJ,Group:()=>RJ,GrammarImport:()=>g8,Grammar:()=>WJ,EndOfFile:()=>NJ,Disjunction:()=>JJ,CrossReference:()=>PJ,Conjunction:()=>XJ,Condition:()=>x8,CharacterRange:()=>OJ,BooleanLiteral:()=>QJ,Assignment:()=>AJ,ArrayType:()=>ZJ,ArrayLiteral:()=>e7,Alternatives:()=>EJ,Action:()=>DJ,AbstractType:()=>a7,AbstractRule:()=>r7,AbstractElement:()=>t7});function sR(Z){return yZ.isInstance(Z,r7)}function nR(Z){return yZ.isInstance(Z,a7)}function oR(Z){return yZ.isInstance(Z,x8)}function rR(Z){return zF(Z)||Z==="current"||Z==="entry"||Z==="extends"||Z==="false"||Z==="fragment"||Z==="grammar"||Z==="hidden"||Z==="import"||Z==="interface"||Z==="returns"||Z==="terminal"||Z==="true"||Z==="type"||Z==="infer"||Z==="infers"||Z==="with"||typeof Z==="string"&&/\^?[_a-zA-Z][\w_]*/.test(Z)}function zF(Z){return Z==="string"||Z==="number"||Z==="boolean"||Z==="Date"||Z==="bigint"}function aR(Z){return yZ.isInstance(Z,TH)}function tR(Z){return yZ.isInstance(Z,b8)}function m8(Z){return yZ.isInstance(Z,t7)}function eR(Z){return yZ.isInstance(Z,e7)}function e3(Z){return yZ.isInstance(Z,ZJ)}function ZB(Z){return yZ.isInstance(Z,QJ)}function QB(Z){return yZ.isInstance(Z,XJ)}function XB(Z){return yZ.isInstance(Z,JJ)}function Z1(Z){return yZ.isInstance(Z,WJ)}function Q1(Z){return yZ.isInstance(Z,g8)}function vH(Z){return yZ.isInstance(Z,HJ)}function xH(Z){return yZ.isInstance(Z,YJ)}function X1(Z){return yZ.isInstance(Z,V8)}function JB(Z){return yZ.isInstance(Z,BJ)}function J1(Z){return yZ.isInstance(Z,KJ)}function W1(Z){return yZ.isInstance(Z,UJ)}function WB(Z){return yZ.isInstance(Z,GJ)}function CX(Z){return yZ.isInstance(Z,zJ)}function HB(Z){return yZ.isInstance(Z,FJ)}function YB(Z){return yZ.isInstance(Z,h8)}function bH(Z){return yZ.isInstance(Z,qJ)}function H1(Z){return yZ.isInstance(Z,wJ)}function Z0(Z){return yZ.isInstance(Z,U7)}function u8(Z){return yZ.isInstance(Z,MJ)}function Y1(Z){return yZ.isInstance(Z,k8)}function BB(Z){return yZ.isInstance(Z,LJ)}function B9(Z){return yZ.isInstance(Z,DJ)}function gH(Z){return yZ.isInstance(Z,EJ)}function E0(Z){return yZ.isInstance(Z,AJ)}function KB(Z){return yZ.isInstance(Z,OJ)}function G7(Z){return yZ.isInstance(Z,PJ)}function UB(Z){return yZ.isInstance(Z,NJ)}function _9(Z){return yZ.isInstance(Z,RJ)}function B0(Z){return yZ.isInstance(Z,CJ)}function GB(Z){return yZ.isInstance(Z,IJ)}function zB(Z){return yZ.isInstance(Z,_J)}function A0(Z){return yZ.isInstance(Z,SJ)}function FB(Z){return yZ.isInstance(Z,jJ)}function qB(Z){return yZ.isInstance(Z,fJ)}function VH(Z){return yZ.isInstance(Z,TJ)}function hH(Z){return yZ.isInstance(Z,vJ)}function wB(Z){return yZ.isInstance(Z,xJ)}function MB(Z){return yZ.isInstance(Z,bJ)}var iR,r7="AbstractRule",a7="AbstractType",x8="Condition",TH="TypeDefinition",b8="ValueLiteral",t7="AbstractElement",e7="ArrayLiteral",ZJ="ArrayType",QJ="BooleanLiteral",XJ="Conjunction",JJ="Disjunction",WJ="Grammar",g8="GrammarImport",HJ="InferredType",YJ="Interface",V8="NamedArgument",BJ="Negation",KJ="NumberLiteral",UJ="Parameter",GJ="ParameterReference",zJ="ParserRule",FJ="ReferenceType",h8="ReturnType",qJ="SimpleType",wJ="StringLiteral",U7="TerminalRule",MJ="Type",k8="TypeAttribute",LJ="UnionType",DJ="Action",EJ="Alternatives",AJ="Assignment",OJ="CharacterRange",PJ="CrossReference",NJ="EndOfFile",RJ="Group",CJ="Keyword",IJ="NegatedToken",_J="RegexToken",SJ="RuleCall",jJ="TerminalAlternatives",fJ="TerminalGroup",TJ="TerminalRuleCall",vJ="UnorderedGroup",xJ="UntilToken",bJ="Wildcard",p8,yZ;var x0=D(()=>{iR={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/};p8=class p8 extends i7{getAllTypes(){return[t7,r7,a7,DJ,EJ,e7,ZJ,AJ,QJ,OJ,x8,XJ,PJ,JJ,NJ,WJ,g8,RJ,HJ,YJ,CJ,V8,IJ,BJ,KJ,UJ,GJ,zJ,FJ,_J,h8,SJ,qJ,wJ,jJ,fJ,U7,TJ,MJ,k8,TH,LJ,vJ,xJ,b8,bJ]}computeIsSubtype(Z,Q){switch(Z){case DJ:case EJ:case AJ:case OJ:case PJ:case NJ:case RJ:case CJ:case IJ:case _J:case SJ:case jJ:case fJ:case TJ:case vJ:case xJ:case bJ:return this.isSubtype(t7,Q);case e7:case KJ:case wJ:return this.isSubtype(b8,Q);case ZJ:case FJ:case qJ:case LJ:return this.isSubtype(TH,Q);case QJ:return this.isSubtype(x8,Q)||this.isSubtype(b8,Q);case XJ:case JJ:case BJ:case GJ:return this.isSubtype(x8,Q);case HJ:case YJ:case MJ:return this.isSubtype(a7,Q);case zJ:return this.isSubtype(r7,Q)||this.isSubtype(a7,Q);case U7:return this.isSubtype(r7,Q);default:return!1}}getReferenceType(Z){let Q=`${Z.container.$type}:${Z.property}`;switch(Q){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return a7;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return r7;case"Grammar:usedGrammars":return WJ;case"NamedArgument:parameter":case"ParameterReference:parameter":return UJ;case"TerminalRuleCall:rule":return U7;default:throw Error(`${Q} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case t7:return{name:t7,properties:[{name:"cardinality"},{name:"lookahead"}]};case e7:return{name:e7,properties:[{name:"elements",defaultValue:[]}]};case ZJ:return{name:ZJ,properties:[{name:"elementType"}]};case QJ:return{name:QJ,properties:[{name:"true",defaultValue:!1}]};case XJ:return{name:XJ,properties:[{name:"left"},{name:"right"}]};case JJ:return{name:JJ,properties:[{name:"left"},{name:"right"}]};case WJ:return{name:WJ,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case g8:return{name:g8,properties:[{name:"path"}]};case HJ:return{name:HJ,properties:[{name:"name"}]};case YJ:return{name:YJ,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case V8:return{name:V8,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case BJ:return{name:BJ,properties:[{name:"value"}]};case KJ:return{name:KJ,properties:[{name:"value"}]};case UJ:return{name:UJ,properties:[{name:"name"}]};case GJ:return{name:GJ,properties:[{name:"parameter"}]};case zJ:return{name:zJ,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case FJ:return{name:FJ,properties:[{name:"referenceType"}]};case h8:return{name:h8,properties:[{name:"name"}]};case qJ:return{name:qJ,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case wJ:return{name:wJ,properties:[{name:"value"}]};case U7:return{name:U7,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case MJ:return{name:MJ,properties:[{name:"name"},{name:"type"}]};case k8:return{name:k8,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case LJ:return{name:LJ,properties:[{name:"types",defaultValue:[]}]};case DJ:return{name:DJ,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case EJ:return{name:EJ,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case AJ:return{name:AJ,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case OJ:return{name:OJ,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case PJ:return{name:PJ,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case NJ:return{name:NJ,properties:[{name:"cardinality"},{name:"lookahead"}]};case RJ:return{name:RJ,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case CJ:return{name:CJ,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case IJ:return{name:IJ,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case _J:return{name:_J,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case SJ:return{name:SJ,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case jJ:return{name:jJ,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case fJ:return{name:fJ,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case TJ:return{name:TJ,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case vJ:return{name:vJ,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case xJ:return{name:xJ,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case bJ:return{name:bJ,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Z,properties:[]}}}};yZ=new p8});var mH={};KX(mH,{streamReferences:()=>gJ,streamContents:()=>$8,streamAst:()=>K0,streamAllContents:()=>b0,linkContentToContainer:()=>kH,hasContainerOfType:()=>B1,getDocument:()=>IX,getContainerOfType:()=>z7,findRootNode:()=>d8,findLocalReferences:()=>K1,copyAstNode:()=>DB,assignMandatoryProperties:()=>EB});function kH(Z){for(let[Q,X]of Object.entries(Z))if(!Q.startsWith("$")){if(Array.isArray(X))X.forEach((J,W)=>{if(mQ(J))J.$container=Z,J.$containerProperty=Q,J.$containerIndex=W});else if(mQ(X))X.$container=Z,X.$containerProperty=Q}}function z7(Z,Q){let X=Z;while(X){if(Q(X))return X;X=X.$container}return}function B1(Z,Q){let X=Z;while(X){if(Q(X))return!0;X=X.$container}return!1}function IX(Z){let X=d8(Z).$document;if(!X)throw Error("AST node has no document.");return X}function d8(Z){while(Z.$container)Z=Z.$container;return Z}function $8(Z,Q){if(!Z)throw Error("Node must be an AstNode.");let X=Q===null||Q===void 0?void 0:Q.range;return new tQ(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(J)=>{while(J.keyIndex<J.keys.length){let W=J.keys[J.keyIndex];if(!W.startsWith("$")){let H=Z[W];if(mQ(H)){if(J.keyIndex++,LB(H,X))return{done:!1,value:H}}else if(Array.isArray(H)){while(J.arrayIndex<H.length){let Y=J.arrayIndex++,B=H[Y];if(mQ(B)&&LB(B,X))return{done:!1,value:B}}J.arrayIndex=0}}J.keyIndex++}return RX})}function b0(Z,Q){if(!Z)throw Error("Root node must be an AstNode.");return new Y9(Z,(X)=>$8(X,Q))}function K0(Z,Q){if(!Z)throw Error("Root node must be an AstNode.");else if((Q===null||Q===void 0?void 0:Q.range)&&!LB(Z,Q.range))return new Y9(Z,()=>[]);return new Y9(Z,(X)=>$8(X,Q),{includeRoot:!0})}function LB(Z,Q){var X;if(!Q)return!0;let J=(X=Z.$cstNode)===null||X===void 0?void 0:X.range;if(!J)return!1;return r3(J,Q)}function gJ(Z){return new tQ(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(Q)=>{while(Q.keyIndex<Q.keys.length){let X=Q.keys[Q.keyIndex];if(!X.startsWith("$")){let J=Z[X];if(qX(J))return Q.keyIndex++,{done:!1,value:{reference:J,container:Z,property:X}};else if(Array.isArray(J)){while(Q.arrayIndex<J.length){let W=Q.arrayIndex++,H=J[W];if(qX(H))return{done:!1,value:{reference:H,container:Z,property:X,index:W}}}Q.arrayIndex=0}}Q.keyIndex++}return RX})}function K1(Z,Q=IX(Z).parseResult.value){let X=[];return K0(Q).forEach((J)=>{gJ(J).forEach((W)=>{if(W.reference.ref===Z)X.push(W.reference)})}),UQ(X)}function EB(Z,Q){let X=Z.getTypeMetaData(Q.$type),J=Q;for(let W of X.properties)if(W.defaultValue!==void 0&&J[W.name]===void 0)J[W.name]=FF(W.defaultValue)}function FF(Z){if(Array.isArray(Z))return[...Z.map(FF)];else return Z}function DB(Z,Q){let X={$type:Z.$type};for(let[J,W]of Object.entries(Z))if(!J.startsWith("$"))if(mQ(W))X[J]=DB(W,Q);else if(qX(W))X[J]=Q(X,J,W.$refNode,W.$refText);else if(Array.isArray(W)){let H=[];for(let Y of W)if(mQ(Y))H.push(DB(Y,Q));else if(qX(Y))H.push(Q(X,J,Y.$refNode,Y.$refText));else H.push(Y);X[J]=H}else X[J]=W;return kH(X),X}var xX=D(()=>{yX();D0()});function pZ(Z){return Z.charCodeAt(0)}function uH(Z,Q){if(Array.isArray(Z))Z.forEach(function(X){Q.push(X)});else Q.push(Z)}function VJ(Z,Q){if(Z[Q]===!0)throw"duplicate flag "+Q;let X=Z[Q];Z[Q]=!0}function F7(Z){if(Z===void 0)throw Error("Internal Error - Should never get here!");return!0}function l8(){throw Error("Internal Error - Should never get here!")}function AB(Z){return Z.type==="Character"}var c8,i8,OB;var qF=D(()=>{c8=[];for(let Z=pZ("0");Z<=pZ("9");Z++)c8.push(Z);i8=[pZ("_")].concat(c8);for(let Z=pZ("a");Z<=pZ("z");Z++)i8.push(Z);for(let Z=pZ("A");Z<=pZ("Z");Z++)i8.push(Z);OB=[pZ(" "),pZ("\f"),pZ(`
`),pZ("\r"),pZ("\t"),pZ("\v"),pZ("\t"),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ(""),pZ("\u2028"),pZ("\u2029"),pZ(""),pZ(""),pZ(""),pZ("\uFEFF")]});class hJ{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(Z){this.idx=Z.idx,this.input=Z.input,this.groupIdx=Z.groupIdx}pattern(Z){this.idx=0,this.input=Z,this.groupIdx=0,this.consumeChar("/");let Q=this.disjunction();this.consumeChar("/");let X={type:"Flags",loc:{begin:this.idx,end:Z.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":VJ(X,"global");break;case"i":VJ(X,"ignoreCase");break;case"m":VJ(X,"multiLine");break;case"u":VJ(X,"unicode");break;case"y":VJ(X,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:X,value:Q,loc:this.loc(0)}}disjunction(){let Z=[],Q=this.idx;Z.push(this.alternative());while(this.peekChar()==="|")this.consumeChar("|"),Z.push(this.alternative());return{type:"Disjunction",value:Z,loc:this.loc(Q)}}alternative(){let Z=[],Q=this.idx;while(this.isTerm())Z.push(this.term());return{type:"Alternative",value:Z,loc:this.loc(Q)}}term(){if(this.isAssertion())return this.assertion();else return this.atom()}assertion(){let Z=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(Z)};case"$":return{type:"EndAnchor",loc:this.loc(Z)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(Z)};case"B":return{type:"NonWordBoundary",loc:this.loc(Z)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let Q;switch(this.popChar()){case"=":Q="Lookahead";break;case"!":Q="NegativeLookahead";break}F7(Q);let X=this.disjunction();return this.consumeChar(")"),{type:Q,value:X,loc:this.loc(Z)}}return l8()}quantifier(Z=!1){let Q=void 0,X=this.idx;switch(this.popChar()){case"*":Q={atLeast:0,atMost:1/0};break;case"+":Q={atLeast:1,atMost:1/0};break;case"?":Q={atLeast:0,atMost:1};break;case"{":let J=this.integerIncludingZero();switch(this.popChar()){case"}":Q={atLeast:J,atMost:J};break;case",":let W;if(this.isDigit())W=this.integerIncludingZero(),Q={atLeast:J,atMost:W};else Q={atLeast:J,atMost:1/0};this.consumeChar("}");break}if(Z===!0&&Q===void 0)return;F7(Q);break}if(Z===!0&&Q===void 0)return;if(F7(Q)){if(this.peekChar(0)==="?")this.consumeChar("?"),Q.greedy=!1;else Q.greedy=!0;return Q.type="Quantifier",Q.loc=this.loc(X),Q}}atom(){let Z,Q=this.idx;switch(this.peekChar()){case".":Z=this.dotAll();break;case"\\":Z=this.atomEscape();break;case"[":Z=this.characterClass();break;case"(":Z=this.group();break}if(Z===void 0&&this.isPatternCharacter())Z=this.patternCharacter();if(F7(Z)){if(Z.loc=this.loc(Q),this.isQuantifier())Z.quantifier=this.quantifier();return Z}return l8()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[pZ(`
`),pZ("\r"),pZ("\u2028"),pZ("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let Z,Q=!1;switch(this.popChar()){case"d":Z=c8;break;case"D":Z=c8,Q=!0;break;case"s":Z=OB;break;case"S":Z=OB,Q=!0;break;case"w":Z=i8;break;case"W":Z=i8,Q=!0;break}if(F7(Z))return{type:"Set",value:Z,complement:Q};return l8()}controlEscapeAtom(){let Z;switch(this.popChar()){case"f":Z=pZ("\f");break;case"n":Z=pZ(`
`);break;case"r":Z=pZ("\r");break;case"t":Z=pZ("\t");break;case"v":Z=pZ("\v");break}if(F7(Z))return{type:"Character",value:Z};return l8()}controlLetterEscapeAtom(){this.consumeChar("c");let Z=this.popChar();if(/[a-zA-Z]/.test(Z)===!1)throw Error("Invalid ");return{type:"Character",value:Z.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:pZ("\x00")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let Z=this.popChar();return{type:"Character",value:pZ(Z)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let Z=this.popChar();return{type:"Character",value:pZ(Z)}}}characterClass(){let Z=[],Q=!1;if(this.consumeChar("["),this.peekChar(0)==="^")this.consumeChar("^"),Q=!0;while(this.isClassAtom()){let X=this.classAtom(),J=X.type==="Character";if(AB(X)&&this.isRangeDash()){this.consumeChar("-");let W=this.classAtom(),H=W.type==="Character";if(AB(W)){if(W.value<X.value)throw Error("Range out of order in character class");Z.push({from:X.value,to:W.value})}else uH(X.value,Z),Z.push(pZ("-")),uH(W.value,Z)}else uH(X.value,Z)}return this.consumeChar("]"),{type:"Set",complement:Q,value:Z}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:pZ("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let Z=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),Z=!1;break;default:this.groupIdx++;break}let Q=this.disjunction();this.consumeChar(")");let X={type:"Group",capturing:Z,value:Q};if(Z)X.idx=this.groupIdx;return X}positiveInteger(){let Z=this.popChar();if(G1.test(Z)===!1)throw Error("Expecting a positive integer");while(pH.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}integerIncludingZero(){let Z=this.popChar();if(pH.test(Z)===!1)throw Error("Expecting an integer");while(pH.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}patternCharacter(){let Z=this.popChar();switch(Z){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:pZ(Z)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return pH.test(this.peekChar(0))}isClassAtom(Z=0){switch(this.peekChar(Z)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let Z=this.saveState();try{return this.quantifier(!0)!==void 0}catch(Q){return!1}finally{this.restoreState(Z)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(Z){let Q="";for(let J=0;J<Z;J++){let W=this.popChar();if(U1.test(W)===!1)throw Error("Expecting a HexDecimal digits");Q+=W}return{type:"Character",value:parseInt(Q,16)}}peekChar(Z=0){return this.input[this.idx+Z]}popChar(){let Z=this.peekChar(0);return this.consumeChar(void 0),Z}consumeChar(Z){if(Z!==void 0&&this.input[this.idx]!==Z)throw Error("Expected: '"+Z+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(Z){return{begin:Z,end:this.idx}}}var U1,pH,G1;var wF=D(()=>{qF();U1=/[0-9a-fA-F]/,pH=/[0-9]/,G1=/[1-9]/});class K9{visitChildren(Z){for(let Q in Z){let X=Z[Q];if(Z.hasOwnProperty(Q)){if(X.type!==void 0)this.visit(X);else if(Array.isArray(X))X.forEach((J)=>{this.visit(J)},this)}}}visit(Z){switch(Z.type){case"Pattern":this.visitPattern(Z);break;case"Flags":this.visitFlags(Z);break;case"Disjunction":this.visitDisjunction(Z);break;case"Alternative":this.visitAlternative(Z);break;case"StartAnchor":this.visitStartAnchor(Z);break;case"EndAnchor":this.visitEndAnchor(Z);break;case"WordBoundary":this.visitWordBoundary(Z);break;case"NonWordBoundary":this.visitNonWordBoundary(Z);break;case"Lookahead":this.visitLookahead(Z);break;case"NegativeLookahead":this.visitNegativeLookahead(Z);break;case"Character":this.visitCharacter(Z);break;case"Set":this.visitSet(Z);break;case"Group":this.visitGroup(Z);break;case"GroupBackReference":this.visitGroupBackReference(Z);break;case"Quantifier":this.visitQuantifier(Z);break}this.visitChildren(Z)}visitPattern(Z){}visitFlags(Z){}visitDisjunction(Z){}visitAlternative(Z){}visitStartAnchor(Z){}visitEndAnchor(Z){}visitWordBoundary(Z){}visitNonWordBoundary(Z){}visitLookahead(Z){}visitNegativeLookahead(Z){}visitCharacter(Z){}visitSet(Z){}visitGroup(Z){}visitGroupBackReference(Z){}visitQuantifier(Z){}}var s8=D(()=>{wF()});var yH={};KX(yH,{whitespaceCharacters:()=>DF,partialRegExp:()=>EF,partialMatches:()=>CB,isWhitespace:()=>kJ,isMultilineComment:()=>NB,getTerminalParts:()=>z1,getCaseInsensitivePattern:()=>RB,escapeRegExp:()=>w7,NEWLINE_REGEXP:()=>PB});function z1(Z){try{if(typeof Z!=="string")Z=Z.source;Z=`/${Z}/`;let Q=MF.pattern(Z),X=[];for(let J of Q.value.value)q7.reset(Z),q7.visit(J),X.push({start:q7.startRegexp,end:q7.endRegex});return X}catch(Q){return[]}}function NB(Z){try{if(typeof Z==="string")Z=new RegExp(Z);return Z=Z.toString(),q7.reset(Z),q7.visit(MF.pattern(Z)),q7.multiline}catch(Q){return!1}}function kJ(Z){let Q=typeof Z==="string"?new RegExp(Z):Z;return DF.some((X)=>Q.test(X))}function w7(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function RB(Z){return Array.prototype.map.call(Z,(Q)=>/\w/.test(Q)?`[${Q.toLowerCase()}${Q.toUpperCase()}]`:w7(Q)).join("")}function CB(Z,Q){let X=EF(Z),J=Q.match(X);return!!J&&J[0].length>0}function EF(Z){if(typeof Z==="string")Z=new RegExp(Z);let Q=Z,X=Z.source,J=0;function W(){let H="",Y;function B(U){H+=X.substr(J,U),J+=U}function K(U){H+="(?:"+X.substr(J,U)+"|$)",J+=U}while(J<X.length)switch(X[J]){case"\\":switch(X[J+1]){case"c":K(3);break;case"x":K(4);break;case"u":if(Q.unicode)if(X[J+2]==="{")K(X.indexOf("}",J)-J+1);else K(6);else K(2);break;case"p":case"P":if(Q.unicode)K(X.indexOf("}",J)-J+1);else K(2);break;case"k":K(X.indexOf(">",J)-J+1);break;default:K(2);break}break;case"[":Y=/\[(?:\\.|.)*?\]/g,Y.lastIndex=J,Y=Y.exec(X)||[],K(Y[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":B(1);break;case"{":if(Y=/\{\d+,?\d*\}/g,Y.lastIndex=J,Y=Y.exec(X),Y)B(Y[0].length);else K(1);break;case"(":if(X[J+1]==="?")switch(X[J+2]){case":":H+="(?:",J+=3,H+=W()+"|$)";break;case"=":H+="(?=",J+=3,H+=W()+")";break;case"!":Y=J,J+=3,W(),H+=X.substr(Y,J-Y);break;case"<":switch(X[J+3]){case"=":case"!":Y=J,J+=4,W(),H+=X.substr(Y,J-Y);break;default:B(X.indexOf(">",J)-J+1),H+=W()+"|$)";break}break}else B(1),H+=W()+"|$)";break;case")":return++J,H;default:K(1);break}return H}return new RegExp(W(),Z.flags)}var PB,MF,LF,q7,DF;var mJ=D(()=>{s8();PB=/\r?\n/gm,MF=new hJ;LF=class LF extends K9{constructor(){super(...arguments);this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(Z){this.multiline=!1,this.regex=Z,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(Z){if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[]}visitCharacter(Z){let Q=String.fromCharCode(Z.value);if(!this.multiline&&Q===`
`)this.multiline=!0;if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let X=w7(Q);if(this.endRegexpStack.push(X),this.isStarting)this.startRegexp+=X}}visitSet(Z){if(!this.multiline){let Q=this.regex.substring(Z.loc.begin,Z.loc.end),X=new RegExp(Q);this.multiline=Boolean(`
`.match(X))}if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let Q=this.regex.substring(Z.loc.begin,Z.loc.end);if(this.endRegexpStack.push(Q),this.isStarting)this.startRegexp+=Q}}visitChildren(Z){if(Z.type==="Group"){if(Z.quantifier)return}super.visitChildren(Z)}};q7=new LF;DF=(`\f
\r	\v `+"\u2028\u2029\uFEFF").split("")});var $H={};KX($H,{terminalRegex:()=>pJ,isOptionalCardinality:()=>q1,isDataTypeRule:()=>r8,isDataType:()=>L1,isCommentTerminal:()=>jB,isArrayOperator:()=>M1,isArrayCardinality:()=>w1,getTypeName:()=>a8,getRuleTypeName:()=>D1,getRuleType:()=>gB,getHiddenRules:()=>OF,getExplicitRuleType:()=>uJ,getEntryRule:()=>AF,getCrossReferenceTerminal:()=>SB,getAllReachableRules:()=>n8,getActionType:()=>IF,getActionAtElement:()=>RF,findNodesForProperty:()=>fB,findNodesForKeywordInternal:()=>xB,findNodesForKeyword:()=>F1,findNodeForProperty:()=>o8,findNodeForKeyword:()=>vB,findNameAssignment:()=>dH,findAssignment:()=>bB});function AF(Z){return Z.rules.find((Q)=>CX(Q)&&Q.entry)}function OF(Z){return Z.rules.filter((Q)=>Z0(Q)&&Q.hidden)}function n8(Z,Q){let X=new Set,J=AF(Z);if(!J)return new Set(Z.rules);let W=[J].concat(OF(Z));for(let Y of W)PF(Y,X,Q);let H=new Set;for(let Y of Z.rules)if(X.has(Y.name)||Z0(Y)&&Y.hidden)H.add(Y);return H}function PF(Z,Q,X){Q.add(Z.name),b0(Z).forEach((J)=>{if(A0(J)||X&&VH(J)){let W=J.rule.ref;if(W&&!Q.has(W.name))PF(W,Q,X)}})}function SB(Z){if(Z.terminal)return Z.terminal;else if(Z.type.ref){let Q=dH(Z.type.ref);return Q===null||Q===void 0?void 0:Q.terminal}return}function jB(Z){return Z.hidden&&!kJ(pJ(Z))}function fB(Z,Q){if(!Z||!Q)return[];return TB(Z,Q,Z.astNode,!0)}function o8(Z,Q,X){if(!Z||!Q)return;let J=TB(Z,Q,Z.astNode,!0);if(J.length===0)return;if(X!==void 0)X=Math.max(0,Math.min(X,J.length-1));else X=0;return J[X]}function TB(Z,Q,X,J){if(!J){let W=z7(Z.grammarSource,E0);if(W&&W.feature===Q)return[Z]}if(L0(Z)&&Z.astNode===X)return Z.content.flatMap((W)=>TB(W,Q,X,!1));return[]}function F1(Z,Q){if(!Z)return[];return xB(Z,Q,Z===null||Z===void 0?void 0:Z.astNode)}function vB(Z,Q,X){if(!Z)return;let J=xB(Z,Q,Z===null||Z===void 0?void 0:Z.astNode);if(J.length===0)return;if(X!==void 0)X=Math.max(0,Math.min(X,J.length-1));else X=0;return J[X]}function xB(Z,Q,X){if(Z.astNode!==X)return[];if(B0(Z.grammarSource)&&Z.grammarSource.value===Q)return[Z];let J=B7(Z).iterator(),W,H=[];do if(W=J.next(),!W.done){let Y=W.value;if(Y.astNode===X){if(B0(Y.grammarSource)&&Y.grammarSource.value===Q)H.push(Y)}else J.prune()}while(!W.done);return H}function bB(Z){var Q;let X=Z.astNode;while(X===((Q=Z.container)===null||Q===void 0?void 0:Q.astNode)){let J=z7(Z.grammarSource,E0);if(J)return J;Z=Z.container}return}function dH(Z){let Q=Z;if(vH(Q))if(B9(Q.$container))Q=Q.$container.$container;else if(CX(Q.$container))Q=Q.$container;else v0(Q.$container);return NF(Z,Q,new Map)}function NF(Z,Q,X){var J;function W(H,Y){let B=void 0;if(!z7(H,E0))B=NF(Y,Y,X);return X.set(Z,B),B}if(X.has(Z))return X.get(Z);X.set(Z,void 0);for(let H of b0(Q))if(E0(H)&&H.feature.toLowerCase()==="name")return X.set(Z,H),H;else if(A0(H)&&CX(H.rule.ref))return W(H,H.rule.ref);else if(bH(H)&&((J=H.typeRef)===null||J===void 0?void 0:J.ref))return W(H,H.typeRef.ref);return}function RF(Z){let Q=Z.$container;if(_9(Q)){let X=Q.elements,J=X.indexOf(Z);for(let W=J-1;W>=0;W--){let H=X[W];if(B9(H))return H;else{let Y=b0(X[W]).find(B9);if(Y)return Y}}}if(m8(Q))return RF(Q);else return}function q1(Z,Q){return Z==="?"||Z==="*"||_9(Q)&&Boolean(Q.guardCondition)}function w1(Z){return Z==="*"||Z==="+"}function M1(Z){return Z==="+="}function r8(Z){return CF(Z,new Set)}function CF(Z,Q){if(Q.has(Z))return!0;else Q.add(Z);for(let X of b0(Z))if(A0(X)){if(!X.rule.ref)return!1;if(CX(X.rule.ref)&&!CF(X.rule.ref,Q))return!1}else if(E0(X))return!1;else if(B9(X))return!1;return Boolean(Z.definition)}function L1(Z){return _B(Z.type,new Set)}function _B(Z,Q){if(Q.has(Z))return!0;else Q.add(Z);if(e3(Z))return!1;else if(HB(Z))return!1;else if(BB(Z))return Z.types.every((X)=>_B(X,Q));else if(bH(Z))if(Z.primitiveType!==void 0)return!0;else if(Z.stringType!==void 0)return!0;else if(Z.typeRef!==void 0){let X=Z.typeRef.ref;if(u8(X))return _B(X.type,Q);else return!1}else return!1;else return!1}function uJ(Z){if(Z.inferredType)return Z.inferredType.name;else if(Z.dataType)return Z.dataType;else if(Z.returnType){let Q=Z.returnType.ref;if(Q){if(CX(Q))return Q.name;else if(xH(Q)||u8(Q))return Q.name}}return}function a8(Z){var Q;if(CX(Z))return r8(Z)?Z.name:(Q=uJ(Z))!==null&&Q!==void 0?Q:Z.name;else if(xH(Z)||u8(Z)||YB(Z))return Z.name;else if(B9(Z)){let X=IF(Z);if(X)return X}else if(vH(Z))return Z.name;throw Error("Cannot get name of Unknown Type")}function IF(Z){var Q;if(Z.inferredType)return Z.inferredType.name;else if((Q=Z.type)===null||Q===void 0?void 0:Q.ref)return a8(Z.type.ref);return}function D1(Z){var Q,X,J;if(Z0(Z))return(X=(Q=Z.type)===null||Q===void 0?void 0:Q.name)!==null&&X!==void 0?X:"string";else return r8(Z)?Z.name:(J=uJ(Z))!==null&&J!==void 0?J:Z.name}function gB(Z){var Q,X,J;if(Z0(Z))return(X=(Q=Z.type)===null||Q===void 0?void 0:Q.name)!==null&&X!==void 0?X:"string";else return(J=uJ(Z))!==null&&J!==void 0?J:Z.name}function pJ(Z){let Q={s:!1,i:!1,u:!1},X=yJ(Z.definition,Q),J=Object.entries(Q).filter(([,W])=>W).map(([W])=>W).join("");return new RegExp(X,J)}function yJ(Z,Q){if(FB(Z))return E1(Z);else if(qB(Z))return A1(Z);else if(KB(Z))return N1(Z);else if(VH(Z)){let X=Z.rule.ref;if(!X)throw Error("Missing rule reference.");return U9(yJ(X.definition),{cardinality:Z.cardinality,lookahead:Z.lookahead})}else if(GB(Z))return P1(Z);else if(wB(Z))return O1(Z);else if(zB(Z)){let X=Z.regex.lastIndexOf("/"),J=Z.regex.substring(1,X),W=Z.regex.substring(X+1);if(Q)Q.i=W.includes("i"),Q.s=W.includes("s"),Q.u=W.includes("u");return U9(J,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}else if(MB(Z))return U9(VB,{cardinality:Z.cardinality,lookahead:Z.lookahead});else throw Error(`Invalid terminal element: ${Z===null||Z===void 0?void 0:Z.$type}`)}function E1(Z){return U9(Z.elements.map((Q)=>yJ(Q)).join("|"),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function A1(Z){return U9(Z.elements.map((Q)=>yJ(Q)).join(""),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function O1(Z){return U9(`${VB}*?${yJ(Z.terminal)}`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function P1(Z){return U9(`(?!${yJ(Z.terminal)})${VB}*?`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function N1(Z){if(Z.right)return U9(`[${IB(Z.left)}-${IB(Z.right)}]`,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1});return U9(IB(Z.left),{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}function IB(Z){return w7(Z.value)}function U9(Z,Q){var X;if(Q.wrap!==!1||Q.lookahead)Z=`(${(X=Q.lookahead)!==null&&X!==void 0?X:""}${Z})`;if(Q.cardinality)return`${Z}${Q.cardinality}`;return Z}var VB;var O0=D(()=>{fH();x0();xX();D0();mJ();VB=/[\s\S]/.source});function hB(Z){let Q=[],X=Z.Grammar;for(let J of X.rules)if(Z0(J)&&jB(J)&&NB(pJ(J)))Q.push(J.name);return{multilineCommentRules:Q,nameRegexp:SH}}var kB=D(()=>{D0();O0();mJ();x0()});var R1,lH;var mB=D(()=>{R1=typeof global=="object"&&global&&global.Object===Object&&global,lH=R1});var C1,I1,eQ;var P0=D(()=>{mB();C1=typeof self=="object"&&self&&self.Object===Object&&self,I1=lH||C1||Function("return this")(),eQ=I1});var _1,UX;var M7=D(()=>{P0();_1=eQ.Symbol,UX=_1});function f1(Z){var Q=S1.call(Z,t8),X=Z[t8];try{Z[t8]=void 0;var J=!0}catch(H){}var W=j1.call(Z);if(J)if(Q)Z[t8]=X;else delete Z[t8];return W}var _F,S1,j1,t8,SF;var jF=D(()=>{M7();_F=Object.prototype,S1=_F.hasOwnProperty,j1=_F.toString,t8=UX?UX.toStringTag:void 0;SF=f1});function x1(Z){return v1.call(Z)}var T1,v1,fF;var TF=D(()=>{T1=Object.prototype,v1=T1.toString;fF=x1});function V1(Z){if(Z==null)return Z===void 0?g1:b1;return vF&&vF in Object(Z)?SF(Z):fF(Z)}var b1="[object Null]",g1="[object Undefined]",vF,bX;var S9=D(()=>{M7();jF();TF();vF=UX?UX.toStringTag:void 0;bX=V1});function h1(Z){return Z!=null&&typeof Z=="object"}var iQ;var N0=D(()=>{iQ=h1});function m1(Z){return typeof Z=="symbol"||iQ(Z)&&bX(Z)==k1}var k1="[object Symbol]",g0;var dJ=D(()=>{S9();N0();g0=m1});function u1(Z,Q){var X=-1,J=Z==null?0:Z.length,W=Array(J);while(++X<J)W[X]=Q(Z[X],X,Z);return W}var V0;var $J=D(()=>{V0=u1});var p1,TZ;var lQ=D(()=>{p1=Array.isArray,TZ=p1});function gF(Z){if(typeof Z=="string")return Z;if(TZ(Z))return V0(Z,gF)+"";if(g0(Z))return bF?bF.call(Z):"";var Q=Z+"";return Q=="0"&&1/Z==-y1?"-0":Q}var y1=1/0,xF,bF,VF;var hF=D(()=>{M7();$J();lQ();dJ();xF=UX?UX.prototype:void 0,bF=xF?xF.toString:void 0;VF=gF});function $1(Z){var Q=Z.length;while(Q--&&d1.test(Z.charAt(Q)));return Q}var d1,kF;var mF=D(()=>{d1=/\s/;kF=$1});function c1(Z){return Z?Z.slice(0,kF(Z)+1).replace(l1,""):Z}var l1,uF;var pF=D(()=>{mF();l1=/^\s+/;uF=c1});function i1(Z){var Q=typeof Z;return Z!=null&&(Q=="object"||Q=="function")}var uQ;var R0=D(()=>{uQ=i1});function a1(Z){if(typeof Z=="number")return Z;if(g0(Z))return yF;if(uQ(Z)){var Q=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=uQ(Q)?Q+"":Q}if(typeof Z!="string")return Z===0?Z:+Z;Z=uF(Z);var X=n1.test(Z);return X||o1.test(Z)?r1(Z.slice(2),X?2:8):s1.test(Z)?yF:+Z}var yF=NaN,s1,n1,o1,r1,dF;var $F=D(()=>{pF();R0();dJ();s1=/^[-+]0x[0-9a-f]+$/i,n1=/^0b[01]+$/i,o1=/^0o[0-7]+$/i,r1=parseInt;dF=a1});function e1(Z){if(!Z)return Z===0?Z:0;if(Z=dF(Z),Z===lF||Z===-lF){var Q=Z<0?-1:1;return Q*t1}return Z===Z?Z:0}var lF=1/0,t1=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,cF;var iF=D(()=>{$F();cF=e1});function ZC(Z){var Q=cF(Z),X=Q%1;return Q===Q?X?Q-X:Q:0}var h0;var lJ=D(()=>{iF();h0=ZC});function QC(Z){return Z}var dX;var L7=D(()=>{dX=QC});function YC(Z){if(!uQ(Z))return!1;var Q=bX(Z);return Q==JC||Q==WC||Q==XC||Q==HC}var XC="[object AsyncFunction]",JC="[object Function]",WC="[object GeneratorFunction]",HC="[object Proxy]",gX;var cH=D(()=>{S9();R0();gX=YC});var BC,iH;var sF=D(()=>{P0();BC=eQ["__core-js_shared__"],iH=BC});function KC(Z){return!!nF&&nF in Z}var nF,oF;var rF=D(()=>{sF();nF=function(){var Z=/[^.]+$/.exec(iH&&iH.keys&&iH.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();oF=KC});function zC(Z){if(Z!=null){try{return GC.call(Z)}catch(Q){}try{return Z+""}catch(Q){}}return""}var UC,GC,G9;var uB=D(()=>{UC=Function.prototype,GC=UC.toString;G9=zC});function AC(Z){if(!uQ(Z)||oF(Z))return!1;var Q=gX(Z)?EC:qC;return Q.test(G9(Z))}var FC,qC,wC,MC,LC,DC,EC,aF;var tF=D(()=>{cH();rF();R0();uB();FC=/[\\^$.*+?()[\]{}|]/g,qC=/^\[object .+?Constructor\]$/,wC=Function.prototype,MC=Object.prototype,LC=wC.toString,DC=MC.hasOwnProperty,EC=RegExp("^"+LC.call(DC).replace(FC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");aF=AC});function OC(Z,Q){return Z==null?void 0:Z[Q]}var eF;var Z2=D(()=>{eF=OC});function PC(Z,Q){var X=eF(Z,Q);return aF(X)?X:void 0}var $X;var j9=D(()=>{tF();Z2();$X=PC});var NC,sH;var Q2=D(()=>{j9();P0();NC=$X(eQ,"WeakMap"),sH=NC});var X2,RC,J2;var W2=D(()=>{R0();X2=Object.create,RC=function(){function Z(){}return function(Q){if(!uQ(Q))return{};if(X2)return X2(Q);Z.prototype=Q;var X=new Z;return Z.prototype=void 0,X}}(),J2=RC});function CC(Z,Q,X){switch(X.length){case 0:return Z.call(Q);case 1:return Z.call(Q,X[0]);case 2:return Z.call(Q,X[0],X[1]);case 3:return Z.call(Q,X[0],X[1],X[2])}return Z.apply(Q,X)}var H2;var Y2=D(()=>{H2=CC});function IC(){}var pQ;var pB=D(()=>{pQ=IC});function _C(Z,Q){var X=-1,J=Z.length;Q||(Q=Array(J));while(++X<J)Q[X]=Z[X];return Q}var B2;var K2=D(()=>{B2=_C});function TC(Z){var Q=0,X=0;return function(){var J=fC(),W=jC-(J-X);if(X=J,W>0){if(++Q>=SC)return arguments[0]}else Q=0;return Z.apply(void 0,arguments)}}var SC=800,jC=16,fC,U2;var G2=D(()=>{fC=Date.now;U2=TC});function vC(Z){return function(){return Z}}var z2;var F2=D(()=>{z2=vC});var xC,cJ;var yB=D(()=>{j9();xC=function(){try{var Z=$X(Object,"defineProperty");return Z({},"",{}),Z}catch(Q){}}(),cJ=xC});var bC,q2;var w2=D(()=>{F2();yB();L7();bC=!cJ?dX:function(Z,Q){return cJ(Z,"toString",{configurable:!0,enumerable:!1,value:z2(Q),writable:!0})},q2=bC});var gC,M2;var L2=D(()=>{w2();G2();gC=U2(q2),M2=gC});function VC(Z,Q){var X=-1,J=Z==null?0:Z.length;while(++X<J)if(Q(Z[X],X,Z)===!1)break;return Z}var nH;var dB=D(()=>{nH=VC});function hC(Z,Q,X,J){var W=Z.length,H=X+(J?1:-1);while(J?H--:++H<W)if(Q(Z[H],H,Z))return H;return-1}var oH;var $B=D(()=>{oH=hC});function kC(Z){return Z!==Z}var D2;var E2=D(()=>{D2=kC});function mC(Z,Q,X){var J=X-1,W=Z.length;while(++J<W)if(Z[J]===Q)return J;return-1}var A2;var O2=D(()=>{A2=mC});function uC(Z,Q,X){return Q===Q?A2(Z,Q,X):oH(Z,D2,X)}var iJ;var rH=D(()=>{$B();E2();O2();iJ=uC});function pC(Z,Q){var X=Z==null?0:Z.length;return!!X&&iJ(Z,Q,0)>-1}var aH;var lB=D(()=>{rH();aH=pC});function $C(Z,Q){var X=typeof Z;return Q=Q==null?yC:Q,!!Q&&(X=="number"||X!="symbol"&&dC.test(Z))&&(Z>-1&&Z%1==0&&Z<Q)}var yC=9007199254740991,dC,f9;var e8=D(()=>{dC=/^(?:0|[1-9]\d*)$/;f9=$C});function lC(Z,Q,X){if(Q=="__proto__"&&cJ)cJ(Z,Q,{configurable:!0,enumerable:!0,value:X,writable:!0});else Z[Q]=X}var sJ;var tH=D(()=>{yB();sJ=lC});function cC(Z,Q){return Z===Q||Z!==Z&&Q!==Q}var k0;var nJ=D(()=>{k0=cC});function nC(Z,Q,X){var J=Z[Q];if(!(sC.call(Z,Q)&&k0(J,X))||X===void 0&&!(Q in Z))sJ(Z,Q,X)}var iC,sC,T9;var ZW=D(()=>{tH();nJ();iC=Object.prototype,sC=iC.hasOwnProperty;T9=nC});function oC(Z,Q,X,J){var W=!X;X||(X={});var H=-1,Y=Q.length;while(++H<Y){var B=Q[H],K=J?J(X[B],Z[B],B,X,Z):void 0;if(K===void 0)K=Z[B];if(W)sJ(X,B,K);else T9(X,B,K)}return X}var m0;var oJ=D(()=>{ZW();tH();m0=oC});function rC(Z,Q,X){return Q=P2(Q===void 0?Z.length-1:Q,0),function(){var J=arguments,W=-1,H=P2(J.length-Q,0),Y=Array(H);while(++W<H)Y[W]=J[Q+W];W=-1;var B=Array(Q+1);while(++W<Q)B[W]=J[W];return B[Q]=X(Y),H2(Z,this,B)}}var P2,N2;var R2=D(()=>{Y2();P2=Math.max;N2=rC});function aC(Z,Q){return M2(N2(Z,Q,dX),Z+"")}var rJ;var eH=D(()=>{L7();R2();L2();rJ=aC});function eC(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=tC}var tC=9007199254740991,aJ;var Z4=D(()=>{aJ=eC});function ZI(Z){return Z!=null&&aJ(Z.length)&&!gX(Z)}var ZX;var C0=D(()=>{cH();Z4();ZX=ZI});function QI(Z,Q,X){if(!uQ(X))return!1;var J=typeof Q;if(J=="number"?ZX(X)&&f9(Q,X.length):J=="string"&&(Q in X))return k0(X[Q],Z);return!1}var v9;var QW=D(()=>{nJ();C0();e8();R0();v9=QI});function XI(Z){return rJ(function(Q,X){var J=-1,W=X.length,H=W>1?X[W-1]:void 0,Y=W>2?X[2]:void 0;if(H=Z.length>3&&typeof H=="function"?(W--,H):void 0,Y&&v9(X[0],X[1],Y))H=W<3?void 0:H,W=1;Q=Object(Q);while(++J<W){var B=X[J];if(B)Z(Q,B,J,H)}return Q})}var C2;var I2=D(()=>{eH();QW();C2=XI});function WI(Z){var Q=Z&&Z.constructor,X=typeof Q=="function"&&Q.prototype||JI;return Z===X}var JI,u0;var tJ=D(()=>{JI=Object.prototype;u0=WI});function HI(Z,Q){var X=-1,J=Array(Z);while(++X<Z)J[X]=Q(X);return J}var _2;var S2=D(()=>{_2=HI});function BI(Z){return iQ(Z)&&bX(Z)==YI}var YI="[object Arguments]",cB;var j2=D(()=>{S9();N0();cB=BI});var f2,KI,UI,GI,x9;var XW=D(()=>{j2();N0();f2=Object.prototype,KI=f2.hasOwnProperty,UI=f2.propertyIsEnumerable,GI=cB(function(){return arguments}())?cB:function(Z){return iQ(Z)&&KI.call(Z,"callee")&&!UI.call(Z,"callee")},x9=GI});function zI(){return!1}var T2;var v2=D(()=>{T2=zI});var X4={};KX(X4,{default:()=>p0});var g2,x2,FI,b2,qI,wI,p0;var JW=D(()=>{P0();v2();g2=typeof X4=="object"&&X4&&!X4.nodeType&&X4,x2=g2&&typeof Q4=="object"&&Q4&&!Q4.nodeType&&Q4,FI=x2&&x2.exports===g2,b2=FI?eQ.Buffer:void 0,qI=b2?b2.isBuffer:void 0,wI=qI||T2,p0=wI});function uI(Z){return iQ(Z)&&aJ(Z.length)&&!!SQ[bX(Z)]}var MI="[object Arguments]",LI="[object Array]",DI="[object Boolean]",EI="[object Date]",AI="[object Error]",OI="[object Function]",PI="[object Map]",NI="[object Number]",RI="[object Object]",CI="[object RegExp]",II="[object Set]",_I="[object String]",SI="[object WeakMap]",jI="[object ArrayBuffer]",fI="[object DataView]",TI="[object Float32Array]",vI="[object Float64Array]",xI="[object Int8Array]",bI="[object Int16Array]",gI="[object Int32Array]",VI="[object Uint8Array]",hI="[object Uint8ClampedArray]",kI="[object Uint16Array]",mI="[object Uint32Array]",SQ,V2;var h2=D(()=>{S9();Z4();N0();SQ={};SQ[TI]=SQ[vI]=SQ[xI]=SQ[bI]=SQ[gI]=SQ[VI]=SQ[hI]=SQ[kI]=SQ[mI]=!0;SQ[MI]=SQ[LI]=SQ[jI]=SQ[DI]=SQ[fI]=SQ[EI]=SQ[AI]=SQ[OI]=SQ[PI]=SQ[NI]=SQ[RI]=SQ[CI]=SQ[II]=SQ[_I]=SQ[SI]=!1;V2=uI});function pI(Z){return function(Q){return Z(Q)}}var y0;var eJ=D(()=>{y0=pI});var W4={};KX(W4,{default:()=>Q0});var k2,WW,yI,iB,dI,Q0;var HW=D(()=>{mB();k2=typeof W4=="object"&&W4&&!W4.nodeType&&W4,WW=k2&&typeof J4=="object"&&J4&&!J4.nodeType&&J4,yI=WW&&WW.exports===k2,iB=yI&&lH.process,dI=function(){try{var Z=WW&&WW.require&&WW.require("util").types;if(Z)return Z;return iB&&iB.binding&&iB.binding("util")}catch(Q){}}(),Q0=dI});var m2,$I,Z6;var H4=D(()=>{h2();eJ();HW();m2=Q0&&Q0.isTypedArray,$I=m2?y0(m2):V2,Z6=$I});function iI(Z,Q){var X=TZ(Z),J=!X&&x9(Z),W=!X&&!J&&p0(Z),H=!X&&!J&&!W&&Z6(Z),Y=X||J||W||H,B=Y?_2(Z.length,String):[],K=B.length;for(var U in Z)if((Q||cI.call(Z,U))&&!(Y&&(U=="length"||W&&(U=="offset"||U=="parent")||H&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||f9(U,K))))B.push(U);return B}var lI,cI,Y4;var sB=D(()=>{S2();XW();lQ();JW();e8();H4();lI=Object.prototype,cI=lI.hasOwnProperty;Y4=iI});function sI(Z,Q){return function(X){return Z(Q(X))}}var B4;var nB=D(()=>{B4=sI});var nI,u2;var p2=D(()=>{nB();nI=B4(Object.keys,Object),u2=nI});function aI(Z){if(!u0(Z))return u2(Z);var Q=[];for(var X in Object(Z))if(rI.call(Z,X)&&X!="constructor")Q.push(X);return Q}var oI,rI,K4;var oB=D(()=>{tJ();p2();oI=Object.prototype,rI=oI.hasOwnProperty;K4=aI});function tI(Z){return ZX(Z)?Y4(Z):K4(Z)}var PQ;var d0=D(()=>{sB();oB();C0();PQ=tI});var eI,Z_,Q_,wX;var y2=D(()=>{ZW();oJ();I2();C0();tJ();d0();eI=Object.prototype,Z_=eI.hasOwnProperty,Q_=C2(function(Z,Q){if(u0(Q)||ZX(Q)){m0(Q,PQ(Q),Z);return}for(var X in Q)if(Z_.call(Q,X))T9(Z,X,Q[X])}),wX=Q_});function X_(Z){var Q=[];if(Z!=null)for(var X in Object(Z))Q.push(X);return Q}var d2;var $2=D(()=>{d2=X_});function H_(Z){if(!uQ(Z))return d2(Z);var Q=u0(Z),X=[];for(var J in Z)if(!(J=="constructor"&&(Q||!W_.call(Z,J))))X.push(J);return X}var J_,W_,l2;var c2=D(()=>{R0();tJ();$2();J_=Object.prototype,W_=J_.hasOwnProperty;l2=H_});function Y_(Z){return ZX(Z)?Y4(Z,!0):l2(Z)}var b9;var YW=D(()=>{sB();c2();C0();b9=Y_});function U_(Z,Q){if(TZ(Z))return!1;var X=typeof Z;if(X=="number"||X=="symbol"||X=="boolean"||Z==null||g0(Z))return!0;return K_.test(Z)||!B_.test(Z)||Q!=null&&Z in Object(Q)}var B_,K_,Q6;var U4=D(()=>{lQ();dJ();B_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K_=/^\w*$/;Q6=U_});var G_,z9;var BW=D(()=>{j9();G_=$X(Object,"create"),z9=G_});function z_(){this.__data__=z9?z9(null):{},this.size=0}var i2;var s2=D(()=>{BW();i2=z_});function F_(Z){var Q=this.has(Z)&&delete this.__data__[Z];return this.size-=Q?1:0,Q}var n2;var o2=D(()=>{n2=F_});function L_(Z){var Q=this.__data__;if(z9){var X=Q[Z];return X===q_?void 0:X}return M_.call(Q,Z)?Q[Z]:void 0}var q_="__lodash_hash_undefined__",w_,M_,r2;var a2=D(()=>{BW();w_=Object.prototype,M_=w_.hasOwnProperty;r2=L_});function A_(Z){var Q=this.__data__;return z9?Q[Z]!==void 0:E_.call(Q,Z)}var D_,E_,t2;var e2=D(()=>{BW();D_=Object.prototype,E_=D_.hasOwnProperty;t2=A_});function P_(Z,Q){var X=this.__data__;return this.size+=this.has(Z)?0:1,X[Z]=z9&&Q===void 0?O_:Q,this}var O_="__lodash_hash_undefined__",Zq;var Qq=D(()=>{BW();Zq=P_});function X6(Z){var Q=-1,X=Z==null?0:Z.length;this.clear();while(++Q<X){var J=Z[Q];this.set(J[0],J[1])}}var rB;var Xq=D(()=>{s2();o2();a2();e2();Qq();X6.prototype.clear=i2;X6.prototype.delete=n2;X6.prototype.get=r2;X6.prototype.has=t2;X6.prototype.set=Zq;rB=X6});function N_(){this.__data__=[],this.size=0}var Jq;var Wq=D(()=>{Jq=N_});function R_(Z,Q){var X=Z.length;while(X--)if(k0(Z[X][0],Q))return X;return-1}var g9;var KW=D(()=>{nJ();g9=R_});function __(Z){var Q=this.__data__,X=g9(Q,Z);if(X<0)return!1;var J=Q.length-1;if(X==J)Q.pop();else I_.call(Q,X,1);return--this.size,!0}var C_,I_,Hq;var Yq=D(()=>{KW();C_=Array.prototype,I_=C_.splice;Hq=__});function S_(Z){var Q=this.__data__,X=g9(Q,Z);return X<0?void 0:Q[X][1]}var Bq;var Kq=D(()=>{KW();Bq=S_});function j_(Z){return g9(this.__data__,Z)>-1}var Uq;var Gq=D(()=>{KW();Uq=j_});function f_(Z,Q){var X=this.__data__,J=g9(X,Z);if(J<0)++this.size,X.push([Z,Q]);else X[J][1]=Q;return this}var zq;var Fq=D(()=>{KW();zq=f_});function J6(Z){var Q=-1,X=Z==null?0:Z.length;this.clear();while(++Q<X){var J=Z[Q];this.set(J[0],J[1])}}var V9;var UW=D(()=>{Wq();Yq();Kq();Gq();Fq();J6.prototype.clear=Jq;J6.prototype.delete=Hq;J6.prototype.get=Bq;J6.prototype.has=Uq;J6.prototype.set=zq;V9=J6});var T_,h9;var G4=D(()=>{j9();P0();T_=$X(eQ,"Map"),h9=T_});function v_(){this.size=0,this.__data__={hash:new rB,map:new(h9||V9),string:new rB}}var qq;var wq=D(()=>{Xq();UW();G4();qq=v_});function x_(Z){var Q=typeof Z;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?Z!=="__proto__":Z===null}var Mq;var Lq=D(()=>{Mq=x_});function b_(Z,Q){var X=Z.__data__;return Mq(Q)?X[typeof Q=="string"?"string":"hash"]:X.map}var k9;var GW=D(()=>{Lq();k9=b_});function g_(Z){var Q=k9(this,Z).delete(Z);return this.size-=Q?1:0,Q}var Dq;var Eq=D(()=>{GW();Dq=g_});function V_(Z){return k9(this,Z).get(Z)}var Aq;var Oq=D(()=>{GW();Aq=V_});function h_(Z){return k9(this,Z).has(Z)}var Pq;var Nq=D(()=>{GW();Pq=h_});function k_(Z,Q){var X=k9(this,Z),J=X.size;return X.set(Z,Q),this.size+=X.size==J?0:1,this}var Rq;var Cq=D(()=>{GW();Rq=k_});function W6(Z){var Q=-1,X=Z==null?0:Z.length;this.clear();while(++Q<X){var J=Z[Q];this.set(J[0],J[1])}}var D7;var z4=D(()=>{wq();Eq();Oq();Nq();Cq();W6.prototype.clear=qq;W6.prototype.delete=Dq;W6.prototype.get=Aq;W6.prototype.has=Pq;W6.prototype.set=Rq;D7=W6});function aB(Z,Q){if(typeof Z!="function"||Q!=null&&typeof Q!="function")throw TypeError(m_);var X=function(){var J=arguments,W=Q?Q.apply(this,J):J[0],H=X.cache;if(H.has(W))return H.get(W);var Y=Z.apply(this,J);return X.cache=H.set(W,Y)||H,Y};return X.cache=new(aB.Cache||D7),X}var m_="Expected a function",Iq;var _q=D(()=>{z4();aB.Cache=D7;Iq=aB});function p_(Z){var Q=Iq(Z,function(J){if(X.size===u_)X.clear();return J}),X=Q.cache;return Q}var u_=500,Sq;var jq=D(()=>{_q();Sq=p_});var y_,d_,$_,fq;var Tq=D(()=>{jq();y_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d_=/\\(\\)?/g,$_=Sq(function(Z){var Q=[];if(Z.charCodeAt(0)===46)Q.push("");return Z.replace(y_,function(X,J,W,H){Q.push(W?H.replace(d_,"$1"):J||X)}),Q}),fq=$_});function l_(Z){return Z==null?"":VF(Z)}var vq;var xq=D(()=>{hF();vq=l_});function c_(Z,Q){if(TZ(Z))return Z;return Q6(Z,Q)?[Z]:fq(vq(Z))}var m9;var zW=D(()=>{lQ();U4();Tq();xq();m9=c_});function s_(Z){if(typeof Z=="string"||g0(Z))return Z;var Q=Z+"";return Q=="0"&&1/Z==-i_?"-0":Q}var i_=1/0,$0;var H6=D(()=>{dJ();$0=s_});function n_(Z,Q){Q=m9(Q,Z);var X=0,J=Q.length;while(Z!=null&&X<J)Z=Z[$0(Q[X++])];return X&&X==J?Z:void 0}var Y6;var F4=D(()=>{zW();H6();Y6=n_});function o_(Z,Q,X){var J=Z==null?void 0:Y6(Z,Q);return J===void 0?X:J}var bq;var gq=D(()=>{F4();bq=o_});function r_(Z,Q){var X=-1,J=Q.length,W=Z.length;while(++X<J)Z[W+X]=Q[X];return Z}var B6;var q4=D(()=>{B6=r_});function a_(Z){return TZ(Z)||x9(Z)||!!(Vq&&Z&&Z[Vq])}var Vq,hq;var kq=D(()=>{M7();XW();lQ();Vq=UX?UX.isConcatSpreadable:void 0;hq=a_});function mq(Z,Q,X,J,W){var H=-1,Y=Z.length;X||(X=hq),W||(W=[]);while(++H<Y){var B=Z[H];if(Q>0&&X(B))if(Q>1)mq(B,Q-1,X,J,W);else B6(W,B);else if(!J)W[W.length]=B}return W}var K6;var w4=D(()=>{q4();kq();K6=mq});function t_(Z){var Q=Z==null?0:Z.length;return Q?K6(Z,1):[]}var sQ;var tB=D(()=>{w4();sQ=t_});var e_,M4;var eB=D(()=>{nB();e_=B4(Object.getPrototypeOf,Object),M4=e_});function ZS(Z,Q,X){var J=-1,W=Z.length;if(Q<0)Q=-Q>W?0:W+Q;if(X=X>W?W:X,X<0)X+=W;W=Q>X?0:X-Q>>>0,Q>>>=0;var H=Array(W);while(++J<W)H[J]=Z[J+Q];return H}var L4;var ZK=D(()=>{L4=ZS});function QS(Z,Q,X,J){var W=-1,H=Z==null?0:Z.length;if(J&&H)X=Z[++W];while(++W<H)X=Q(X,Z[W],W,Z);return X}var uq;var pq=D(()=>{uq=QS});function XS(){this.__data__=new V9,this.size=0}var yq;var dq=D(()=>{UW();yq=XS});function JS(Z){var Q=this.__data__,X=Q.delete(Z);return this.size=Q.size,X}var $q;var lq=D(()=>{$q=JS});function WS(Z){return this.__data__.get(Z)}var cq;var iq=D(()=>{cq=WS});function HS(Z){return this.__data__.has(Z)}var sq;var nq=D(()=>{sq=HS});function BS(Z,Q){var X=this.__data__;if(X instanceof V9){var J=X.__data__;if(!h9||J.length<YS-1)return J.push([Z,Q]),this.size=++X.size,this;X=this.__data__=new D7(J)}return X.set(Z,Q),this.size=X.size,this}var YS=200,oq;var rq=D(()=>{UW();G4();z4();oq=BS});function U6(Z){var Q=this.__data__=new V9(Z);this.size=Q.size}var u9;var D4=D(()=>{UW();dq();lq();iq();nq();rq();U6.prototype.clear=yq;U6.prototype.delete=$q;U6.prototype.get=cq;U6.prototype.has=sq;U6.prototype.set=oq;u9=U6});function KS(Z,Q){return Z&&m0(Q,PQ(Q),Z)}var aq;var tq=D(()=>{oJ();d0();aq=KS});function US(Z,Q){return Z&&m0(Q,b9(Q),Z)}var eq;var Zw=D(()=>{oJ();YW();eq=US});var A4={};KX(A4,{default:()=>QK});function zS(Z,Q){if(Q)return Z.slice();var X=Z.length,J=Jw?Jw(X):new Z.constructor(X);return Z.copy(J),J}var Ww,Qw,GS,Xw,Jw,QK;var Hw=D(()=>{P0();Ww=typeof A4=="object"&&A4&&!A4.nodeType&&A4,Qw=Ww&&typeof E4=="object"&&E4&&!E4.nodeType&&E4,GS=Qw&&Qw.exports===Ww,Xw=GS?eQ.Buffer:void 0,Jw=Xw?Xw.allocUnsafe:void 0;QK=zS});function FS(Z,Q){var X=-1,J=Z==null?0:Z.length,W=0,H=[];while(++X<J){var Y=Z[X];if(Q(Y,X,Z))H[W++]=Y}return H}var G6;var O4=D(()=>{G6=FS});function qS(){return[]}var P4;var XK=D(()=>{P4=qS});var wS,MS,Yw,LS,z6;var N4=D(()=>{O4();XK();wS=Object.prototype,MS=wS.propertyIsEnumerable,Yw=Object.getOwnPropertySymbols,LS=!Yw?P4:function(Z){if(Z==null)return[];return Z=Object(Z),G6(Yw(Z),function(Q){return MS.call(Z,Q)})},z6=LS});function DS(Z,Q){return m0(Z,z6(Z),Q)}var Bw;var Kw=D(()=>{oJ();N4();Bw=DS});var ES,AS,R4;var JK=D(()=>{q4();eB();N4();XK();ES=Object.getOwnPropertySymbols,AS=!ES?P4:function(Z){var Q=[];while(Z)B6(Q,z6(Z)),Z=M4(Z);return Q},R4=AS});function OS(Z,Q){return m0(Z,R4(Z),Q)}var Uw;var Gw=D(()=>{oJ();JK();Uw=OS});function PS(Z,Q,X){var J=Q(Z);return TZ(Z)?J:B6(J,X(Z))}var C4;var WK=D(()=>{q4();lQ();C4=PS});function NS(Z){return C4(Z,PQ,z6)}var FW;var HK=D(()=>{WK();N4();d0();FW=NS});function RS(Z){return C4(Z,b9,R4)}var I4;var YK=D(()=>{WK();JK();YW();I4=RS});var CS,_4;var zw=D(()=>{j9();P0();CS=$X(eQ,"DataView"),_4=CS});var IS,S4;var Fw=D(()=>{j9();P0();IS=$X(eQ,"Promise"),S4=IS});var _S,p9;var BK=D(()=>{j9();P0();_S=$X(eQ,"Set"),p9=_S});var qw="[object Map]",SS="[object Object]",ww="[object Promise]",Mw="[object Set]",Lw="[object WeakMap]",Dw="[object DataView]",jS,fS,TS,vS,xS,E7,I0;var F6=D(()=>{zw();G4();Fw();BK();Q2();S9();uB();jS=G9(_4),fS=G9(h9),TS=G9(S4),vS=G9(p9),xS=G9(sH),E7=bX;if(_4&&E7(new _4(new ArrayBuffer(1)))!=Dw||h9&&E7(new h9)!=qw||S4&&E7(S4.resolve())!=ww||p9&&E7(new p9)!=Mw||sH&&E7(new sH)!=Lw)E7=function(Z){var Q=bX(Z),X=Q==SS?Z.constructor:void 0,J=X?G9(X):"";if(J)switch(J){case jS:return Dw;case fS:return qw;case TS:return ww;case vS:return Mw;case xS:return Lw}return Q};I0=E7});function VS(Z){var Q=Z.length,X=new Z.constructor(Q);if(Q&&typeof Z[0]=="string"&&gS.call(Z,"index"))X.index=Z.index,X.input=Z.input;return X}var bS,gS,Ew;var Aw=D(()=>{bS=Object.prototype,gS=bS.hasOwnProperty;Ew=VS});var hS,q6;var KK=D(()=>{P0();hS=eQ.Uint8Array,q6=hS});function kS(Z){var Q=new Z.constructor(Z.byteLength);return new q6(Q).set(new q6(Z)),Q}var w6;var j4=D(()=>{KK();w6=kS});function mS(Z,Q){var X=Q?w6(Z.buffer):Z.buffer;return new Z.constructor(X,Z.byteOffset,Z.byteLength)}var Ow;var Pw=D(()=>{j4();Ow=mS});function pS(Z){var Q=new Z.constructor(Z.source,uS.exec(Z));return Q.lastIndex=Z.lastIndex,Q}var uS,Nw;var Rw=D(()=>{uS=/\w*$/;Nw=pS});function yS(Z){return Iw?Object(Iw.call(Z)):{}}var Cw,Iw,_w;var Sw=D(()=>{M7();Cw=UX?UX.prototype:void 0,Iw=Cw?Cw.valueOf:void 0;_w=yS});function dS(Z,Q){var X=Q?w6(Z.buffer):Z.buffer;return new Z.constructor(X,Z.byteOffset,Z.length)}var jw;var fw=D(()=>{j4();jw=dS});function Kj(Z,Q,X){var J=Z.constructor;switch(Q){case aS:return w6(Z);case $S:case lS:return new J(+Z);case tS:return Ow(Z,X);case eS:case Zj:case Qj:case Xj:case Jj:case Wj:case Hj:case Yj:case Bj:return jw(Z,X);case cS:return new J;case iS:case oS:return new J(Z);case sS:return Nw(Z);case nS:return new J;case rS:return _w(Z)}}var $S="[object Boolean]",lS="[object Date]",cS="[object Map]",iS="[object Number]",sS="[object RegExp]",nS="[object Set]",oS="[object String]",rS="[object Symbol]",aS="[object ArrayBuffer]",tS="[object DataView]",eS="[object Float32Array]",Zj="[object Float64Array]",Qj="[object Int8Array]",Xj="[object Int16Array]",Jj="[object Int32Array]",Wj="[object Uint8Array]",Hj="[object Uint8ClampedArray]",Yj="[object Uint16Array]",Bj="[object Uint32Array]",Tw;var vw=D(()=>{j4();Pw();Rw();Sw();fw();Tw=Kj});function Uj(Z){return typeof Z.constructor=="function"&&!u0(Z)?J2(M4(Z)):{}}var xw;var bw=D(()=>{W2();eB();tJ();xw=Uj});function zj(Z){return iQ(Z)&&I0(Z)==Gj}var Gj="[object Map]",gw;var Vw=D(()=>{F6();N0();gw=zj});var hw,Fj,kw;var mw=D(()=>{Vw();eJ();HW();hw=Q0&&Q0.isMap,Fj=hw?y0(hw):gw,kw=Fj});function wj(Z){return iQ(Z)&&I0(Z)==qj}var qj="[object Set]",uw;var pw=D(()=>{F6();N0();uw=wj});var yw,Mj,dw;var $w=D(()=>{pw();eJ();HW();yw=Q0&&Q0.isSet,Mj=yw?y0(yw):uw,dw=Mj});function f4(Z,Q,X,J,W,H){var Y,B=Q&Lj,K=Q&Dj,U=Q&Ej;if(X)Y=W?X(Z,J,W,H):X(Z);if(Y!==void 0)return Y;if(!uQ(Z))return Z;var G=TZ(Z);if(G){if(Y=Ew(Z),!B)return B2(Z,Y)}else{var z=I0(Z),F=z==cw||z==Rj;if(p0(Z))return QK(Z,B);if(z==iw||z==lw||F&&!W){if(Y=K||F?{}:xw(Z),!B)return K?Uw(Z,eq(Y,Z)):Bw(Z,aq(Y,Z))}else{if(!NQ[z])return W?Z:{};Y=Tw(Z,z,B)}}H||(H=new u9);var q=H.get(Z);if(q)return q;if(H.set(Z,Y),dw(Z))Z.forEach(function(k){Y.add(f4(k,Q,X,k,Z,H))});else if(kw(Z))Z.forEach(function(k,T){Y.set(T,f4(k,Q,X,T,Z,H))});var L=U?K?I4:FW:K?b9:PQ,A=G?void 0:L(Z);return nH(A||Z,function(k,T){if(A)T=k,k=Z[T];T9(Y,T,f4(k,Q,X,T,Z,H))}),Y}var Lj=1,Dj=2,Ej=4,lw="[object Arguments]",Aj="[object Array]",Oj="[object Boolean]",Pj="[object Date]",Nj="[object Error]",cw="[object Function]",Rj="[object GeneratorFunction]",Cj="[object Map]",Ij="[object Number]",iw="[object Object]",_j="[object RegExp]",Sj="[object Set]",jj="[object String]",fj="[object Symbol]",Tj="[object WeakMap]",vj="[object ArrayBuffer]",xj="[object DataView]",bj="[object Float32Array]",gj="[object Float64Array]",Vj="[object Int8Array]",hj="[object Int16Array]",kj="[object Int32Array]",mj="[object Uint8Array]",uj="[object Uint8ClampedArray]",pj="[object Uint16Array]",yj="[object Uint32Array]",NQ,sw;var nw=D(()=>{D4();dB();ZW();tq();Zw();Hw();K2();Kw();Gw();HK();YK();F6();Aw();vw();bw();lQ();JW();mw();R0();$w();d0();YW();NQ={};NQ[lw]=NQ[Aj]=NQ[vj]=NQ[xj]=NQ[Oj]=NQ[Pj]=NQ[bj]=NQ[gj]=NQ[Vj]=NQ[hj]=NQ[kj]=NQ[Cj]=NQ[Ij]=NQ[iw]=NQ[_j]=NQ[Sj]=NQ[jj]=NQ[fj]=NQ[mj]=NQ[uj]=NQ[pj]=NQ[yj]=!0;NQ[Nj]=NQ[cw]=NQ[Tj]=!1;sw=f4});function $j(Z){return sw(Z,dj)}var dj=4,RQ;var ow=D(()=>{nw();RQ=$j});function lj(Z){var Q=-1,X=Z==null?0:Z.length,J=0,W=[];while(++Q<X){var H=Z[Q];if(H)W[J++]=H}return W}var l0;var rw=D(()=>{l0=lj});function ij(Z){return this.__data__.set(Z,cj),this}var cj="__lodash_hash_undefined__",aw;var tw=D(()=>{aw=ij});function sj(Z){return this.__data__.has(Z)}var ew;var ZM=D(()=>{ew=sj});function T4(Z){var Q=-1,X=Z==null?0:Z.length;this.__data__=new D7;while(++Q<X)this.add(Z[Q])}var M6;var v4=D(()=>{z4();tw();ZM();T4.prototype.add=T4.prototype.push=aw;T4.prototype.has=ew;M6=T4});function nj(Z,Q){var X=-1,J=Z==null?0:Z.length;while(++X<J)if(Q(Z[X],X,Z))return!0;return!1}var x4;var UK=D(()=>{x4=nj});function oj(Z,Q){return Z.has(Q)}var L6;var b4=D(()=>{L6=oj});function tj(Z,Q,X,J,W,H){var Y=X&rj,B=Z.length,K=Q.length;if(B!=K&&!(Y&&K>B))return!1;var U=H.get(Z),G=H.get(Q);if(U&&G)return U==Q&&G==Z;var z=-1,F=!0,q=X&aj?new M6:void 0;H.set(Z,Q),H.set(Q,Z);while(++z<B){var L=Z[z],A=Q[z];if(J)var k=Y?J(A,L,z,Q,Z,H):J(L,A,z,Z,Q,H);if(k!==void 0){if(k)continue;F=!1;break}if(q){if(!x4(Q,function(T,p){if(!L6(q,p)&&(L===T||W(L,T,X,J,H)))return q.push(p)})){F=!1;break}}else if(!(L===A||W(L,A,X,J,H))){F=!1;break}}return H.delete(Z),H.delete(Q),F}var rj=1,aj=2,g4;var GK=D(()=>{v4();UK();b4();g4=tj});function ej(Z){var Q=-1,X=Array(Z.size);return Z.forEach(function(J,W){X[++Q]=[W,J]}),X}var QM;var XM=D(()=>{QM=ej});function Zf(Z){var Q=-1,X=Array(Z.size);return Z.forEach(function(J){X[++Q]=J}),X}var D6;var V4=D(()=>{D6=Zf});function wf(Z,Q,X,J,W,H,Y){switch(X){case qf:if(Z.byteLength!=Q.byteLength||Z.byteOffset!=Q.byteOffset)return!1;Z=Z.buffer,Q=Q.buffer;case Ff:if(Z.byteLength!=Q.byteLength||!H(new q6(Z),new q6(Q)))return!1;return!0;case Jf:case Wf:case Bf:return k0(+Z,+Q);case Hf:return Z.name==Q.name&&Z.message==Q.message;case Kf:case Gf:return Z==Q+"";case Yf:var B=QM;case Uf:var K=J&Qf;if(B||(B=D6),Z.size!=Q.size&&!K)return!1;var U=Y.get(Z);if(U)return U==Q;J|=Xf,Y.set(Z,Q);var G=g4(B(Z),B(Q),J,W,H,Y);return Y.delete(Z),G;case zf:if(zK)return zK.call(Z)==zK.call(Q)}return!1}var Qf=1,Xf=2,Jf="[object Boolean]",Wf="[object Date]",Hf="[object Error]",Yf="[object Map]",Bf="[object Number]",Kf="[object RegExp]",Uf="[object Set]",Gf="[object String]",zf="[object Symbol]",Ff="[object ArrayBuffer]",qf="[object DataView]",JM,zK,WM;var HM=D(()=>{M7();KK();nJ();GK();XM();V4();JM=UX?UX.prototype:void 0,zK=JM?JM.valueOf:void 0;WM=wf});function Ef(Z,Q,X,J,W,H){var Y=X&Mf,B=FW(Z),K=B.length,U=FW(Q),G=U.length;if(K!=G&&!Y)return!1;var z=K;while(z--){var F=B[z];if(!(Y?F in Q:Df.call(Q,F)))return!1}var q=H.get(Z),L=H.get(Q);if(q&&L)return q==Q&&L==Z;var A=!0;H.set(Z,Q),H.set(Q,Z);var k=Y;while(++z<K){F=B[z];var T=Z[F],p=Q[F];if(J)var s=Y?J(p,T,F,Q,Z,H):J(T,p,F,Z,Q,H);if(!(s===void 0?T===p||W(T,p,X,J,H):s)){A=!1;break}k||(k=F=="constructor")}if(A&&!k){var y=Z.constructor,C=Q.constructor;if(y!=C&&(("constructor"in Z)&&("constructor"in Q))&&!(typeof y=="function"&&y instanceof y&&typeof C=="function"&&C instanceof C))A=!1}return H.delete(Z),H.delete(Q),A}var Mf=1,Lf,Df,YM;var BM=D(()=>{HK();Lf=Object.prototype,Df=Lf.hasOwnProperty;YM=Ef});function Pf(Z,Q,X,J,W,H){var Y=TZ(Z),B=TZ(Q),K=Y?UM:I0(Z),U=B?UM:I0(Q);K=K==KM?h4:K,U=U==KM?h4:U;var G=K==h4,z=U==h4,F=K==U;if(F&&p0(Z)){if(!p0(Q))return!1;Y=!0,G=!1}if(F&&!G)return H||(H=new u9),Y||Z6(Z)?g4(Z,Q,X,J,W,H):WM(Z,Q,K,X,J,W,H);if(!(X&Af)){var q=G&&GM.call(Z,"__wrapped__"),L=z&&GM.call(Q,"__wrapped__");if(q||L){var A=q?Z.value():Z,k=L?Q.value():Q;return H||(H=new u9),W(A,k,X,J,H)}}if(!F)return!1;return H||(H=new u9),YM(Z,Q,X,J,W,H)}var Af=1,KM="[object Arguments]",UM="[object Array]",h4="[object Object]",Of,GM,zM;var FM=D(()=>{D4();GK();HM();BM();F6();lQ();JW();H4();Of=Object.prototype,GM=Of.hasOwnProperty;zM=Pf});function qM(Z,Q,X,J,W){if(Z===Q)return!0;if(Z==null||Q==null||!iQ(Z)&&!iQ(Q))return Z!==Z&&Q!==Q;return zM(Z,Q,X,J,qM,W)}var k4;var FK=D(()=>{FM();N0();k4=qM});function Cf(Z,Q,X,J){var W=X.length,H=W,Y=!J;if(Z==null)return!H;Z=Object(Z);while(W--){var B=X[W];if(Y&&B[2]?B[1]!==Z[B[0]]:!(B[0]in Z))return!1}while(++W<H){B=X[W];var K=B[0],U=Z[K],G=B[1];if(Y&&B[2]){if(U===void 0&&!(K in Z))return!1}else{var z=new u9;if(J)var F=J(U,G,K,Z,Q,z);if(!(F===void 0?k4(G,U,Nf|Rf,J,z):F))return!1}}return!0}var Nf=1,Rf=2,wM;var MM=D(()=>{D4();FK();wM=Cf});function If(Z){return Z===Z&&!uQ(Z)}var m4;var qK=D(()=>{R0();m4=If});function _f(Z){var Q=PQ(Z),X=Q.length;while(X--){var J=Q[X],W=Z[J];Q[X]=[J,W,m4(W)]}return Q}var LM;var DM=D(()=>{qK();d0();LM=_f});function Sf(Z,Q){return function(X){if(X==null)return!1;return X[Z]===Q&&(Q!==void 0||(Z in Object(X)))}}var u4;var wK=D(()=>{u4=Sf});function jf(Z){var Q=LM(Z);if(Q.length==1&&Q[0][2])return u4(Q[0][0],Q[0][1]);return function(X){return X===Z||wM(X,Z,Q)}}var EM;var AM=D(()=>{MM();DM();wK();EM=jf});function ff(Z,Q){return Z!=null&&Q in Object(Z)}var OM;var PM=D(()=>{OM=ff});function Tf(Z,Q,X){Q=m9(Q,Z);var J=-1,W=Q.length,H=!1;while(++J<W){var Y=$0(Q[J]);if(!(H=Z!=null&&X(Z,Y)))break;Z=Z[Y]}if(H||++J!=W)return H;return W=Z==null?0:Z.length,!!W&&aJ(W)&&f9(Y,W)&&(TZ(Z)||x9(Z))}var p4;var MK=D(()=>{zW();XW();lQ();e8();Z4();H6();p4=Tf});function vf(Z,Q){return Z!=null&&p4(Z,Q,OM)}var NM;var RM=D(()=>{PM();MK();NM=vf});function gf(Z,Q){if(Q6(Z)&&m4(Q))return u4($0(Z),Q);return function(X){var J=bq(X,Z);return J===void 0&&J===Q?NM(X,Z):k4(Q,J,xf|bf)}}var xf=1,bf=2,CM;var IM=D(()=>{FK();gq();RM();U4();qK();wK();H6();CM=gf});function Vf(Z){return function(Q){return Q==null?void 0:Q[Z]}}var _M;var SM=D(()=>{_M=Vf});function hf(Z){return function(Q){return Y6(Q,Z)}}var jM;var fM=D(()=>{F4();jM=hf});function kf(Z){return Q6(Z)?_M($0(Z)):jM(Z)}var TM;var vM=D(()=>{SM();fM();U4();H6();TM=kf});function mf(Z){if(typeof Z=="function")return Z;if(Z==null)return dX;if(typeof Z=="object")return TZ(Z)?CM(Z[0],Z[1]):EM(Z);return TM(Z)}var cQ;var U0=D(()=>{AM();IM();L7();lQ();vM();cQ=mf});function uf(Z,Q,X,J){var W=-1,H=Z==null?0:Z.length;while(++W<H){var Y=Z[W];Q(J,Y,X(Y),Z)}return J}var xM;var bM=D(()=>{xM=uf});function pf(Z){return function(Q,X,J){var W=-1,H=Object(Q),Y=J(Q),B=Y.length;while(B--){var K=Y[Z?B:++W];if(X(H[K],K,H)===!1)break}return Q}}var gM;var VM=D(()=>{gM=pf});var yf,hM;var kM=D(()=>{VM();yf=gM(),hM=yf});function df(Z,Q){return Z&&hM(Z,Q,PQ)}var mM;var uM=D(()=>{kM();d0();mM=df});function $f(Z,Q){return function(X,J){if(X==null)return X;if(!ZX(X))return Z(X,J);var W=X.length,H=Q?W:-1,Y=Object(X);while(Q?H--:++H<W)if(J(Y[H],H,Y)===!1)break;return X}}var pM;var yM=D(()=>{C0();pM=$f});var lf,lX;var y9=D(()=>{uM();yM();lf=pM(mM),lX=lf});function cf(Z,Q,X,J){return lX(Z,function(W,H,Y){Q(J,W,X(W),Y)}),J}var dM;var $M=D(()=>{y9();dM=cf});function sf(Z,Q){return function(X,J){var W=TZ(X)?xM:dM,H=Q?Q():{};return W(X,Z,cQ(J,2),H)}}var lM;var cM=D(()=>{bM();$M();U0();lQ();lM=sf});var iM,nf,of,E6;var sM=D(()=>{eH();nJ();QW();YW();iM=Object.prototype,nf=iM.hasOwnProperty,of=rJ(function(Z,Q){Z=Object(Z);var X=-1,J=Q.length,W=J>2?Q[2]:void 0;if(W&&v9(Q[0],Q[1],W))J=1;while(++X<J){var H=Q[X],Y=b9(H),B=-1,K=Y.length;while(++B<K){var U=Y[B],G=Z[U];if(G===void 0||k0(G,iM[U])&&!nf.call(Z,U))Z[U]=H[U]}}return Z}),E6=of});function rf(Z){return iQ(Z)&&ZX(Z)}var LK;var nM=D(()=>{C0();N0();LK=rf});function af(Z,Q,X){var J=-1,W=Z==null?0:Z.length;while(++J<W)if(X(Q,Z[J]))return!0;return!1}var y4;var DK=D(()=>{y4=af});function ef(Z,Q,X,J){var W=-1,H=aH,Y=!0,B=Z.length,K=[],U=Q.length;if(!B)return K;if(X)Q=V0(Q,y0(X));if(J)H=y4,Y=!1;else if(Q.length>=tf)H=L6,Y=!1,Q=new M6(Q);Z:while(++W<B){var G=Z[W],z=X==null?G:X(G);if(G=J||G!==0?G:0,Y&&z===z){var F=U;while(F--)if(Q[F]===z)continue Z;K.push(G)}else if(!H(Q,z,J))K.push(G)}return K}var tf=200,oM;var rM=D(()=>{v4();lB();DK();$J();eJ();b4();oM=ef});var ZT,d9;var aM=D(()=>{rM();w4();eH();nM();ZT=rJ(function(Z,Q){return LK(Z)?oM(Z,K6(Q,1,LK,!0)):[]}),d9=ZT});function QT(Z){var Q=Z==null?0:Z.length;return Q?Z[Q-1]:void 0}var c0;var tM=D(()=>{c0=QT});function XT(Z,Q,X){var J=Z==null?0:Z.length;if(!J)return[];return Q=X||Q===void 0?1:h0(Q),L4(Z,Q<0?0:Q,J)}var nQ;var eM=D(()=>{ZK();lJ();nQ=XT});function JT(Z,Q,X){var J=Z==null?0:Z.length;if(!J)return[];return Q=X||Q===void 0?1:h0(Q),Q=J-Q,L4(Z,0,Q<0?0:Q)}var F9;var ZL=D(()=>{ZK();lJ();F9=JT});function WT(Z){return typeof Z=="function"?Z:dX}var QL;var XL=D(()=>{L7();QL=WT});function HT(Z,Q){var X=TZ(Z)?nH:lX;return X(Z,QL(Q))}var SZ;var EK=D(()=>{dB();y9();XL();lQ();SZ=HT});function YT(Z,Q){var X=-1,J=Z==null?0:Z.length;while(++X<J)if(!Q(Z[X],X,Z))return!1;return!0}var JL;var WL=D(()=>{JL=YT});function BT(Z,Q){var X=!0;return lX(Z,function(J,W,H){return X=!!Q(J,W,H),X}),X}var HL;var YL=D(()=>{y9();HL=BT});function KT(Z,Q,X){var J=TZ(Z)?JL:HL;if(X&&v9(Z,Q,X))Q=void 0;return J(Z,cQ(Q,3))}var _X;var BL=D(()=>{WL();YL();U0();lQ();QW();_X=KT});function UT(Z,Q){var X=[];return lX(Z,function(J,W,H){if(Q(J,W,H))X.push(J)}),X}var d4;var AK=D(()=>{y9();d4=UT});function GT(Z,Q){var X=TZ(Z)?G6:d4;return X(Z,cQ(Q,3))}var GX;var OK=D(()=>{O4();AK();U0();lQ();GX=GT});function zT(Z){return function(Q,X,J){var W=Object(Q);if(!ZX(Q)){var H=cQ(X,3);Q=PQ(Q),X=function(B){return H(W[B],B,W)}}var Y=Z(Q,X,J);return Y>-1?W[H?Q[Y]:Y]:void 0}}var KL;var UL=D(()=>{U0();C0();d0();KL=zT});function qT(Z,Q,X){var J=Z==null?0:Z.length;if(!J)return-1;var W=X==null?0:h0(X);if(W<0)W=FT(J+W,0);return oH(Z,cQ(Q,3),W)}var FT,GL;var zL=D(()=>{$B();U0();lJ();FT=Math.max;GL=qT});var wT,i0;var FL=D(()=>{UL();zL();wT=KL(GL),i0=wT});function MT(Z){return Z&&Z.length?Z[0]:void 0}var zX;var qL=D(()=>{zX=MT});var wL=D(()=>{qL()});function LT(Z,Q){var X=-1,J=ZX(Z)?Array(Z.length):[];return lX(Z,function(W,H,Y){J[++X]=Q(W,H,Y)}),J}var ML;var LL=D(()=>{y9();C0();ML=LT});function DT(Z,Q){var X=TZ(Z)?V0:ML;return X(Z,cQ(Q,3))}var CZ;var A6=D(()=>{$J();U0();LL();lQ();CZ=DT});function ET(Z,Q){return K6(CZ(Z,Q),1)}var MX;var PK=D(()=>{w4();A6();MX=ET});var AT,OT,PT,NK;var DL=D(()=>{tH();cM();AT=Object.prototype,OT=AT.hasOwnProperty,PT=lM(function(Z,Q,X){if(OT.call(Z,X))Z[X].push(Q);else sJ(Z,X,[Q])}),NK=PT});function CT(Z,Q){return Z!=null&&RT.call(Z,Q)}var NT,RT,EL;var AL=D(()=>{NT=Object.prototype,RT=NT.hasOwnProperty;EL=CT});function IT(Z,Q){return Z!=null&&p4(Z,Q,EL)}var fZ;var OL=D(()=>{AL();MK();fZ=IT});function ST(Z){return typeof Z=="string"||!TZ(Z)&&iQ(Z)&&bX(Z)==_T}var _T="[object String]",WX;var RK=D(()=>{S9();lQ();N0();WX=ST});function jT(Z,Q){return V0(Q,function(X){return Z[X]})}var PL;var NL=D(()=>{$J();PL=jT});function fT(Z){return Z==null?[]:PL(Z,PQ(Z))}var DQ;var CK=D(()=>{NL();d0();DQ=fT});function vT(Z,Q,X,J){Z=ZX(Z)?Z:DQ(Z),X=X&&!J?h0(X):0;var W=Z.length;if(X<0)X=TT(W+X,0);return WX(Z)?X<=W&&Z.indexOf(Q,X)>-1:!!W&&iJ(Z,Q,X)>-1}var TT,bQ;var RL=D(()=>{rH();C0();RK();lJ();CK();TT=Math.max;bQ=vT});function bT(Z,Q,X){var J=Z==null?0:Z.length;if(!J)return-1;var W=X==null?0:h0(X);if(W<0)W=xT(J+W,0);return iJ(Z,Q,W)}var xT,$4;var CL=D(()=>{rH();lJ();xT=Math.max;$4=bT});function mT(Z){if(Z==null)return!0;if(ZX(Z)&&(TZ(Z)||typeof Z=="string"||typeof Z.splice=="function"||p0(Z)||Z6(Z)||x9(Z)))return!Z.length;var Q=I0(Z);if(Q==gT||Q==VT)return!Z.size;if(u0(Z))return!K4(Z).length;for(var X in Z)if(kT.call(Z,X))return!1;return!0}var gT="[object Map]",VT="[object Set]",hT,kT,oZ;var IK=D(()=>{oB();F6();XW();lQ();C0();JW();tJ();H4();hT=Object.prototype,kT=hT.hasOwnProperty;oZ=mT});function pT(Z){return iQ(Z)&&bX(Z)==uT}var uT="[object RegExp]",IL;var _L=D(()=>{S9();N0();IL=pT});var SL,yT,G0;var jL=D(()=>{_L();eJ();HW();SL=Q0&&Q0.isRegExp,yT=SL?y0(SL):IL,G0=yT});function dT(Z){return Z===void 0}var SX;var fL=D(()=>{SX=dT});function $T(Z,Q){return Z<Q}var TL;var vL=D(()=>{TL=$T});function lT(Z,Q,X){var J=-1,W=Z.length;while(++J<W){var H=Z[J],Y=Q(H);if(Y!=null&&(B===void 0?Y===Y&&!g0(Y):X(Y,B)))var B=Y,K=H}return K}var xL;var bL=D(()=>{dJ();xL=lT});function cT(Z){return Z&&Z.length?xL(Z,dX,TL):void 0}var gL;var VL=D(()=>{bL();vL();L7();gL=cT});function sT(Z){if(typeof Z!="function")throw TypeError(iT);return function(){var Q=arguments;switch(Q.length){case 0:return!Z.call(this);case 1:return!Z.call(this,Q[0]);case 2:return!Z.call(this,Q[0],Q[1]);case 3:return!Z.call(this,Q[0],Q[1],Q[2])}return!Z.apply(this,Q)}}var iT="Expected a function",hL;var kL=D(()=>{hL=sT});function nT(Z,Q,X,J){if(!uQ(Z))return Z;Q=m9(Q,Z);var W=-1,H=Q.length,Y=H-1,B=Z;while(B!=null&&++W<H){var K=$0(Q[W]),U=X;if(K==="__proto__"||K==="constructor"||K==="prototype")return Z;if(W!=Y){var G=B[K];if(U=J?J(G,K,B):void 0,U===void 0)U=uQ(G)?G:f9(Q[W+1])?[]:{}}T9(B,K,U),B=B[K]}return Z}var mL;var uL=D(()=>{ZW();zW();e8();R0();H6();mL=nT});function oT(Z,Q,X){var J=-1,W=Q.length,H={};while(++J<W){var Y=Q[J],B=Y6(Z,Y);if(X(B,Y))mL(H,m9(Y,Z),B)}return H}var pL;var yL=D(()=>{F4();uL();zW();pL=oT});function rT(Z,Q){if(Z==null)return{};var X=V0(I4(Z),function(J){return[J]});return Q=cQ(Q),pL(Z,X,function(J,W){return Q(J,W[0])})}var cX;var dL=D(()=>{$J();U0();yL();YK();cX=rT});function aT(Z,Q,X,J,W){return W(Z,function(H,Y,B){X=J?(J=!1,H):Q(X,H,Y,B)}),X}var $L;var lL=D(()=>{$L=aT});function tT(Z,Q,X){var J=TZ(Z)?uq:$L,W=arguments.length<3;return J(Z,cQ(Q,4),X,W,lX)}var yQ;var _K=D(()=>{pq();y9();U0();lL();lQ();yQ=tT});function eT(Z,Q){var X=TZ(Z)?G6:d4;return X(Z,hL(cQ(Q,3)))}var $9;var cL=D(()=>{O4();AK();U0();lQ();kL();$9=eT});function Zv(Z,Q){var X;return lX(Z,function(J,W,H){return X=Q(J,W,H),!X}),!!X}var iL;var sL=D(()=>{y9();iL=Zv});function Qv(Z,Q,X){var J=TZ(Z)?x4:iL;if(X&&v9(Z,Q,X))Q=void 0;return J(Z,cQ(Q,3))}var qW;var nL=D(()=>{UK();U0();sL();lQ();QW();qW=Qv});var Xv=1/0,Jv,oL;var rL=D(()=>{BK();pB();V4();Jv=!(p9&&1/D6(new p9([,-0]))[1]==Xv)?pQ:function(Z){return new p9(Z)},oL=Jv});function Hv(Z,Q,X){var J=-1,W=aH,H=Z.length,Y=!0,B=[],K=B;if(X)Y=!1,W=y4;else if(H>=Wv){var U=Q?null:oL(Z);if(U)return D6(U);Y=!1,W=L6,K=new M6}else K=Q?[]:B;Z:while(++J<H){var G=Z[J],z=Q?Q(G):G;if(G=X||G!==0?G:0,Y&&z===z){var F=K.length;while(F--)if(K[F]===z)continue Z;if(Q)K.push(z);B.push(G)}else if(!W(K,z,X)){if(K!==B)K.push(z);B.push(G)}}return B}var Wv=200,l4;var SK=D(()=>{v4();lB();DK();b4();rL();V4();l4=Hv});function Yv(Z){return Z&&Z.length?l4(Z):[]}var O6;var aL=D(()=>{SK();O6=Yv});function Bv(Z,Q){return Z&&Z.length?l4(Z,cQ(Q,2)):[]}var tL;var eL=D(()=>{U0();SK();tL=Bv});var zQ=D(()=>{y2();ow();rw();sM();aM();eM();ZL();BL();OK();FL();wL();PK();tB();EK();DL();OL();L7();RL();CL();lQ();IK();cH();R0();jL();RK();fL();d0();tM();A6();pB();dL();_K();cL();nL();aL();CK()});function P6(Z){if(console&&console.error)console.error(`Error: ${Z}`)}function wW(Z){if(console&&console.warn)console.warn(`Warning: ${Z}`)}function MW(Z){let Q=new Date().getTime(),X=Z();return{time:new Date().getTime()-Q,value:X}}function LW(Z){function Q(){}Q.prototype=Z;let X=new Q;function J(){return typeof X.bar}return J(),J(),Z;(0,eval)(Z)}var N6=()=>{};function Kv(Z){if(Uv(Z))return Z.LABEL;else return Z.name}function Uv(Z){return WX(Z.LABEL)&&Z.LABEL!==""}class z0{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){this._definition=Z}accept(Z){Z.visit(this),SZ(this.definition,(Q)=>{Q.accept(Z)})}}class eZ{constructor(Z){this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}accept(Z){Z.visit(this)}}function c4(Z){return CZ(Z,R6)}function R6(Z){function Q(X){return CZ(X,R6)}if(Z instanceof MQ){let X={type:"NonTerminal",name:Z.nonTerminalName,idx:Z.idx};if(WX(Z.label))X.label=Z.label;return X}else if(Z instanceof jQ)return{type:"Alternative",definition:Q(Z.definition)};else if(Z instanceof LQ)return{type:"Option",idx:Z.idx,definition:Q(Z.definition)};else if(Z instanceof fQ)return{type:"RepetitionMandatory",idx:Z.idx,definition:Q(Z.definition)};else if(Z instanceof TQ)return{type:"RepetitionMandatoryWithSeparator",idx:Z.idx,separator:R6(new eZ({terminalType:Z.separator})),definition:Q(Z.definition)};else if(Z instanceof CQ)return{type:"RepetitionWithSeparator",idx:Z.idx,separator:R6(new eZ({terminalType:Z.separator})),definition:Q(Z.definition)};else if(Z instanceof WQ)return{type:"Repetition",idx:Z.idx,definition:Q(Z.definition)};else if(Z instanceof IQ)return{type:"Alternation",idx:Z.idx,definition:Q(Z.definition)};else if(Z instanceof eZ){let X={type:"Terminal",name:Z.terminalType.name,label:Kv(Z.terminalType),idx:Z.idx};if(WX(Z.label))X.terminalLabel=Z.label;let J=Z.terminalType.PATTERN;if(Z.terminalType.PATTERN)X.pattern=G0(J)?J.source:J;return X}else if(Z instanceof iX)return{type:"Rule",name:Z.name,orgText:Z.orgText,definition:Q(Z.definition)};else throw Error("non exhaustive match")}var MQ,iX,jQ,LQ,fQ,TQ,WQ,CQ,IQ;var i4=D(()=>{zQ();MQ=class MQ extends z0{constructor(Z){super([]);this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}set definition(Z){}get definition(){if(this.referencedRule!==void 0)return this.referencedRule.definition;return[]}accept(Z){Z.visit(this)}};iX=class iX extends z0{constructor(Z){super(Z.definition);this.orgText="",wX(this,cX(Z,(Q)=>Q!==void 0))}};jQ=class jQ extends z0{constructor(Z){super(Z.definition);this.ignoreAmbiguities=!1,wX(this,cX(Z,(Q)=>Q!==void 0))}};LQ=class LQ extends z0{constructor(Z){super(Z.definition);this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}};fQ=class fQ extends z0{constructor(Z){super(Z.definition);this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}};TQ=class TQ extends z0{constructor(Z){super(Z.definition);this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}};WQ=class WQ extends z0{constructor(Z){super(Z.definition);this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}};CQ=class CQ extends z0{constructor(Z){super(Z.definition);this.idx=1,wX(this,cX(Z,(Q)=>Q!==void 0))}};IQ=class IQ extends z0{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){super(Z.definition);this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,wX(this,cX(Z,(Q)=>Q!==void 0))}}});class sX{visit(Z){let Q=Z;switch(Q.constructor){case MQ:return this.visitNonTerminal(Q);case jQ:return this.visitAlternative(Q);case LQ:return this.visitOption(Q);case fQ:return this.visitRepetitionMandatory(Q);case TQ:return this.visitRepetitionMandatoryWithSeparator(Q);case CQ:return this.visitRepetitionWithSeparator(Q);case WQ:return this.visitRepetition(Q);case IQ:return this.visitAlternation(Q);case eZ:return this.visitTerminal(Q);case iX:return this.visitRule(Q);default:throw Error("non exhaustive match")}}visitNonTerminal(Z){}visitAlternative(Z){}visitOption(Z){}visitRepetition(Z){}visitRepetitionMandatory(Z){}visitRepetitionMandatoryWithSeparator(Z){}visitRepetitionWithSeparator(Z){}visitAlternation(Z){}visitTerminal(Z){}visitRule(Z){}}var ZD=D(()=>{i4()});function jK(Z){return Z instanceof jQ||Z instanceof LQ||Z instanceof WQ||Z instanceof fQ||Z instanceof TQ||Z instanceof CQ||Z instanceof eZ||Z instanceof iX}function A7(Z,Q=[]){if(Z instanceof LQ||Z instanceof WQ||Z instanceof CQ)return!0;if(Z instanceof IQ)return qW(Z.definition,(J)=>{return A7(J,Q)});else if(Z instanceof MQ&&bQ(Q,Z))return!1;else if(Z instanceof z0){if(Z instanceof MQ)Q.push(Z);return _X(Z.definition,(J)=>{return A7(J,Q)})}else return!1}function fK(Z){return Z instanceof IQ}function nX(Z){if(Z instanceof MQ)return"SUBRULE";else if(Z instanceof LQ)return"OPTION";else if(Z instanceof IQ)return"OR";else if(Z instanceof fQ)return"AT_LEAST_ONE";else if(Z instanceof TQ)return"AT_LEAST_ONE_SEP";else if(Z instanceof CQ)return"MANY_SEP";else if(Z instanceof WQ)return"MANY";else if(Z instanceof eZ)return"CONSUME";else throw Error("non exhaustive match")}var QD=D(()=>{zQ();i4()});var VX=D(()=>{i4();ZD();QD()});class l9{walk(Z,Q=[]){SZ(Z.definition,(X,J)=>{let W=nQ(Z.definition,J+1);if(X instanceof MQ)this.walkProdRef(X,W,Q);else if(X instanceof eZ)this.walkTerminal(X,W,Q);else if(X instanceof jQ)this.walkFlat(X,W,Q);else if(X instanceof LQ)this.walkOption(X,W,Q);else if(X instanceof fQ)this.walkAtLeastOne(X,W,Q);else if(X instanceof TQ)this.walkAtLeastOneSep(X,W,Q);else if(X instanceof CQ)this.walkManySep(X,W,Q);else if(X instanceof WQ)this.walkMany(X,W,Q);else if(X instanceof IQ)this.walkOr(X,W,Q);else throw Error("non exhaustive match")})}walkTerminal(Z,Q,X){}walkProdRef(Z,Q,X){}walkFlat(Z,Q,X){let J=Q.concat(X);this.walk(Z,J)}walkOption(Z,Q,X){let J=Q.concat(X);this.walk(Z,J)}walkAtLeastOne(Z,Q,X){let J=[new LQ({definition:Z.definition})].concat(Q,X);this.walk(Z,J)}walkAtLeastOneSep(Z,Q,X){let J=XD(Z,Q,X);this.walk(Z,J)}walkMany(Z,Q,X){let J=[new LQ({definition:Z.definition})].concat(Q,X);this.walk(Z,J)}walkManySep(Z,Q,X){let J=XD(Z,Q,X);this.walk(Z,J)}walkOr(Z,Q,X){let J=Q.concat(X);SZ(Z.definition,(W)=>{let H=new jQ({definition:[W]});this.walk(H,J)})}}function XD(Z,Q,X){return[new LQ({definition:[new eZ({terminalType:Z.separator})].concat(Z.definition)})].concat(Q,X)}var s4=D(()=>{zQ();VX()});function O7(Z){if(Z instanceof MQ)return O7(Z.referencedRule);else if(Z instanceof eZ)return Fv(Z);else if(jK(Z))return Gv(Z);else if(fK(Z))return zv(Z);else throw Error("non exhaustive match")}function Gv(Z){let Q=[],X=Z.definition,J=0,W=X.length>J,H,Y=!0;while(W&&Y)H=X[J],Y=A7(H),Q=Q.concat(O7(H)),J=J+1,W=X.length>J;return O6(Q)}function zv(Z){let Q=CZ(Z.definition,(X)=>{return O7(X)});return O6(sQ(Q))}function Fv(Z){return[Z.terminalType]}var TK=D(()=>{zQ();VX()});var n4="_~IN~_";function WD(Z){let Q={};return SZ(Z,(X)=>{let J=new JD(X).startWalking();wX(Q,J)}),Q}function qv(Z,Q){return Z.name+Q+n4}var JD;var HD=D(()=>{s4();TK();zQ();VX();JD=class JD extends l9{constructor(Z){super();this.topProd=Z,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(Z,Q,X){}walkProdRef(Z,Q,X){let J=qv(Z.referencedRule,Z.idx)+this.topProd.name,W=Q.concat(X),H=new jQ({definition:W}),Y=O7(H);this.follows[J]=Y}}});function C6(Z){let Q=Z.toString();if(o4.hasOwnProperty(Q))return o4[Q];else{let X=wv.pattern(Q);return o4[Q]=X,X}}function YD(){o4={}}var o4,wv;var r4=D(()=>{s8();o4={},wv=new hJ});function UD(Z,Q=!1){try{let X=C6(Z);return vK(X.value,{},X.flags.ignoreCase)}catch(X){if(X.message===KD){if(Q)wW(`${DW}	Unable to optimize: < ${Z.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`)}else{let J="";if(Q)J=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`;P6(`${DW}
	Failed parsing: < ${Z.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+J)}}return[]}function vK(Z,Q,X){switch(Z.type){case"Disjunction":for(let W=0;W<Z.value.length;W++)vK(Z.value[W],Q,X);break;case"Alternative":let J=Z.value;for(let W=0;W<J.length;W++){let H=J[W];switch(H.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let Y=H;switch(Y.type){case"Character":a4(Y.value,Q,X);break;case"Set":if(Y.complement===!0)throw Error(KD);SZ(Y.value,(K)=>{if(typeof K==="number")a4(K,Q,X);else{let U=K;if(X===!0)for(let G=U.from;G<=U.to;G++)a4(G,Q,X);else{for(let G=U.from;G<=U.to&&G<I6;G++)a4(G,Q,X);if(U.to>=I6){let G=U.from>=I6?U.from:I6,z=U.to,F=s0(G),q=s0(z);for(let L=F;L<=q;L++)Q[L]=L}}}});break;case"Group":vK(Y.value,Q,X);break;default:throw Error("Non Exhaustive Match")}let B=Y.quantifier!==void 0&&Y.quantifier.atLeast===0;if(Y.type==="Group"&&xK(Y)===!1||Y.type!=="Group"&&B===!1)break}break;default:throw Error("non exhaustive match!")}return DQ(Q)}function a4(Z,Q,X){let J=s0(Z);if(Q[J]=J,X===!0)Mv(Z,Q)}function Mv(Z,Q){let X=String.fromCharCode(Z),J=X.toUpperCase();if(J!==X){let W=s0(J.charCodeAt(0));Q[W]=W}else{let W=X.toLowerCase();if(W!==X){let H=s0(W.charCodeAt(0));Q[H]=H}}}function BD(Z,Q){return i0(Z.value,(X)=>{if(typeof X==="number")return bQ(Q,X);else{let J=X;return i0(Q,(W)=>J.from<=W&&W<=J.to)!==void 0}})}function xK(Z){let Q=Z.quantifier;if(Q&&Q.atLeast===0)return!0;if(!Z.value)return!1;return TZ(Z.value)?_X(Z.value,xK):xK(Z.value)}function t4(Z,Q){if(Q instanceof RegExp){let X=C6(Q),J=new GD(Z);return J.visit(X),J.found}else return i0(Q,(X)=>{return bQ(Z,X.charCodeAt(0))})!==void 0}var KD="Complement Sets are not supported for first char optimization",DW=`Unable to use "first char" lexer optimizations:
`,GD;var zD=D(()=>{s8();zQ();N6();r4();bK();GD=class GD extends K9{constructor(Z){super();this.targetCharCodes=Z,this.found=!1}visitChildren(Z){if(this.found===!0)return;switch(Z.type){case"Lookahead":this.visitLookahead(Z);return;case"NegativeLookahead":this.visitNegativeLookahead(Z);return}super.visitChildren(Z)}visitCharacter(Z){if(bQ(this.targetCharCodes,Z.value))this.found=!0}visitSet(Z){if(Z.complement){if(BD(Z,this.targetCharCodes)===void 0)this.found=!0}else if(BD(Z,this.targetCharCodes)!==void 0)this.found=!0}}});function wD(Z,Q){Q=E6(Q,{useSticky:VK,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(p,s)=>s()});let X=Q.tracer;X("initCharCodeToOptimizedIndexMap",()=>{bv()});let J;X("Reject Lexer.NA",()=>{J=$9(Z,(p)=>{return p[P7]===dQ.NA})});let W=!1,H;X("Transform Patterns",()=>{W=!1,H=CZ(J,(p)=>{let s=p[P7];if(G0(s)){let y=s.source;if(y.length===1&&y!=="^"&&y!=="$"&&y!=="."&&!s.ignoreCase)return y;else if(y.length===2&&y[0]==="\\"&&!bQ(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],y[1]))return y[1];else return Q.useSticky?qD(s):FD(s)}else if(gX(s))return W=!0,{exec:s};else if(typeof s==="object")return W=!0,s;else if(typeof s==="string")if(s.length===1)return s;else{let y=s.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),C=new RegExp(y);return Q.useSticky?qD(C):FD(C)}else throw Error("non exhaustive match")})});let Y,B,K,U,G;X("misc mapping",()=>{Y=CZ(J,(p)=>p.tokenTypeIdx),B=CZ(J,(p)=>{let s=p.GROUP;if(s===dQ.SKIPPED)return;else if(WX(s))return s;else if(SX(s))return!1;else throw Error("non exhaustive match")}),K=CZ(J,(p)=>{let s=p.LONGER_ALT;if(s)return TZ(s)?CZ(s,(C)=>$4(J,C)):[$4(J,s)]}),U=CZ(J,(p)=>p.PUSH_MODE),G=CZ(J,(p)=>fZ(p,"POP_MODE"))});let z;X("Line Terminator Handling",()=>{let p=ND(Q.lineTerminatorCharacters);if(z=CZ(J,(s)=>!1),Q.positionTracking!=="onlyOffset")z=CZ(J,(s)=>{if(fZ(s,"LINE_BREAKS"))return!!s.LINE_BREAKS;else return PD(s,p)===!1&&t4(p,s.PATTERN)})});let F,q,L,A;X("Misc Mapping #2",()=>{F=CZ(J,AD),q=CZ(H,vv),L=yQ(J,(p,s)=>{let y=s.GROUP;if(WX(y)&&y!==dQ.SKIPPED)p[y]=[];return p},{}),A=CZ(H,(p,s)=>{return{pattern:H[s],longerAlt:K[s],canLineTerminator:z[s],isCustom:F[s],short:q[s],group:B[s],push:U[s],pop:G[s],tokenTypeIdx:Y[s],tokenType:J[s]}})});let k=!0,T=[];if(!Q.safeMode)X("First Char Optimization",()=>{T=yQ(J,(p,s,y)=>{if(typeof s.PATTERN==="string"){let C=s.PATTERN.charCodeAt(0),P=s0(C);gK(p,P,A[y])}else if(TZ(s.START_CHARS_HINT)){let C;SZ(s.START_CHARS_HINT,(P)=>{let g=typeof P==="string"?P.charCodeAt(0):P,f=s0(g);if(C!==f)C=f,gK(p,f,A[y])})}else if(G0(s.PATTERN))if(s.PATTERN.unicode){if(k=!1,Q.ensureOptimizations)P6(`${DW}	Unable to analyze < ${s.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`)}else{let C=UD(s.PATTERN,Q.ensureOptimizations);if(oZ(C))k=!1;SZ(C,(P)=>{gK(p,P,A[y])})}else{if(Q.ensureOptimizations)P6(`${DW}	TokenType: <${s.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`);k=!1}return p},[])});return{emptyGroups:L,patternIdxToConfig:A,charCodeToPatternIdxToConfig:T,hasCustom:W,canBeOptimized:k}}function MD(Z,Q){let X=[],J=Dv(Z);X=X.concat(J.errors);let W=Ev(J.valid),H=W.valid;return X=X.concat(W.errors),X=X.concat(Lv(H)),X=X.concat(_v(H)),X=X.concat(Sv(H,Q)),X=X.concat(jv(H)),X}function Lv(Z){let Q=[],X=GX(Z,(J)=>G0(J[P7]));return Q=Q.concat(Ov(X)),Q=Q.concat(Rv(X)),Q=Q.concat(Cv(X)),Q=Q.concat(Iv(X)),Q=Q.concat(Pv(X)),Q}function Dv(Z){let Q=GX(Z,(W)=>{return!fZ(W,P7)}),X=CZ(Q,(W)=>{return{message:"Token Type: ->"+W.name+"<- missing static 'PATTERN' property",type:gQ.MISSING_PATTERN,tokenTypes:[W]}}),J=d9(Z,Q);return{errors:X,valid:J}}function Ev(Z){let Q=GX(Z,(W)=>{let H=W[P7];return!G0(H)&&!gX(H)&&!fZ(H,"exec")&&!WX(H)}),X=CZ(Q,(W)=>{return{message:"Token Type: ->"+W.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:gQ.INVALID_PATTERN,tokenTypes:[W]}}),J=d9(Z,Q);return{errors:X,valid:J}}function Ov(Z){class Q extends K9{constructor(){super(...arguments);this.found=!1}visitEndAnchor(W){this.found=!0}}let X=GX(Z,(W)=>{let H=W.PATTERN;try{let Y=C6(H),B=new Q;return B.visit(Y),B.found}catch(Y){return Av.test(H.source)}});return CZ(X,(W)=>{return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+W.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:gQ.EOI_ANCHOR_FOUND,tokenTypes:[W]}})}function Pv(Z){let Q=GX(Z,(J)=>{return J.PATTERN.test("")});return CZ(Q,(J)=>{return{message:"Token Type: ->"+J.name+"<- static 'PATTERN' must not match an empty string",type:gQ.EMPTY_MATCH_PATTERN,tokenTypes:[J]}})}function Rv(Z){class Q extends K9{constructor(){super(...arguments);this.found=!1}visitStartAnchor(W){this.found=!0}}let X=GX(Z,(W)=>{let H=W.PATTERN;try{let Y=C6(H),B=new Q;return B.visit(Y),B.found}catch(Y){return Nv.test(H.source)}});return CZ(X,(W)=>{return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+W.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:gQ.SOI_ANCHOR_FOUND,tokenTypes:[W]}})}function Cv(Z){let Q=GX(Z,(J)=>{let W=J[P7];return W instanceof RegExp&&(W.multiline||W.global)});return CZ(Q,(J)=>{return{message:"Token Type: ->"+J.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:gQ.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[J]}})}function Iv(Z){let Q=[],X=CZ(Z,(H)=>{return yQ(Z,(Y,B)=>{if(H.PATTERN.source===B.PATTERN.source&&!bQ(Q,B)&&B.PATTERN!==dQ.NA)return Q.push(B),Y.push(B),Y;return Y},[])});X=l0(X);let J=GX(X,(H)=>{return H.length>1});return CZ(J,(H)=>{let Y=CZ(H,(K)=>{return K.name});return{message:`The same RegExp pattern ->${zX(H).PATTERN}<-has been used in all of the following Token Types: ${Y.join(", ")} <-`,type:gQ.DUPLICATE_PATTERNS_FOUND,tokenTypes:H}})}function _v(Z){let Q=GX(Z,(J)=>{if(!fZ(J,"GROUP"))return!1;let W=J.GROUP;return W!==dQ.SKIPPED&&W!==dQ.NA&&!WX(W)});return CZ(Q,(J)=>{return{message:"Token Type: ->"+J.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:gQ.INVALID_GROUP_TYPE_FOUND,tokenTypes:[J]}})}function Sv(Z,Q){let X=GX(Z,(W)=>{return W.PUSH_MODE!==void 0&&!bQ(Q,W.PUSH_MODE)});return CZ(X,(W)=>{return{message:`Token Type: ->${W.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${W.PUSH_MODE}<-which does not exist`,type:gQ.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[W]}})}function jv(Z){let Q=[],X=yQ(Z,(J,W,H)=>{let Y=W.PATTERN;if(Y===dQ.NA)return J;if(WX(Y))J.push({str:Y,idx:H,tokenType:W});else if(G0(Y)&&Tv(Y))J.push({str:Y.source,idx:H,tokenType:W});return J},[]);return SZ(Z,(J,W)=>{SZ(X,({str:H,idx:Y,tokenType:B})=>{if(W<Y&&fv(H,J.PATTERN)){let K=`Token: ->${B.name}<- can never be matched.
Because it appears AFTER the Token Type ->${J.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;Q.push({message:K,type:gQ.UNREACHABLE_PATTERN,tokenTypes:[J,B]})}})}),Q}function fv(Z,Q){if(G0(Q)){let X=Q.exec(Z);return X!==null&&X.index===0}else if(gX(Q))return Q(Z,0,[],{});else if(fZ(Q,"exec"))return Q.exec(Z,0,[],{});else if(typeof Q==="string")return Q===Z;else throw Error("non exhaustive match")}function Tv(Z){return i0([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(X)=>Z.source.indexOf(X)!==-1)===void 0}function FD(Z){let Q=Z.ignoreCase?"i":"";return new RegExp(`^(?:${Z.source})`,Q)}function qD(Z){let Q=Z.ignoreCase?"iy":"y";return new RegExp(`${Z.source}`,Q)}function LD(Z,Q,X){let J=[];if(!fZ(Z,_6))J.push({message:"A MultiMode Lexer cannot be initialized without a <"+_6+`> property in its definition
`,type:gQ.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE});if(!fZ(Z,e4))J.push({message:"A MultiMode Lexer cannot be initialized without a <"+e4+`> property in its definition
`,type:gQ.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY});if(fZ(Z,e4)&&fZ(Z,_6)&&!fZ(Z.modes,Z.defaultMode))J.push({message:`A MultiMode Lexer cannot be initialized with a ${_6}: <${Z.defaultMode}>which does not exist
`,type:gQ.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST});if(fZ(Z,e4))SZ(Z.modes,(W,H)=>{SZ(W,(Y,B)=>{if(SX(Y))J.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${H}> at index: <${B}>
`,type:gQ.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(fZ(Y,"LONGER_ALT")){let K=TZ(Y.LONGER_ALT)?Y.LONGER_ALT:[Y.LONGER_ALT];SZ(K,(U)=>{if(!SX(U)&&!bQ(W,U))J.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${U.name}> on token <${Y.name}> outside of mode <${H}>
`,type:gQ.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})});return J}function DD(Z,Q,X){let J=[],W=!1,H=l0(sQ(DQ(Z.modes))),Y=$9(H,(K)=>K[P7]===dQ.NA),B=ND(X);if(Q)SZ(Y,(K)=>{let U=PD(K,B);if(U!==!1){let z={message:xv(K,U),type:U.issue,tokenType:K};J.push(z)}else if(fZ(K,"LINE_BREAKS")){if(K.LINE_BREAKS===!0)W=!0}else if(t4(B,K.PATTERN))W=!0});if(Q&&!W)J.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:gQ.NO_LINE_BREAKS_FLAGS});return J}function ED(Z){let Q={},X=PQ(Z);return SZ(X,(J)=>{let W=Z[J];if(TZ(W))Q[J]=[];else throw Error("non exhaustive match")}),Q}function AD(Z){let Q=Z.PATTERN;if(G0(Q))return!1;else if(gX(Q))return!0;else if(fZ(Q,"exec"))return!0;else if(WX(Q))return!1;else throw Error("non exhaustive match")}function vv(Z){if(WX(Z)&&Z.length===1)return Z.charCodeAt(0);else return!1}function PD(Z,Q){if(fZ(Z,"LINE_BREAKS"))return!1;else if(G0(Z.PATTERN)){try{t4(Q,Z.PATTERN)}catch(X){return{issue:gQ.IDENTIFY_TERMINATOR,errMsg:X.message}}return!1}else if(WX(Z.PATTERN))return!1;else if(AD(Z))return{issue:gQ.CUSTOM_LINE_BREAK};else throw Error("non exhaustive match")}function xv(Z,Q){if(Q.issue===gQ.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${Z.name}> Token Type
	 Root cause: ${Q.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;else if(Q.issue===gQ.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${Z.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;else throw Error("non exhaustive match")}function ND(Z){return CZ(Z,(X)=>{if(WX(X))return X.charCodeAt(0);else return X})}function gK(Z,Q,X){if(Z[Q]===void 0)Z[Q]=[X];else Z[Q].push(X)}function s0(Z){return Z<I6?Z:Z5[Z]}function bv(){if(oZ(Z5)){Z5=Array(65536);for(let Z=0;Z<65536;Z++)Z5[Z]=Z>255?255+~~(Z/255):Z}}var P7="PATTERN",_6="defaultMode",e4="modes",VK,Av,Nv,OD,I6=256,Z5;var bK=D(()=>{s8();EW();zQ();N6();zD();r4();VK=typeof new RegExp("(?:)").sticky==="boolean";Av=/[^\\][$]/;Nv=/[^\\[][\^]|^\^/;OD={test:function(Z){let Q=Z.length;for(let X=this.lastIndex;X<Q;X++){let J=Z.charCodeAt(X);if(J===10)return this.lastIndex=X+1,!0;else if(J===13){if(Z.charCodeAt(X+1)===10)this.lastIndex=X+2;else this.lastIndex=X+1;return!0}}return!1},lastIndex:0};Z5=[]});function q9(Z,Q){let X=Z.tokenTypeIdx;if(X===Q.tokenTypeIdx)return!0;else return Q.isParent===!0&&Q.categoryMatchesMap[X]===!0}function S6(Z,Q){return Z.tokenTypeIdx===Q.tokenTypeIdx}function w9(Z){let Q=gv(Z);Vv(Q),kv(Q),hv(Q),SZ(Q,(X)=>{X.isParent=X.categoryMatches.length>0})}function gv(Z){let Q=RQ(Z),X=Z,J=!0;while(J){X=l0(sQ(CZ(X,(H)=>H.CATEGORIES)));let W=d9(X,Q);if(Q=Q.concat(W),oZ(W))J=!1;else X=W}return Q}function Vv(Z){SZ(Z,(Q)=>{if(!hK(Q))ID[RD]=Q,Q.tokenTypeIdx=RD++;if(CD(Q)&&!TZ(Q.CATEGORIES))Q.CATEGORIES=[Q.CATEGORIES];if(!CD(Q))Q.CATEGORIES=[];if(!mv(Q))Q.categoryMatches=[];if(!uv(Q))Q.categoryMatchesMap={}})}function hv(Z){SZ(Z,(Q)=>{Q.categoryMatches=[],SZ(Q.categoryMatchesMap,(X,J)=>{Q.categoryMatches.push(ID[J].tokenTypeIdx)})})}function kv(Z){SZ(Z,(Q)=>{_D([],Q)})}function _D(Z,Q){SZ(Z,(X)=>{Q.categoryMatchesMap[X.tokenTypeIdx]=!0}),SZ(Q.CATEGORIES,(X)=>{let J=Z.concat(Q);if(!bQ(J,X))_D(J,X)})}function hK(Z){return fZ(Z,"tokenTypeIdx")}function CD(Z){return fZ(Z,"CATEGORIES")}function mv(Z){return fZ(Z,"categoryMatches")}function uv(Z){return fZ(Z,"categoryMatchesMap")}function SD(Z){return fZ(Z,"tokenTypeIdx")}var RD=1,ID;var N7=D(()=>{zQ();ID={}});var j6;var kK=D(()=>{j6={buildUnableToPopLexerModeMessage(Z){return`Unable to pop Lexer Mode after encountering Token ->${Z.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(Z,Q,X,J,W){return`unexpected character: ->${Z.charAt(Q)}<- at offset: ${Q}, skipped ${X} characters.`}}});class dQ{constructor(Z,Q=AW){if(this.lexerDefinition=Z,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(J,W)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let H=Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${H}--> <${J}>`);let{time:Y,value:B}=MW(W),K=Y>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)K(`${H}<-- <${J}> time: ${Y}ms`);return this.traceInitIndent--,B}else return W()},typeof Q==="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=wX({},AW,Q);let X=this.config.traceInitPerf;if(X===!0)this.traceInitMaxIdent=1/0,this.traceInitPerf=!0;else if(typeof X==="number")this.traceInitMaxIdent=X,this.traceInitPerf=!0;this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let J,W=!0;if(this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===AW.lineTerminatorsPattern)this.config.lineTerminatorsPattern=OD;else if(this.config.lineTerminatorCharacters===AW.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(Q.safeMode&&Q.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');if(this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),TZ(Z))J={modes:{defaultMode:RQ(Z)},defaultMode:_6};else W=!1,J=RQ(Z)}),this.config.skipValidations===!1)this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(LD(J,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(DD(J,this.trackStartLines,this.config.lineTerminatorCharacters))});J.modes=J.modes?J.modes:{},SZ(J.modes,(Y,B)=>{J.modes[B]=$9(Y,(K)=>SX(K))});let H=PQ(J.modes);if(SZ(J.modes,(Y,B)=>{this.TRACE_INIT(`Mode: <${B}> processing`,()=>{if(this.modes.push(B),this.config.skipValidations===!1)this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(MD(Y,H))});if(oZ(this.lexerDefinitionErrors)){w9(Y);let K;this.TRACE_INIT("analyzeTokenTypes",()=>{K=wD(Y,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:Q.positionTracking,ensureOptimizations:Q.ensureOptimizations,safeMode:Q.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[B]=K.patternIdxToConfig,this.charCodeToPatternIdxToConfig[B]=K.charCodeToPatternIdxToConfig,this.emptyGroups=wX({},this.emptyGroups,K.emptyGroups),this.hasCustom=K.hasCustom||this.hasCustom,this.canModeBeOptimized[B]=K.canBeOptimized}})}),this.defaultMode=J.defaultMode,!oZ(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let B=CZ(this.lexerDefinitionErrors,(K)=>{return K.message}).join(`-----------------------
`);throw Error(`Errors detected in definition of Lexer:
`+B)}SZ(this.lexerDefinitionWarning,(Y)=>{wW(Y.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(VK)this.chopInput=dX,this.match=this.matchWithTest;else this.updateLastIndex=pQ,this.match=this.matchWithExec;if(W)this.handleModes=pQ;if(this.trackStartLines===!1)this.computeNewColumn=dX;if(this.trackEndLines===!1)this.updateTokenEndLineColumnLocation=pQ;if(/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);if(this.hasCustom)this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom;else this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let Y=yQ(this.canModeBeOptimized,(B,K,U)=>{if(K===!1)B.push(U);return B},[]);if(Q.ensureOptimizations&&!oZ(Y))throw Error(`Lexer Modes: < ${Y.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{YD()}),this.TRACE_INIT("toFastProperties",()=>{LW(this)})})}tokenize(Z,Q=this.defaultMode){if(!oZ(this.lexerDefinitionErrors)){let J=CZ(this.lexerDefinitionErrors,(W)=>{return W.message}).join(`-----------------------
`);throw Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+J)}return this.tokenizeInternal(Z,Q)}tokenizeInternal(Z,Q){let X,J,W,H,Y,B,K,U,G,z,F,q,L,A,k,T,p=Z,s=p.length,y=0,C=0,P=this.hasCustom?0:Math.floor(Z.length/10),g=Array(P),f=[],O=this.trackStartLines?1:void 0,h=this.trackStartLines?1:void 0,w=ED(this.emptyGroups),$=this.trackStartLines,j=this.config.lineTerminatorsPattern,n=0,d=[],m=[],b=[],u=[];Object.freeze(u);let S;function l(){return d}function I(qZ){let BZ=s0(qZ),DZ=m[BZ];if(DZ===void 0)return u;else return DZ}let QZ=(qZ)=>{if(b.length===1&&qZ.tokenType.PUSH_MODE===void 0){let BZ=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(qZ);f.push({offset:qZ.startOffset,line:qZ.startLine,column:qZ.startColumn,length:qZ.image.length,message:BZ})}else{b.pop();let BZ=c0(b);d=this.patternIdxToConfig[BZ],m=this.charCodeToPatternIdxToConfig[BZ],n=d.length;let DZ=this.canModeBeOptimized[BZ]&&this.config.safeMode===!1;if(m&&DZ)S=I;else S=l}};function WZ(qZ){b.push(qZ),m=this.charCodeToPatternIdxToConfig[qZ],d=this.patternIdxToConfig[qZ],n=d.length,n=d.length;let BZ=this.canModeBeOptimized[qZ]&&this.config.safeMode===!1;if(m&&BZ)S=I;else S=l}WZ.call(this,Q);let MZ,r=this.config.recoveryEnabled;while(y<s){B=null;let qZ=p.charCodeAt(y),BZ=S(qZ),DZ=BZ.length;for(X=0;X<DZ;X++){MZ=BZ[X];let UZ=MZ.pattern;K=null;let AZ=MZ.short;if(AZ!==!1){if(qZ===AZ)B=UZ}else if(MZ.isCustom===!0)if(T=UZ.exec(p,y,g,w),T!==null){if(B=T[0],T.payload!==void 0)K=T.payload}else B=null;else this.updateLastIndex(UZ,y),B=this.match(UZ,Z,y);if(B!==null){if(Y=MZ.longerAlt,Y!==void 0){let e=Y.length;for(W=0;W<e;W++){let ZZ=d[Y[W]],i=ZZ.pattern;if(U=null,ZZ.isCustom===!0)if(T=i.exec(p,y,g,w),T!==null){if(H=T[0],T.payload!==void 0)U=T.payload}else H=null;else this.updateLastIndex(i,y),H=this.match(i,Z,y);if(H&&H.length>B.length){B=H,K=U,MZ=ZZ;break}}}break}}if(B!==null){if(G=B.length,z=MZ.group,z!==void 0)if(F=MZ.tokenTypeIdx,q=this.createTokenInstance(B,y,F,MZ.tokenType,O,h,G),this.handlePayload(q,K),z===!1)C=this.addToken(g,C,q);else w[z].push(q);if(Z=this.chopInput(Z,G),y=y+G,h=this.computeNewColumn(h,G),$===!0&&MZ.canLineTerminator===!0){let UZ=0,AZ,e;j.lastIndex=0;do if(AZ=j.test(B),AZ===!0)e=j.lastIndex-1,UZ++;while(AZ===!0);if(UZ!==0)O=O+UZ,h=G-e,this.updateTokenEndLineColumnLocation(q,z,e,UZ,O,h,G)}this.handleModes(MZ,QZ,WZ,q)}else{let UZ=y,AZ=O,e=h,ZZ=r===!1;while(ZZ===!1&&y<s){Z=this.chopInput(Z,1),y++;for(J=0;J<n;J++){let i=d[J],V=i.pattern,o=i.short;if(o!==!1){if(p.charCodeAt(y)===o)ZZ=!0}else if(i.isCustom===!0)ZZ=V.exec(p,y,g,w)!==null;else this.updateLastIndex(V,y),ZZ=V.exec(Z)!==null;if(ZZ===!0)break}}if(L=y-UZ,h=this.computeNewColumn(h,L),k=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(p,UZ,L,AZ,e),f.push({offset:UZ,line:AZ,column:e,length:L,message:k}),r===!1)break}}if(!this.hasCustom)g.length=C;return{tokens:g,groups:w,errors:f}}handleModes(Z,Q,X,J){if(Z.pop===!0){let W=Z.push;if(Q(J),W!==void 0)X.call(this,W)}else if(Z.push!==void 0)X.call(this,Z.push)}chopInput(Z,Q){return Z.substring(Q)}updateLastIndex(Z,Q){Z.lastIndex=Q}updateTokenEndLineColumnLocation(Z,Q,X,J,W,H,Y){let B,K;if(Q!==void 0){if(B=X===Y-1,K=B?-1:0,!(J===1&&B===!0))Z.endLine=W+K,Z.endColumn=H-1+-K}}computeNewColumn(Z,Q){return Z+Q}createOffsetOnlyToken(Z,Q,X,J){return{image:Z,startOffset:Q,tokenTypeIdx:X,tokenType:J}}createStartOnlyToken(Z,Q,X,J,W,H){return{image:Z,startOffset:Q,startLine:W,startColumn:H,tokenTypeIdx:X,tokenType:J}}createFullToken(Z,Q,X,J,W,H,Y){return{image:Z,startOffset:Q,endOffset:Q+Y-1,startLine:W,endLine:W,startColumn:H,endColumn:H+Y-1,tokenTypeIdx:X,tokenType:J}}addTokenUsingPush(Z,Q,X){return Z.push(X),Q}addTokenUsingMemberAccess(Z,Q,X){return Z[Q]=X,Q++,Q}handlePayloadNoCustom(Z,Q){}handlePayloadWithCustom(Z,Q){if(Q!==null)Z.payload=Q}matchWithTest(Z,Q,X){if(Z.test(Q)===!0)return Q.substring(X,Z.lastIndex);return null}matchWithExec(Z,Q){let X=Z.exec(Q);return X!==null?X[0]:null}}var gQ,AW;var EW=D(()=>{bK();zQ();N6();N7();kK();r4();(function(Z){Z[Z.MISSING_PATTERN=0]="MISSING_PATTERN",Z[Z.INVALID_PATTERN=1]="INVALID_PATTERN",Z[Z.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Z[Z.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Z[Z.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Z[Z.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Z[Z.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Z[Z.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Z[Z.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Z[Z.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Z[Z.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Z[Z.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Z[Z.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Z[Z.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Z[Z.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Z[Z.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Z[Z.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",Z[Z.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(gQ||(gQ={}));AW={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:j6,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(AW);dQ.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";dQ.NA=/NOT_APPLICABLE/});function M9(Z){if(mK(Z))return Z.LABEL;else return Z.name}function mK(Z){return WX(Z.LABEL)&&Z.LABEL!==""}function c9(Z){return yv(Z)}function yv(Z){let Q=Z.pattern,X={};if(X.name=Z.name,!SX(Q))X.PATTERN=Q;if(fZ(Z,pv))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;if(fZ(Z,jD))X.CATEGORIES=Z[jD];if(w9([X]),fZ(Z,fD))X.LABEL=Z[fD];if(fZ(Z,TD))X.GROUP=Z[TD];if(fZ(Z,xD))X.POP_MODE=Z[xD];if(fZ(Z,vD))X.PUSH_MODE=Z[vD];if(fZ(Z,bD))X.LONGER_ALT=Z[bD];if(fZ(Z,gD))X.LINE_BREAKS=Z[gD];if(fZ(Z,VD))X.START_CHARS_HINT=Z[VD];return X}function L9(Z,Q,X,J,W,H,Y,B){return{image:Q,startOffset:X,endOffset:J,startLine:W,endLine:H,startColumn:Y,endColumn:B,tokenTypeIdx:Z.tokenTypeIdx,tokenType:Z}}function OW(Z,Q){return q9(Z,Q)}var pv="parent",jD="categories",fD="label",TD="group",vD="push_mode",xD="pop_mode",bD="longer_alt",gD="line_breaks",VD="start_chars_hint",X0;var R7=D(()=>{zQ();EW();N7();X0=c9({name:"EOF",pattern:dQ.NA});w9([X0])});var D9,hD,_0;var f6=D(()=>{R7();zQ();VX();D9={buildMismatchTokenMessage({expected:Z,actual:Q,previous:X,ruleName:J}){return`Expecting ${mK(Z)?`--> ${M9(Z)} <--`:`token of type --> ${Z.name} <--`} but found --> '${Q.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:Q}){return"Redundant input, expecting EOF but found: "+Z.image},buildNoViableAltMessage({expectedPathsPerAlt:Z,actual:Q,previous:X,customUserDescription:J,ruleName:W}){let B=`
but found: '`+zX(Q).image+"'";if(J)return"Expecting: "+J+B;else{let K=yQ(Z,(F,q)=>F.concat(q),[]),U=CZ(K,(F)=>`[${CZ(F,(q)=>M9(q)).join(", ")}]`);return`Expecting: one of these possible Token sequences:
${CZ(U,(F,q)=>`  ${q+1}. ${F}`).join(`
`)}`+B}},buildEarlyExitMessage({expectedIterationPaths:Z,actual:Q,customUserDescription:X,ruleName:J}){let Y=`
but found: '`+zX(Q).image+"'";if(X)return"Expecting: "+X+Y;else return`Expecting: expecting at least one iteration which starts with one of these possible Token sequences::
  <${CZ(Z,(U)=>`[${CZ(U,(G)=>M9(G)).join(",")}]`).join(" ,")}>`+Y}};Object.freeze(D9);hD={buildRuleNotFoundError(Z,Q){return"Invalid grammar, reference to a rule which is not defined: ->"+Q.nonTerminalName+`<-
inside top level rule: ->`+Z.name+"<-"}},_0={buildDuplicateFoundError(Z,Q){function X(G){if(G instanceof eZ)return G.terminalType.name;else if(G instanceof MQ)return G.nonTerminalName;else return""}let J=Z.name,W=zX(Q),H=W.idx,Y=nX(W),B=X(W),K=H>0,U=`->${Y}${K?H:""}<- ${B?`with argument: ->${B}<-`:""}
                  appears more than once (${Q.length} times) in the top level rule: ->${J}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return U=U.replace(/[ \t]+/g," "),U=U.replace(/\s\s+/g,`
`),U},buildNamespaceConflictError(Z){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${Z.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(Z){let Q=CZ(Z.prefixPath,(W)=>M9(W)).join(", "),X=Z.alternation.idx===0?"":Z.alternation.idx;return`Ambiguous alternatives: <${Z.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${X}> inside <${Z.topLevelRule.name}> Rule,
<${Q}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(Z){let Q=CZ(Z.prefixPath,(W)=>M9(W)).join(", "),X=Z.alternation.idx===0?"":Z.alternation.idx,J=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(" ,")}> in <OR${X}> inside <${Z.topLevelRule.name}> Rule,
<${Q}> may appears as a prefix path in all these alternatives.
`;return J=J+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,J},buildEmptyRepetitionError(Z){let Q=nX(Z.repetition);if(Z.repetition.idx!==0)Q+=Z.repetition.idx;return`The repetition <${Q}> within Rule <${Z.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(Z){return"deprecated"},buildEmptyAlternationError(Z){return`Ambiguous empty alternative: <${Z.emptyChoiceIdx+1}> in <OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(Z){return`An Alternation cannot have more than 256 alternatives:
<OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.
 has ${Z.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(Z){let Q=Z.topLevelRule.name,X=CZ(Z.leftRecursionPath,(H)=>H.name),J=`${Q} --> ${X.concat([Q]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${Q}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${J}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(Z){return"deprecated"},buildDuplicateRuleNameError(Z){let Q;if(Z.topLevelRule instanceof iX)Q=Z.topLevelRule.name;else Q=Z.topLevelRule;return`Duplicate definition, rule: ->${Q}<- is already defined in the grammar: ->${Z.grammarName}<-`}}});function kD(Z,Q){let X=new mD(Z,Q);return X.resolveRefs(),X.errors}var mD;var uD=D(()=>{oX();zQ();VX();mD=class mD extends sX{constructor(Z,Q){super();this.nameToTopRule=Z,this.errMsgProvider=Q,this.errors=[]}resolveRefs(){SZ(DQ(this.nameToTopRule),(Z)=>{this.currTopLevel=Z,Z.accept(this)})}visitNonTerminal(Z){let Q=this.nameToTopRule[Z.nonTerminalName];if(!Q){let X=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,Z);this.errors.push({message:X,type:HX.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:Z.nonTerminalName})}else Z.referencedRule=Q}}});function J5(Z,Q,X=[]){X=RQ(X);let J=[],W=0;function H(B){return B.concat(nQ(Z,W+1))}function Y(B){let K=J5(H(B),Q,X);return J.concat(K)}while(X.length<Q&&W<Z.length){let B=Z[W];if(B instanceof jQ)return Y(B.definition);else if(B instanceof MQ)return Y(B.definition);else if(B instanceof LQ)J=Y(B.definition);else if(B instanceof fQ){let K=B.definition.concat([new WQ({definition:B.definition})]);return Y(K)}else if(B instanceof TQ){let K=[new jQ({definition:B.definition}),new WQ({definition:[new eZ({terminalType:B.separator})].concat(B.definition)})];return Y(K)}else if(B instanceof CQ){let K=B.definition.concat([new WQ({definition:[new eZ({terminalType:B.separator})].concat(B.definition)})]);J=Y(K)}else if(B instanceof WQ){let K=B.definition.concat([new WQ({definition:B.definition})]);J=Y(K)}else if(B instanceof IQ)return SZ(B.definition,(K)=>{if(oZ(K.definition)===!1)J=Y(K.definition)}),J;else if(B instanceof eZ)X.push(B.terminalType);else throw Error("non exhaustive match");W++}return J.push({partialPath:X,suffixDef:nQ(Z,W)}),J}function W5(Z,Q,X,J){let H=["EXIT_NONE_TERMINAL"],Y="EXIT_ALTERNATIVE",B=!1,K=Q.length,U=K-J-1,G=[],z=[];z.push({idx:-1,def:Z,ruleStack:[],occurrenceStack:[]});while(!oZ(z)){let F=z.pop();if(F==="EXIT_ALTERNATIVE"){if(B&&c0(z).idx<=U)z.pop();continue}let{def:q,idx:L,ruleStack:A,occurrenceStack:k}=F;if(oZ(q))continue;let T=q[0];if(T==="EXIT_NONE_TERMINAL"){let p={idx:L,def:nQ(q),ruleStack:F9(A),occurrenceStack:F9(k)};z.push(p)}else if(T instanceof eZ)if(L<K-1){let p=L+1,s=Q[p];if(X(s,T.terminalType)){let y={idx:p,def:nQ(q),ruleStack:A,occurrenceStack:k};z.push(y)}}else if(L===K-1)G.push({nextTokenType:T.terminalType,nextTokenOccurrence:T.idx,ruleStack:A,occurrenceStack:k}),B=!0;else throw Error("non exhaustive match");else if(T instanceof MQ){let p=RQ(A);p.push(T.nonTerminalName);let s=RQ(k);s.push(T.idx);let y={idx:L,def:T.definition.concat(H,nQ(q)),ruleStack:p,occurrenceStack:s};z.push(y)}else if(T instanceof LQ){let p={idx:L,def:nQ(q),ruleStack:A,occurrenceStack:k};z.push(p),z.push("EXIT_ALTERNATIVE");let s={idx:L,def:T.definition.concat(nQ(q)),ruleStack:A,occurrenceStack:k};z.push(s)}else if(T instanceof fQ){let p=new WQ({definition:T.definition,idx:T.idx}),s=T.definition.concat([p],nQ(q)),y={idx:L,def:s,ruleStack:A,occurrenceStack:k};z.push(y)}else if(T instanceof TQ){let p=new eZ({terminalType:T.separator}),s=new WQ({definition:[p].concat(T.definition),idx:T.idx}),y=T.definition.concat([s],nQ(q)),C={idx:L,def:y,ruleStack:A,occurrenceStack:k};z.push(C)}else if(T instanceof CQ){let p={idx:L,def:nQ(q),ruleStack:A,occurrenceStack:k};z.push(p),z.push("EXIT_ALTERNATIVE");let s=new eZ({terminalType:T.separator}),y=new WQ({definition:[s].concat(T.definition),idx:T.idx}),C=T.definition.concat([y],nQ(q)),P={idx:L,def:C,ruleStack:A,occurrenceStack:k};z.push(P)}else if(T instanceof WQ){let p={idx:L,def:nQ(q),ruleStack:A,occurrenceStack:k};z.push(p),z.push("EXIT_ALTERNATIVE");let s=new WQ({definition:T.definition,idx:T.idx}),y=T.definition.concat([s],nQ(q)),C={idx:L,def:y,ruleStack:A,occurrenceStack:k};z.push(C)}else if(T instanceof IQ)for(let p=T.definition.length-1;p>=0;p--){let s=T.definition[p],y={idx:L,def:s.definition.concat(nQ(q)),ruleStack:A,occurrenceStack:k};z.push(y),z.push("EXIT_ALTERNATIVE")}else if(T instanceof jQ)z.push({idx:L,def:T.definition.concat(nQ(q)),ruleStack:A,occurrenceStack:k});else if(T instanceof iX)z.push(dv(T,L,A,k));else throw Error("non exhaustive match")}return G}function dv(Z,Q,X,J){let W=RQ(X);W.push(Z.name);let H=RQ(J);return H.push(1),{idx:Q,def:Z.definition,ruleStack:W,occurrenceStack:H}}var pD,uK,PW,pK,Q5,yK,X5;var NW=D(()=>{zQ();TK();s4();VX();pD=class pD extends l9{constructor(Z,Q){super();this.topProd=Z,this.path=Q,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=RQ(this.path.ruleStack).reverse(),this.occurrenceStack=RQ(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(Z,Q=[]){if(!this.found)super.walk(Z,Q)}walkProdRef(Z,Q,X){if(Z.referencedRule.name===this.nextProductionName&&Z.idx===this.nextProductionOccurrence){let J=Q.concat(X);this.updateExpectedNext(),this.walk(Z.referencedRule,J)}}updateExpectedNext(){if(oZ(this.ruleStack))this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0;else this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop()}};uK=class uK extends pD{constructor(Z,Q){super(Z,Q);this.path=Q,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(Z,Q,X){if(this.isAtEndOfPath&&Z.terminalType.name===this.nextTerminalName&&Z.idx===this.nextTerminalOccurrence&&!this.found){let J=Q.concat(X),W=new jQ({definition:J});this.possibleTokTypes=O7(W),this.found=!0}}};PW=class PW extends l9{constructor(Z,Q){super();this.topRule=Z,this.occurrence=Q,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}};pK=class pK extends PW{walkMany(Z,Q,X){if(Z.idx===this.occurrence){let J=zX(Q.concat(X));if(this.result.isEndOfRule=J===void 0,J instanceof eZ)this.result.token=J.terminalType,this.result.occurrence=J.idx}else super.walkMany(Z,Q,X)}};Q5=class Q5 extends PW{walkManySep(Z,Q,X){if(Z.idx===this.occurrence){let J=zX(Q.concat(X));if(this.result.isEndOfRule=J===void 0,J instanceof eZ)this.result.token=J.terminalType,this.result.occurrence=J.idx}else super.walkManySep(Z,Q,X)}};yK=class yK extends PW{walkAtLeastOne(Z,Q,X){if(Z.idx===this.occurrence){let J=zX(Q.concat(X));if(this.result.isEndOfRule=J===void 0,J instanceof eZ)this.result.token=J.terminalType,this.result.occurrence=J.idx}else super.walkAtLeastOne(Z,Q,X)}};X5=class X5 extends PW{walkAtLeastOneSep(Z,Q,X){if(Z.idx===this.occurrence){let J=zX(Q.concat(X));if(this.result.isEndOfRule=J===void 0,J instanceof eZ)this.result.token=J.terminalType,this.result.occurrence=J.idx}else super.walkAtLeastOneSep(Z,Q,X)}}});function RW(Z){if(Z instanceof LQ||Z==="Option")return VQ.OPTION;else if(Z instanceof WQ||Z==="Repetition")return VQ.REPETITION;else if(Z instanceof fQ||Z==="RepetitionMandatory")return VQ.REPETITION_MANDATORY;else if(Z instanceof TQ||Z==="RepetitionMandatoryWithSeparator")return VQ.REPETITION_MANDATORY_WITH_SEPARATOR;else if(Z instanceof CQ||Z==="RepetitionWithSeparator")return VQ.REPETITION_WITH_SEPARATOR;else if(Z instanceof IQ||Z==="Alternation")return VQ.ALTERNATION;else throw Error("non exhaustive match")}function H5(Z){let{occurrence:Q,rule:X,prodType:J,maxLookahead:W}=Z,H=RW(J);if(H===VQ.ALTERNATION)return T6(Q,X,W);else return v6(Q,X,H,W)}function dD(Z,Q,X,J,W,H){let Y=T6(Z,Q,X),B=oD(Y)?S6:q9;return H(Y,J,B,W)}function $D(Z,Q,X,J,W,H){let Y=v6(Z,Q,W,X),B=oD(Y)?S6:q9;return H(Y[0],B,J)}function lD(Z,Q,X,J){let W=Z.length,H=_X(Z,(Y)=>{return _X(Y,(B)=>{return B.length===1})});if(Q)return function(Y){let B=CZ(Y,(K)=>K.GATE);for(let K=0;K<W;K++){let U=Z[K],G=U.length,z=B[K];if(z!==void 0&&z.call(this)===!1)continue;Z:for(let F=0;F<G;F++){let q=U[F],L=q.length;for(let A=0;A<L;A++){let k=this.LA(A+1);if(X(k,q[A])===!1)continue Z}return K}}return};else if(H&&!J){let Y=CZ(Z,(K)=>{return sQ(K)}),B=yQ(Y,(K,U,G)=>{return SZ(U,(z)=>{if(!fZ(K,z.tokenTypeIdx))K[z.tokenTypeIdx]=G;SZ(z.categoryMatches,(F)=>{if(!fZ(K,F))K[F]=G})}),K},{});return function(){let K=this.LA(1);return B[K.tokenTypeIdx]}}else return function(){for(let Y=0;Y<W;Y++){let B=Z[Y],K=B.length;Z:for(let U=0;U<K;U++){let G=B[U],z=G.length;for(let F=0;F<z;F++){let q=this.LA(F+1);if(X(q,G[F])===!1)continue Z}return Y}}return}}function cD(Z,Q,X){let J=_X(Z,(H)=>{return H.length===1}),W=Z.length;if(J&&!X){let H=sQ(Z);if(H.length===1&&oZ(H[0].categoryMatches)){let B=H[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===B}}else{let Y=yQ(H,(B,K,U)=>{return B[K.tokenTypeIdx]=!0,SZ(K.categoryMatches,(G)=>{B[G]=!0}),B},[]);return function(){let B=this.LA(1);return Y[B.tokenTypeIdx]===!0}}}else return function(){Z:for(let H=0;H<W;H++){let Y=Z[H],B=Y.length;for(let K=0;K<B;K++){let U=this.LA(K+1);if(Q(U,Y[K])===!1)continue Z}return!0}return!1}}function yD(Z){let Q=Array(Z);for(let X=0;X<Z;X++)Q[X]=[];return Q}function dK(Z){let Q=[""];for(let X=0;X<Z.length;X++){let J=Z[X],W=[];for(let H=0;H<Q.length;H++){let Y=Q[H];W.push(Y+"_"+J.tokenTypeIdx);for(let B=0;B<J.categoryMatches.length;B++){let K="_"+J.categoryMatches[B];W.push(Y+K)}}Q=W}return Q}function $v(Z,Q,X){for(let J=0;J<Z.length;J++){if(J===X)continue;let W=Z[J];for(let H=0;H<Q.length;H++){let Y=Q[H];if(W[Y]===!0)return!1}}return!0}function sD(Z,Q){let X=CZ(Z,(Y)=>J5([Y],1)),J=yD(X.length),W=CZ(X,(Y)=>{let B={};return SZ(Y,(K)=>{let U=dK(K.partialPath);SZ(U,(G)=>{B[G]=!0})}),B}),H=X;for(let Y=1;Y<=Q;Y++){let B=H;H=yD(B.length);for(let K=0;K<B.length;K++){let U=B[K];for(let G=0;G<U.length;G++){let z=U[G].partialPath,F=U[G].suffixDef,q=dK(z);if($v(W,q,K)||oZ(F)||z.length===Q){let A=J[K];if(Y5(A,z)===!1){A.push(z);for(let k=0;k<q.length;k++){let T=q[k];W[K][T]=!0}}}else{let A=J5(F,Y+1,z);H[K]=H[K].concat(A),SZ(A,(k)=>{let T=dK(k.partialPath);SZ(T,(p)=>{W[K][p]=!0})})}}}}return J}function T6(Z,Q,X,J){let W=new $K(Z,VQ.ALTERNATION,J);return Q.accept(W),sD(W.result,X)}function v6(Z,Q,X,J){let W=new $K(Z,X);Q.accept(W);let H=W.result,B=new iD(Q,Z,X).startWalking(),K=new jQ({definition:H}),U=new jQ({definition:B});return sD([K,U],J)}function Y5(Z,Q){Z:for(let X=0;X<Z.length;X++){let J=Z[X];if(J.length!==Q.length)continue;for(let W=0;W<J.length;W++){let H=Q[W],Y=J[W];if((H===Y||Y.categoryMatchesMap[H.tokenTypeIdx]!==void 0)===!1)continue Z}return!0}return!1}function nD(Z,Q){return Z.length<Q.length&&_X(Z,(X,J)=>{let W=Q[J];return X===W||W.categoryMatchesMap[X.tokenTypeIdx]})}function oD(Z){return _X(Z,(Q)=>_X(Q,(X)=>_X(X,(J)=>oZ(J.categoryMatches))))}var VQ,iD,$K;var x6=D(()=>{zQ();NW();s4();N7();VX();(function(Z){Z[Z.OPTION=0]="OPTION",Z[Z.REPETITION=1]="REPETITION",Z[Z.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",Z[Z.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",Z[Z.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",Z[Z.ALTERNATION=5]="ALTERNATION"})(VQ||(VQ={}));iD=class iD extends l9{constructor(Z,Q,X){super();this.topProd=Z,this.targetOccurrence=Q,this.targetProdType=X}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(Z,Q,X,J){if(Z.idx===this.targetOccurrence&&this.targetProdType===Q)return this.restDef=X.concat(J),!0;return!1}walkOption(Z,Q,X){if(!this.checkIsTarget(Z,VQ.OPTION,Q,X))super.walkOption(Z,Q,X)}walkAtLeastOne(Z,Q,X){if(!this.checkIsTarget(Z,VQ.REPETITION_MANDATORY,Q,X))super.walkOption(Z,Q,X)}walkAtLeastOneSep(Z,Q,X){if(!this.checkIsTarget(Z,VQ.REPETITION_MANDATORY_WITH_SEPARATOR,Q,X))super.walkOption(Z,Q,X)}walkMany(Z,Q,X){if(!this.checkIsTarget(Z,VQ.REPETITION,Q,X))super.walkOption(Z,Q,X)}walkManySep(Z,Q,X){if(!this.checkIsTarget(Z,VQ.REPETITION_WITH_SEPARATOR,Q,X))super.walkOption(Z,Q,X)}};$K=class $K extends sX{constructor(Z,Q,X){super();this.targetOccurrence=Z,this.targetProdType=Q,this.targetRef=X,this.result=[]}checkIsTarget(Z,Q){if(Z.idx===this.targetOccurrence&&this.targetProdType===Q&&(this.targetRef===void 0||Z===this.targetRef))this.result=Z.definition}visitOption(Z){this.checkIsTarget(Z,VQ.OPTION)}visitRepetition(Z){this.checkIsTarget(Z,VQ.REPETITION)}visitRepetitionMandatory(Z){this.checkIsTarget(Z,VQ.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(Z){this.checkIsTarget(Z,VQ.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(Z){this.checkIsTarget(Z,VQ.REPETITION_WITH_SEPARATOR)}visitAlternation(Z){this.checkIsTarget(Z,VQ.ALTERNATION)}}});function rD(Z){let Q=Z.lookaheadStrategy.validate({rules:Z.rules,tokenTypes:Z.tokenTypes,grammarName:Z.grammarName});return CZ(Q,(X)=>Object.assign({type:HX.CUSTOM_LOOKAHEAD_VALIDATION},X))}function aD(Z,Q,X,J){let W=MX(Z,(K)=>lv(K,X)),H=rv(Z,Q,X),Y=MX(Z,(K)=>sv(K,X)),B=MX(Z,(K)=>iv(K,Z,J,X));return W.concat(H,Y,B)}function lv(Z,Q){let X=new eD;Z.accept(X);let J=X.allProductions,W=NK(J,cv),H=cX(W,(B)=>{return B.length>1});return CZ(DQ(H),(B)=>{let K=zX(B),U=Q.buildDuplicateFoundError(Z,B),G=nX(K),z={message:U,type:HX.DUPLICATE_PRODUCTIONS,ruleName:Z.name,dslName:G,occurrence:K.idx},F=tD(K);if(F)z.parameter=F;return z})}function cv(Z){return`${nX(Z)}_#_${Z.idx}_#_${tD(Z)}`}function tD(Z){if(Z instanceof eZ)return Z.terminalType.name;else if(Z instanceof MQ)return Z.nonTerminalName;else return""}function iv(Z,Q,X,J){let W=[];if(yQ(Q,(Y,B)=>{if(B.name===Z.name)return Y+1;return Y},0)>1){let Y=J.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:X});W.push({message:Y,type:HX.DUPLICATE_RULE_NAME,ruleName:Z.name})}return W}function ZE(Z,Q,X){let J=[],W;if(!bQ(Q,Z))W=`Invalid rule override, rule: ->${Z}<- cannot be overridden in the grammar: ->${X}<-as it is not defined in any of the super grammars `,J.push({message:W,type:HX.INVALID_RULE_OVERRIDE,ruleName:Z});return J}function lK(Z,Q,X,J=[]){let W=[],H=B5(Q.definition);if(oZ(H))return[];else{let Y=Z.name;if(bQ(H,Z))W.push({message:X.buildLeftRecursionError({topLevelRule:Z,leftRecursionPath:J}),type:HX.LEFT_RECURSION,ruleName:Y});let K=d9(H,J.concat([Z])),U=MX(K,(G)=>{let z=RQ(J);return z.push(G),lK(Z,G,X,z)});return W.concat(U)}}function B5(Z){let Q=[];if(oZ(Z))return Q;let X=zX(Z);if(X instanceof MQ)Q.push(X.referencedRule);else if(X instanceof jQ||X instanceof LQ||X instanceof fQ||X instanceof TQ||X instanceof CQ||X instanceof WQ)Q=Q.concat(B5(X.definition));else if(X instanceof IQ)Q=sQ(CZ(X.definition,(H)=>B5(H.definition)));else if(X instanceof eZ);else throw Error("non exhaustive match");let J=A7(X),W=Z.length>1;if(J&&W){let H=nQ(Z);return Q.concat(B5(H))}else return Q}function QE(Z,Q){let X=new K5;Z.accept(X);let J=X.alternations;return MX(J,(H)=>{let Y=F9(H.definition);return MX(Y,(B,K)=>{let U=W5([B],[],q9,1);if(oZ(U))return[{message:Q.buildEmptyAlternationError({topLevelRule:Z,alternation:H,emptyChoiceIdx:K}),type:HX.NONE_LAST_EMPTY_ALT,ruleName:Z.name,occurrence:H.idx,alternative:K+1}];else return[]})})}function XE(Z,Q,X){let J=new K5;Z.accept(J);let W=J.alternations;return W=$9(W,(Y)=>Y.ignoreAmbiguities===!0),MX(W,(Y)=>{let B=Y.idx,K=Y.maxLookahead||Q,U=T6(B,Z,K,Y),G=nv(U,Y,Z,X),z=ov(U,Y,Z,X);return G.concat(z)})}function sv(Z,Q){let X=new K5;Z.accept(X);let J=X.alternations;return MX(J,(H)=>{if(H.definition.length>255)return[{message:Q.buildTooManyAlternativesError({topLevelRule:Z,alternation:H}),type:HX.TOO_MANY_ALTS,ruleName:Z.name,occurrence:H.idx}];else return[]})}function WE(Z,Q,X){let J=[];return SZ(Z,(W)=>{let H=new JE;W.accept(H);let Y=H.allProductions;SZ(Y,(B)=>{let K=RW(B),U=B.maxLookahead||Q,G=B.idx,F=v6(G,W,K,U)[0];if(oZ(sQ(F))){let q=X.buildEmptyRepetitionError({topLevelRule:W,repetition:B});J.push({message:q,type:HX.NO_NON_EMPTY_LOOKAHEAD,ruleName:W.name})}})}),J}function nv(Z,Q,X,J){let W=[],H=yQ(Z,(B,K,U)=>{if(Q.definition[U].ignoreAmbiguities===!0)return B;return SZ(K,(G)=>{let z=[U];if(SZ(Z,(F,q)=>{if(U!==q&&Y5(F,G)&&Q.definition[q].ignoreAmbiguities!==!0)z.push(q)}),z.length>1&&!Y5(W,G))W.push(G),B.push({alts:z,path:G})}),B},[]);return CZ(H,(B)=>{let K=CZ(B.alts,(G)=>G+1);return{message:J.buildAlternationAmbiguityError({topLevelRule:X,alternation:Q,ambiguityIndices:K,prefixPath:B.path}),type:HX.AMBIGUOUS_ALTS,ruleName:X.name,occurrence:Q.idx,alternatives:B.alts}})}function ov(Z,Q,X,J){let W=yQ(Z,(Y,B,K)=>{let U=CZ(B,(G)=>{return{idx:K,path:G}});return Y.concat(U)},[]);return l0(MX(W,(Y)=>{if(Q.definition[Y.idx].ignoreAmbiguities===!0)return[];let{idx:K,path:U}=Y,G=GX(W,(F)=>{return Q.definition[F.idx].ignoreAmbiguities!==!0&&F.idx<K&&nD(F.path,U)});return CZ(G,(F)=>{let q=[F.idx+1,K+1],L=Q.idx===0?"":Q.idx;return{message:J.buildAlternationPrefixAmbiguityError({topLevelRule:X,alternation:Q,ambiguityIndices:q,prefixPath:F.path}),type:HX.AMBIGUOUS_PREFIX_ALTS,ruleName:X.name,occurrence:L,alternatives:q}})}))}function rv(Z,Q,X){let J=[],W=CZ(Q,(H)=>H.name);return SZ(Z,(H)=>{let Y=H.name;if(bQ(W,Y)){let B=X.buildNamespaceConflictError(H);J.push({message:B,type:HX.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:Y})}}),J}var eD,K5,JE;var CW=D(()=>{zQ();oX();VX();x6();NW();N7();eD=class eD extends sX{constructor(){super(...arguments);this.allProductions=[]}visitNonTerminal(Z){this.allProductions.push(Z)}visitOption(Z){this.allProductions.push(Z)}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}visitAlternation(Z){this.allProductions.push(Z)}visitTerminal(Z){this.allProductions.push(Z)}};K5=class K5 extends sX{constructor(){super(...arguments);this.alternations=[]}visitAlternation(Z){this.alternations.push(Z)}};JE=class JE extends sX{constructor(){super(...arguments);this.allProductions=[]}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}}});function HE(Z){let Q=E6(Z,{errMsgProvider:hD}),X={};return SZ(Z.rules,(J)=>{X[J.name]=J}),kD(X,Q.errMsgProvider)}function YE(Z){return Z=E6(Z,{errMsgProvider:_0}),aD(Z.rules,Z.tokenTypes,Z.errMsgProvider,Z.grammarName)}var BE=D(()=>{zQ();uD();CW();f6()});function i9(Z){return bQ(FE,Z.name)}var KE="MismatchedTokenException",UE="NoViableAltException",GE="EarlyExitException",zE="NotAllInputParsedException",FE,IW,b6,U5,G5,z5;var g6=D(()=>{zQ();FE=[KE,UE,GE,zE];Object.freeze(FE);IW=class IW extends Error{constructor(Z,Q){super(Z);if(this.token=Q,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}};b6=class b6 extends IW{constructor(Z,Q,X){super(Z,Q);this.previousToken=X,this.name=KE}};U5=class U5 extends IW{constructor(Z,Q,X){super(Z,Q);this.previousToken=X,this.name=UE}};G5=class G5 extends IW{constructor(Z,Q){super(Z,Q);this.name=zE}};z5=class z5 extends IW{constructor(Z,Q,X){super(Z,Q);this.previousToken=X,this.name=GE}}});class sK{initRecoverable(Z){if(this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=fZ(Z,"recoveryEnabled")?Z.recoveryEnabled:hX.recoveryEnabled,this.recoveryEnabled)this.attemptInRepetitionRecovery=av}getTokenToInsert(Z){let Q=L9(Z,"",NaN,NaN,NaN,NaN,NaN,NaN);return Q.isInsertedInRecovery=!0,Q}canTokenTypeBeInsertedInRecovery(Z){return!0}canTokenTypeBeDeletedInRecovery(Z){return!0}tryInRepetitionRecovery(Z,Q,X,J){let W=this.findReSyncTokenType(),H=this.exportLexerState(),Y=[],B=!1,K=this.LA(1),U=this.LA(1),G=()=>{let z=this.LA(0),F=this.errorMessageProvider.buildMismatchTokenMessage({expected:J,actual:K,previous:z,ruleName:this.getCurrRuleFullName()}),q=new b6(F,K,this.LA(0));q.resyncedTokens=F9(Y),this.SAVE_ERROR(q)};while(!B)if(this.tokenMatcher(U,J)){G();return}else if(X.call(this)){G(),Z.apply(this,Q);return}else if(this.tokenMatcher(U,W))B=!0;else U=this.SKIP_TOKEN(),this.addToResyncTokens(U,Y);this.importLexerState(H)}shouldInRepetitionRecoveryBeTried(Z,Q,X){if(X===!1)return!1;if(this.tokenMatcher(this.LA(1),Z))return!1;if(this.isBackTracking())return!1;if(this.canPerformInRuleRecovery(Z,this.getFollowsForInRuleRecovery(Z,Q)))return!1;return!0}getFollowsForInRuleRecovery(Z,Q){let X=this.getCurrentGrammarPath(Z,Q);return this.getNextPossibleTokenTypes(X)}tryInRuleRecovery(Z,Q){if(this.canRecoverWithSingleTokenInsertion(Z,Q))return this.getTokenToInsert(Z);if(this.canRecoverWithSingleTokenDeletion(Z)){let X=this.SKIP_TOKEN();return this.consumeToken(),X}throw new qE("sad sad panda")}canPerformInRuleRecovery(Z,Q){return this.canRecoverWithSingleTokenInsertion(Z,Q)||this.canRecoverWithSingleTokenDeletion(Z)}canRecoverWithSingleTokenInsertion(Z,Q){if(!this.canTokenTypeBeInsertedInRecovery(Z))return!1;if(oZ(Q))return!1;let X=this.LA(1);return i0(Q,(W)=>{return this.tokenMatcher(X,W)})!==void 0}canRecoverWithSingleTokenDeletion(Z){if(!this.canTokenTypeBeDeletedInRecovery(Z))return!1;return this.tokenMatcher(this.LA(2),Z)}isInCurrentRuleReSyncSet(Z){let Q=this.getCurrFollowKey(),X=this.getFollowSetFromFollowKey(Q);return bQ(X,Z)}findReSyncTokenType(){let Z=this.flattenFollowSet(),Q=this.LA(1),X=2;while(!0){let J=i0(Z,(W)=>{return OW(Q,W)});if(J!==void 0)return J;Q=this.LA(X),X++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return cK;let Z=this.getLastExplicitRuleShortName(),Q=this.getLastExplicitRuleOccurrenceIndex(),X=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(Z),idxInCallingRule:Q,inRule:this.shortRuleNameToFullName(X)}}buildFullFollowKeyStack(){let Z=this.RULE_STACK,Q=this.RULE_OCCURRENCE_STACK;return CZ(Z,(X,J)=>{if(J===0)return cK;return{ruleName:this.shortRuleNameToFullName(X),idxInCallingRule:Q[J],inRule:this.shortRuleNameToFullName(Z[J-1])}})}flattenFollowSet(){let Z=CZ(this.buildFullFollowKeyStack(),(Q)=>{return this.getFollowSetFromFollowKey(Q)});return sQ(Z)}getFollowSetFromFollowKey(Z){if(Z===cK)return[X0];let Q=Z.ruleName+Z.idxInCallingRule+n4+Z.inRule;return this.resyncFollows[Q]}addToResyncTokens(Z,Q){if(!this.tokenMatcher(Z,X0))Q.push(Z);return Q}reSyncTo(Z){let Q=[],X=this.LA(1);while(this.tokenMatcher(X,Z)===!1)X=this.SKIP_TOKEN(),this.addToResyncTokens(X,Q);return F9(Q)}attemptInRepetitionRecovery(Z,Q,X,J,W,H,Y){}getCurrentGrammarPath(Z,Q){let X=this.getHumanReadableRuleStack(),J=RQ(this.RULE_OCCURRENCE_STACK);return{ruleStack:X,occurrenceStack:J,lastTok:Z,lastTokOccurrence:Q}}getHumanReadableRuleStack(){return CZ(this.RULE_STACK,(Z)=>this.shortRuleNameToFullName(Z))}}function av(Z,Q,X,J,W,H,Y){let B=this.getKeyForAutomaticLookahead(J,W),K=this.firstAfterRepMap[B];if(K===void 0){let F=this.getCurrRuleFullName(),q=this.getGAstProductions()[F];K=new H(q,W).startWalking(),this.firstAfterRepMap[B]=K}let{token:U,occurrence:G,isEndOfRule:z}=K;if(this.RULE_STACK.length===1&&z&&U===void 0)U=X0,G=1;if(U===void 0||G===void 0)return;if(this.shouldInRepetitionRecoveryBeTried(U,G,Y))this.tryInRepetitionRecovery(Z,Q,X,U)}var cK,iK="InRuleRecoveryException",qE;var nK=D(()=>{R7();zQ();g6();oX();cK={};qE=class qE extends Error{constructor(Z){super(Z);this.name=iK}}});function M5(Z,Q,X){return X|Q|Z}var wE=4,F5=8,q5=256,w5=512,_W=768,SW=1024,jW=1280,V6=1536;class s9{constructor(Z){var Q;this.maxLookahead=(Q=Z===null||Z===void 0?void 0:Z.maxLookahead)!==null&&Q!==void 0?Q:hX.maxLookahead}validate(Z){let Q=this.validateNoLeftRecursion(Z.rules);if(oZ(Q)){let X=this.validateEmptyOrAlternatives(Z.rules),J=this.validateAmbiguousAlternationAlternatives(Z.rules,this.maxLookahead),W=this.validateSomeNonEmptyLookaheadPath(Z.rules,this.maxLookahead);return[...Q,...X,...J,...W]}return Q}validateNoLeftRecursion(Z){return MX(Z,(Q)=>lK(Q,Q,_0))}validateEmptyOrAlternatives(Z){return MX(Z,(Q)=>QE(Q,_0))}validateAmbiguousAlternationAlternatives(Z,Q){return MX(Z,(X)=>XE(X,Q,_0))}validateSomeNonEmptyLookaheadPath(Z,Q){return WE(Z,Q,_0)}buildLookaheadForAlternation(Z){return dD(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.hasPredicates,Z.dynamicTokensEnabled,lD)}buildLookaheadForOptional(Z){return $D(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.dynamicTokensEnabled,RW(Z.prodType),cD)}}var oK=D(()=>{zQ();f6();oX();CW();x6()});class rK{initLooksAhead(Z){this.dynamicTokensEnabled=fZ(Z,"dynamicTokensEnabled")?Z.dynamicTokensEnabled:hX.dynamicTokensEnabled,this.maxLookahead=fZ(Z,"maxLookahead")?Z.maxLookahead:hX.maxLookahead,this.lookaheadStrategy=fZ(Z,"lookaheadStrategy")?Z.lookaheadStrategy:new s9({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(Z){SZ(Z,(Q)=>{this.TRACE_INIT(`${Q.name} Rule Lookahead`,()=>{let{alternation:X,repetition:J,option:W,repetitionMandatory:H,repetitionMandatoryWithSeparator:Y,repetitionWithSeparator:B}=tv(Q);SZ(X,(K)=>{let U=K.idx===0?"":K.idx;this.TRACE_INIT(`${nX(K)}${U}`,()=>{let G=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:K.idx,rule:Q,maxLookahead:K.maxLookahead||this.maxLookahead,hasPredicates:K.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),z=M5(this.fullRuleNameToShort[Q.name],q5,K.idx);this.setLaFuncCache(z,G)})}),SZ(J,(K)=>{this.computeLookaheadFunc(Q,K.idx,_W,"Repetition",K.maxLookahead,nX(K))}),SZ(W,(K)=>{this.computeLookaheadFunc(Q,K.idx,w5,"Option",K.maxLookahead,nX(K))}),SZ(H,(K)=>{this.computeLookaheadFunc(Q,K.idx,SW,"RepetitionMandatory",K.maxLookahead,nX(K))}),SZ(Y,(K)=>{this.computeLookaheadFunc(Q,K.idx,V6,"RepetitionMandatoryWithSeparator",K.maxLookahead,nX(K))}),SZ(B,(K)=>{this.computeLookaheadFunc(Q,K.idx,jW,"RepetitionWithSeparator",K.maxLookahead,nX(K))})})})}computeLookaheadFunc(Z,Q,X,J,W,H){this.TRACE_INIT(`${H}${Q===0?"":Q}`,()=>{let Y=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:Q,rule:Z,maxLookahead:W||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:J}),B=M5(this.fullRuleNameToShort[Z.name],X,Q);this.setLaFuncCache(B,Y)})}getKeyForAutomaticLookahead(Z,Q){let X=this.getLastExplicitRuleShortName();return M5(X,Z,Q)}getLaFuncFromCache(Z){return this.lookAheadFuncsCache.get(Z)}setLaFuncCache(Z,Q){this.lookAheadFuncsCache.set(Z,Q)}}function tv(Z){L5.reset(),Z.accept(L5);let Q=L5.dslMethods;return L5.reset(),Q}var ME,L5;var LE=D(()=>{zQ();oX();VX();oK();ME=class ME extends sX{constructor(){super(...arguments);this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(Z){this.dslMethods.option.push(Z)}visitRepetitionWithSeparator(Z){this.dslMethods.repetitionWithSeparator.push(Z)}visitRepetitionMandatory(Z){this.dslMethods.repetitionMandatory.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.dslMethods.repetitionMandatoryWithSeparator.push(Z)}visitRepetition(Z){this.dslMethods.repetition.push(Z)}visitAlternation(Z){this.dslMethods.alternation.push(Z)}};L5=new ME});function aK(Z,Q){if(isNaN(Z.startOffset)===!0)Z.startOffset=Q.startOffset,Z.endOffset=Q.endOffset;else if(Z.endOffset<Q.endOffset===!0)Z.endOffset=Q.endOffset}function tK(Z,Q){if(isNaN(Z.startOffset)===!0)Z.startOffset=Q.startOffset,Z.startColumn=Q.startColumn,Z.startLine=Q.startLine,Z.endOffset=Q.endOffset,Z.endColumn=Q.endColumn,Z.endLine=Q.endLine;else if(Z.endOffset<Q.endOffset===!0)Z.endOffset=Q.endOffset,Z.endColumn=Q.endColumn,Z.endLine=Q.endLine}function DE(Z,Q,X){if(Z.children[X]===void 0)Z.children[X]=[Q];else Z.children[X].push(Q)}function EE(Z,Q,X){if(Z.children[Q]===void 0)Z.children[Q]=[X];else Z.children[Q].push(X)}function eK(Z,Q){Object.defineProperty(Z,"name",{enumerable:!1,configurable:!0,writable:!1,value:Q})}function ev(Z,Q){let X=PQ(Z),J=X.length;for(let W=0;W<J;W++){let H=X[W],Y=Z[H],B=Y.length;for(let K=0;K<B;K++){let U=Y[K];if(U.tokenTypeIdx===void 0)this[U.name](U.children,Q)}}}function AE(Z,Q){let X=function(){};eK(X,Z+"BaseSemantics");let J={visit:function(W,H){if(TZ(W))W=W[0];if(SX(W))return;return this[W.name](W.children,H)},validateVisitor:function(){let W=Zx(this,Q);if(!oZ(W)){let H=CZ(W,(Y)=>Y.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${H.join(`

`).replace(/\n/g,`
	`)}`)}}};return X.prototype=J,X.prototype.constructor=X,X._RULE_NAMES=Q,X}function OE(Z,Q,X){let J=function(){};eK(J,Z+"BaseSemanticsWithDefaults");let W=Object.create(X.prototype);return SZ(Q,(H)=>{W[H]=ev}),J.prototype=W,J.prototype.constructor=J,J}function Zx(Z,Q){return Qx(Z,Q)}function Qx(Z,Q){let X=GX(Q,(W)=>{return gX(Z[W])===!1}),J=CZ(X,(W)=>{return{msg:`Missing visitor method: <${W}> on ${Z.constructor.name} CST Visitor.`,type:ZU.MISSING_METHOD,methodName:W}});return l0(J)}var ZU;var PE=D(()=>{zQ();(function(Z){Z[Z.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",Z[Z.MISSING_METHOD=1]="MISSING_METHOD"})(ZU||(ZU={}))});class QU{initTreeBuilder(Z){if(this.CST_STACK=[],this.outputCst=Z.outputCst,this.nodeLocationTracking=fZ(Z,"nodeLocationTracking")?Z.nodeLocationTracking:hX.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=pQ,this.cstFinallyStateUpdate=pQ,this.cstPostTerminal=pQ,this.cstPostNonTerminal=pQ,this.cstPostRule=pQ;else if(/full/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=tK,this.setNodeLocationFromNode=tK,this.cstPostRule=pQ,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery;else this.setNodeLocationFromToken=pQ,this.setNodeLocationFromNode=pQ,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular;else if(/onlyOffset/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=aK,this.setNodeLocationFromNode=aK,this.cstPostRule=pQ,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery;else this.setNodeLocationFromToken=pQ,this.setNodeLocationFromNode=pQ,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular;else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=pQ,this.setNodeLocationFromNode=pQ,this.cstPostRule=pQ,this.setInitialNodeLocation=pQ;else throw Error(`Invalid <nodeLocationTracking> config option: "${Z.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(Z){Z.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(Z){Z.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(Z){Z.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(Z){let Q=this.LA(1);Z.location={startOffset:Q.startOffset,startLine:Q.startLine,startColumn:Q.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(Z){let Q={name:Z,children:Object.create(null)};this.setInitialNodeLocation(Q),this.CST_STACK.push(Q)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(Z){let Q=this.LA(0),X=Z.location;if(X.startOffset<=Q.startOffset===!0)X.endOffset=Q.endOffset,X.endLine=Q.endLine,X.endColumn=Q.endColumn;else X.startOffset=NaN,X.startLine=NaN,X.startColumn=NaN}cstPostRuleOnlyOffset(Z){let Q=this.LA(0),X=Z.location;if(X.startOffset<=Q.startOffset===!0)X.endOffset=Q.endOffset;else X.startOffset=NaN}cstPostTerminal(Z,Q){let X=this.CST_STACK[this.CST_STACK.length-1];DE(X,Q,Z),this.setNodeLocationFromToken(X.location,Q)}cstPostNonTerminal(Z,Q){let X=this.CST_STACK[this.CST_STACK.length-1];EE(X,Q,Z),this.setNodeLocationFromNode(X.location,Z.location)}getBaseCstVisitorConstructor(){if(SX(this.baseCstVisitorConstructor)){let Z=AE(this.className,PQ(this.gastProductionsCache));return this.baseCstVisitorConstructor=Z,Z}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(SX(this.baseCstVisitorWithDefaultsConstructor)){let Z=OE(this.className,PQ(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=Z,Z}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let Z=this.RULE_STACK;return Z[Z.length-1]}getPreviousExplicitRuleShortName(){let Z=this.RULE_STACK;return Z[Z.length-2]}getLastExplicitRuleOccurrenceIndex(){let Z=this.RULE_OCCURRENCE_STACK;return Z[Z.length-1]}}var NE=D(()=>{zQ();PE();oX()});class XU{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(Z){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=Z,this.tokVectorLength=Z.length}get input(){return this.tokVector}SKIP_TOKEN(){if(this.currIdx<=this.tokVector.length-2)return this.consumeToken(),this.LA(1);else return h6}LA(Z){let Q=this.currIdx+Z;if(Q<0||this.tokVectorLength<=Q)return h6;else return this.tokVector[Q]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(Z){this.currIdx=Z}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}var RE=D(()=>{oX()});class JU{ACTION(Z){return Z.call(this)}consume(Z,Q,X){return this.consumeInternal(Q,Z,X)}subrule(Z,Q,X){return this.subruleInternal(Q,Z,X)}option(Z,Q){return this.optionInternal(Q,Z)}or(Z,Q){return this.orInternal(Q,Z)}many(Z,Q){return this.manyInternal(Z,Q)}atLeastOne(Z,Q){return this.atLeastOneInternal(Z,Q)}CONSUME(Z,Q){return this.consumeInternal(Z,0,Q)}CONSUME1(Z,Q){return this.consumeInternal(Z,1,Q)}CONSUME2(Z,Q){return this.consumeInternal(Z,2,Q)}CONSUME3(Z,Q){return this.consumeInternal(Z,3,Q)}CONSUME4(Z,Q){return this.consumeInternal(Z,4,Q)}CONSUME5(Z,Q){return this.consumeInternal(Z,5,Q)}CONSUME6(Z,Q){return this.consumeInternal(Z,6,Q)}CONSUME7(Z,Q){return this.consumeInternal(Z,7,Q)}CONSUME8(Z,Q){return this.consumeInternal(Z,8,Q)}CONSUME9(Z,Q){return this.consumeInternal(Z,9,Q)}SUBRULE(Z,Q){return this.subruleInternal(Z,0,Q)}SUBRULE1(Z,Q){return this.subruleInternal(Z,1,Q)}SUBRULE2(Z,Q){return this.subruleInternal(Z,2,Q)}SUBRULE3(Z,Q){return this.subruleInternal(Z,3,Q)}SUBRULE4(Z,Q){return this.subruleInternal(Z,4,Q)}SUBRULE5(Z,Q){return this.subruleInternal(Z,5,Q)}SUBRULE6(Z,Q){return this.subruleInternal(Z,6,Q)}SUBRULE7(Z,Q){return this.subruleInternal(Z,7,Q)}SUBRULE8(Z,Q){return this.subruleInternal(Z,8,Q)}SUBRULE9(Z,Q){return this.subruleInternal(Z,9,Q)}OPTION(Z){return this.optionInternal(Z,0)}OPTION1(Z){return this.optionInternal(Z,1)}OPTION2(Z){return this.optionInternal(Z,2)}OPTION3(Z){return this.optionInternal(Z,3)}OPTION4(Z){return this.optionInternal(Z,4)}OPTION5(Z){return this.optionInternal(Z,5)}OPTION6(Z){return this.optionInternal(Z,6)}OPTION7(Z){return this.optionInternal(Z,7)}OPTION8(Z){return this.optionInternal(Z,8)}OPTION9(Z){return this.optionInternal(Z,9)}OR(Z){return this.orInternal(Z,0)}OR1(Z){return this.orInternal(Z,1)}OR2(Z){return this.orInternal(Z,2)}OR3(Z){return this.orInternal(Z,3)}OR4(Z){return this.orInternal(Z,4)}OR5(Z){return this.orInternal(Z,5)}OR6(Z){return this.orInternal(Z,6)}OR7(Z){return this.orInternal(Z,7)}OR8(Z){return this.orInternal(Z,8)}OR9(Z){return this.orInternal(Z,9)}MANY(Z){this.manyInternal(0,Z)}MANY1(Z){this.manyInternal(1,Z)}MANY2(Z){this.manyInternal(2,Z)}MANY3(Z){this.manyInternal(3,Z)}MANY4(Z){this.manyInternal(4,Z)}MANY5(Z){this.manyInternal(5,Z)}MANY6(Z){this.manyInternal(6,Z)}MANY7(Z){this.manyInternal(7,Z)}MANY8(Z){this.manyInternal(8,Z)}MANY9(Z){this.manyInternal(9,Z)}MANY_SEP(Z){this.manySepFirstInternal(0,Z)}MANY_SEP1(Z){this.manySepFirstInternal(1,Z)}MANY_SEP2(Z){this.manySepFirstInternal(2,Z)}MANY_SEP3(Z){this.manySepFirstInternal(3,Z)}MANY_SEP4(Z){this.manySepFirstInternal(4,Z)}MANY_SEP5(Z){this.manySepFirstInternal(5,Z)}MANY_SEP6(Z){this.manySepFirstInternal(6,Z)}MANY_SEP7(Z){this.manySepFirstInternal(7,Z)}MANY_SEP8(Z){this.manySepFirstInternal(8,Z)}MANY_SEP9(Z){this.manySepFirstInternal(9,Z)}AT_LEAST_ONE(Z){this.atLeastOneInternal(0,Z)}AT_LEAST_ONE1(Z){return this.atLeastOneInternal(1,Z)}AT_LEAST_ONE2(Z){this.atLeastOneInternal(2,Z)}AT_LEAST_ONE3(Z){this.atLeastOneInternal(3,Z)}AT_LEAST_ONE4(Z){this.atLeastOneInternal(4,Z)}AT_LEAST_ONE5(Z){this.atLeastOneInternal(5,Z)}AT_LEAST_ONE6(Z){this.atLeastOneInternal(6,Z)}AT_LEAST_ONE7(Z){this.atLeastOneInternal(7,Z)}AT_LEAST_ONE8(Z){this.atLeastOneInternal(8,Z)}AT_LEAST_ONE9(Z){this.atLeastOneInternal(9,Z)}AT_LEAST_ONE_SEP(Z){this.atLeastOneSepFirstInternal(0,Z)}AT_LEAST_ONE_SEP1(Z){this.atLeastOneSepFirstInternal(1,Z)}AT_LEAST_ONE_SEP2(Z){this.atLeastOneSepFirstInternal(2,Z)}AT_LEAST_ONE_SEP3(Z){this.atLeastOneSepFirstInternal(3,Z)}AT_LEAST_ONE_SEP4(Z){this.atLeastOneSepFirstInternal(4,Z)}AT_LEAST_ONE_SEP5(Z){this.atLeastOneSepFirstInternal(5,Z)}AT_LEAST_ONE_SEP6(Z){this.atLeastOneSepFirstInternal(6,Z)}AT_LEAST_ONE_SEP7(Z){this.atLeastOneSepFirstInternal(7,Z)}AT_LEAST_ONE_SEP8(Z){this.atLeastOneSepFirstInternal(8,Z)}AT_LEAST_ONE_SEP9(Z){this.atLeastOneSepFirstInternal(9,Z)}RULE(Z,Q,X=k6){if(bQ(this.definedRulesNames,Z)){let H={message:_0.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:this.className}),type:HX.DUPLICATE_RULE_NAME,ruleName:Z};this.definitionErrors.push(H)}this.definedRulesNames.push(Z);let J=this.defineRule(Z,Q,X);return this[Z]=J,J}OVERRIDE_RULE(Z,Q,X=k6){let J=ZE(Z,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(J);let W=this.defineRule(Z,Q,X);return this[Z]=W,W}BACKTRACK(Z,Q){return function(){this.isBackTrackingStack.push(1);let X=this.saveRecogState();try{return Z.apply(this,Q),!0}catch(J){if(i9(J))return!1;else throw J}finally{this.reloadRecogState(X),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return c4(DQ(this.gastProductionsCache))}}var CE=D(()=>{zQ();g6();oX();f6();CW();VX()});class WU{initRecognizerEngine(Z,Q){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=S6,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},fZ(Q,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(TZ(Z)){if(oZ(Z))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof Z[0].startOffset==="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(TZ(Z))this.tokensMap=yQ(Z,(W,H)=>{return W[H.name]=H,W},{});else if(fZ(Z,"modes")&&_X(sQ(DQ(Z.modes)),SD)){let W=sQ(DQ(Z.modes)),H=O6(W);this.tokensMap=yQ(H,(Y,B)=>{return Y[B.name]=B,Y},{})}else if(uQ(Z))this.tokensMap=RQ(Z);else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=X0;let X=fZ(Z,"modes")?sQ(DQ(Z.modes)):DQ(Z),J=_X(X,(W)=>oZ(W.categoryMatches));this.tokenMatcher=J?S6:q9,w9(DQ(this.tokensMap))}defineRule(Z,Q,X){if(this.selfAnalysisDone)throw Error(`Grammar rule <${Z}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let J=fZ(X,"resyncEnabled")?X.resyncEnabled:k6.resyncEnabled,W=fZ(X,"recoveryValueFunc")?X.recoveryValueFunc:k6.recoveryValueFunc,H=this.ruleShortNameIdx<<wE+F5;this.ruleShortNameIdx++,this.shortRuleNameToFull[H]=Z,this.fullRuleNameToShort[Z]=H;let Y;if(this.outputCst===!0)Y=function(...U){try{this.ruleInvocationStateUpdate(H,Z,this.subruleIdx),Q.apply(this,U);let G=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(G),G}catch(G){return this.invokeRuleCatch(G,J,W)}finally{this.ruleFinallyStateUpdate()}};else Y=function(...U){try{return this.ruleInvocationStateUpdate(H,Z,this.subruleIdx),Q.apply(this,U)}catch(G){return this.invokeRuleCatch(G,J,W)}finally{this.ruleFinallyStateUpdate()}};return Object.assign(Y,{ruleName:Z,originalGrammarAction:Q})}invokeRuleCatch(Z,Q,X){let J=this.RULE_STACK.length===1,W=Q&&!this.isBackTracking()&&this.recoveryEnabled;if(i9(Z)){let H=Z;if(W){let Y=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(Y))if(H.resyncedTokens=this.reSyncTo(Y),this.outputCst){let B=this.CST_STACK[this.CST_STACK.length-1];return B.recoveredNode=!0,B}else return X(Z);else{if(this.outputCst){let B=this.CST_STACK[this.CST_STACK.length-1];B.recoveredNode=!0,H.partialCstResult=B}throw H}}else if(J)return this.moveToTerminatedState(),X(Z);else throw H}else throw Z}optionInternal(Z,Q){let X=this.getKeyForAutomaticLookahead(w5,Q);return this.optionInternalLogic(Z,Q,X)}optionInternalLogic(Z,Q,X){let J=this.getLaFuncFromCache(X),W;if(typeof Z!=="function"){W=Z.DEF;let H=Z.GATE;if(H!==void 0){let Y=J;J=()=>{return H.call(this)&&Y.call(this)}}}else W=Z;if(J.call(this)===!0)return W.call(this);return}atLeastOneInternal(Z,Q){let X=this.getKeyForAutomaticLookahead(SW,Z);return this.atLeastOneInternalLogic(Z,Q,X)}atLeastOneInternalLogic(Z,Q,X){let J=this.getLaFuncFromCache(X),W;if(typeof Q!=="function"){W=Q.DEF;let H=Q.GATE;if(H!==void 0){let Y=J;J=()=>{return H.call(this)&&Y.call(this)}}}else W=Q;if(J.call(this)===!0){let H=this.doSingleRepetition(W);while(J.call(this)===!0&&H===!0)H=this.doSingleRepetition(W)}else throw this.raiseEarlyExitException(Z,VQ.REPETITION_MANDATORY,Q.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[Z,Q],J,SW,Z,yK)}atLeastOneSepFirstInternal(Z,Q){let X=this.getKeyForAutomaticLookahead(V6,Z);this.atLeastOneSepFirstInternalLogic(Z,Q,X)}atLeastOneSepFirstInternalLogic(Z,Q,X){let{DEF:J,SEP:W}=Q;if(this.getLaFuncFromCache(X).call(this)===!0){J.call(this);let Y=()=>{return this.tokenMatcher(this.LA(1),W)};while(this.tokenMatcher(this.LA(1),W)===!0)this.CONSUME(W),J.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,W,Y,J,X5],Y,V6,Z,X5)}else throw this.raiseEarlyExitException(Z,VQ.REPETITION_MANDATORY_WITH_SEPARATOR,Q.ERR_MSG)}manyInternal(Z,Q){let X=this.getKeyForAutomaticLookahead(_W,Z);return this.manyInternalLogic(Z,Q,X)}manyInternalLogic(Z,Q,X){let J=this.getLaFuncFromCache(X),W;if(typeof Q!=="function"){W=Q.DEF;let Y=Q.GATE;if(Y!==void 0){let B=J;J=()=>{return Y.call(this)&&B.call(this)}}}else W=Q;let H=!0;while(J.call(this)===!0&&H===!0)H=this.doSingleRepetition(W);this.attemptInRepetitionRecovery(this.manyInternal,[Z,Q],J,_W,Z,pK,H)}manySepFirstInternal(Z,Q){let X=this.getKeyForAutomaticLookahead(jW,Z);this.manySepFirstInternalLogic(Z,Q,X)}manySepFirstInternalLogic(Z,Q,X){let{DEF:J,SEP:W}=Q;if(this.getLaFuncFromCache(X).call(this)===!0){J.call(this);let Y=()=>{return this.tokenMatcher(this.LA(1),W)};while(this.tokenMatcher(this.LA(1),W)===!0)this.CONSUME(W),J.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,W,Y,J,Q5],Y,jW,Z,Q5)}}repetitionSepSecondInternal(Z,Q,X,J,W){while(X())this.CONSUME(Q),J.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,Q,X,J,W],X,V6,Z,W)}doSingleRepetition(Z){let Q=this.getLexerPosition();return Z.call(this),this.getLexerPosition()>Q}orInternal(Z,Q){let X=this.getKeyForAutomaticLookahead(q5,Q),J=TZ(Z)?Z:Z.DEF,H=this.getLaFuncFromCache(X).call(this,J);if(H!==void 0)return J[H].ALT.call(this);this.raiseNoAltException(Q,Z.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let Z=this.LA(1),Q=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new G5(Q,Z))}}subruleInternal(Z,Q,X){let J;try{let W=X!==void 0?X.ARGS:void 0;return this.subruleIdx=Q,J=Z.apply(this,W),this.cstPostNonTerminal(J,X!==void 0&&X.LABEL!==void 0?X.LABEL:Z.ruleName),J}catch(W){throw this.subruleInternalError(W,X,Z.ruleName)}}subruleInternalError(Z,Q,X){if(i9(Z)&&Z.partialCstResult!==void 0)this.cstPostNonTerminal(Z.partialCstResult,Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:X),delete Z.partialCstResult;throw Z}consumeInternal(Z,Q,X){let J;try{let W=this.LA(1);if(this.tokenMatcher(W,Z)===!0)this.consumeToken(),J=W;else this.consumeInternalError(Z,W,X)}catch(W){J=this.consumeInternalRecovery(Z,Q,W)}return this.cstPostTerminal(X!==void 0&&X.LABEL!==void 0?X.LABEL:Z.name,J),J}consumeInternalError(Z,Q,X){let J,W=this.LA(0);if(X!==void 0&&X.ERR_MSG)J=X.ERR_MSG;else J=this.errorMessageProvider.buildMismatchTokenMessage({expected:Z,actual:Q,previous:W,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new b6(J,Q,W))}consumeInternalRecovery(Z,Q,X){if(this.recoveryEnabled&&X.name==="MismatchedTokenException"&&!this.isBackTracking()){let J=this.getFollowsForInRuleRecovery(Z,Q);try{return this.tryInRuleRecovery(Z,J)}catch(W){if(W.name===iK)throw X;else throw W}}else throw X}saveRecogState(){let Z=this.errors,Q=RQ(this.RULE_STACK);return{errors:Z,lexerState:this.exportLexerState(),RULE_STACK:Q,CST_STACK:this.CST_STACK}}reloadRecogState(Z){this.errors=Z.errors,this.importLexerState(Z.lexerState),this.RULE_STACK=Z.RULE_STACK}ruleInvocationStateUpdate(Z,Q,X){this.RULE_OCCURRENCE_STACK.push(X),this.RULE_STACK.push(Z),this.cstInvocationStateUpdate(Q)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let Z=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[Z]}shortRuleNameToFullName(Z){return this.shortRuleNameToFull[Z]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),X0)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}var IE=D(()=>{zQ();g6();x6();NW();oX();nK();R7();N7()});class HU{initErrorHandler(Z){this._errors=[],this.errorMessageProvider=fZ(Z,"errorMessageProvider")?Z.errorMessageProvider:hX.errorMessageProvider}SAVE_ERROR(Z){if(i9(Z))return Z.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:RQ(this.RULE_OCCURRENCE_STACK)},this._errors.push(Z),Z;else throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return RQ(this._errors)}set errors(Z){this._errors=Z}raiseEarlyExitException(Z,Q,X){let J=this.getCurrRuleFullName(),W=this.getGAstProductions()[J],Y=v6(Z,W,Q,this.maxLookahead)[0],B=[];for(let U=1;U<=this.maxLookahead;U++)B.push(this.LA(U));let K=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:Y,actual:B,previous:this.LA(0),customUserDescription:X,ruleName:J});throw this.SAVE_ERROR(new z5(K,this.LA(1),this.LA(0)))}raiseNoAltException(Z,Q){let X=this.getCurrRuleFullName(),J=this.getGAstProductions()[X],W=T6(Z,J,this.maxLookahead),H=[];for(let K=1;K<=this.maxLookahead;K++)H.push(this.LA(K));let Y=this.LA(0),B=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:W,actual:H,previous:Y,customUserDescription:Q,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new U5(B,this.LA(1),Y))}}var _E=D(()=>{g6();zQ();x6();oX()});class YU{initContentAssist(){}computeContentAssist(Z,Q){let X=this.gastProductionsCache[Z];if(SX(X))throw Error(`Rule ->${Z}<- does not exist in this grammar.`);return W5([X],Q,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(Z){let Q=zX(Z.ruleStack),J=this.getGAstProductions()[Q];return new uK(J,Z).startWalking()}}var SE=D(()=>{NW();zQ()});class BU{initGastRecorder(Z){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let Z=0;Z<10;Z++){let Q=Z>0?Z:"";this[`CONSUME${Q}`]=function(X,J){return this.consumeInternalRecord(X,Z,J)},this[`SUBRULE${Q}`]=function(X,J){return this.subruleInternalRecord(X,Z,J)},this[`OPTION${Q}`]=function(X){return this.optionInternalRecord(X,Z)},this[`OR${Q}`]=function(X){return this.orInternalRecord(X,Z)},this[`MANY${Q}`]=function(X){this.manyInternalRecord(Z,X)},this[`MANY_SEP${Q}`]=function(X){this.manySepFirstInternalRecord(Z,X)},this[`AT_LEAST_ONE${Q}`]=function(X){this.atLeastOneInternalRecord(Z,X)},this[`AT_LEAST_ONE_SEP${Q}`]=function(X){this.atLeastOneSepFirstInternalRecord(Z,X)}}this.consume=function(Z,Q,X){return this.consumeInternalRecord(Q,Z,X)},this.subrule=function(Z,Q,X){return this.subruleInternalRecord(Q,Z,X)},this.option=function(Z,Q){return this.optionInternalRecord(Q,Z)},this.or=function(Z,Q){return this.orInternalRecord(Q,Z)},this.many=function(Z,Q){this.manyInternalRecord(Z,Q)},this.atLeastOne=function(Z,Q){this.atLeastOneInternalRecord(Z,Q)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let Z=this;for(let Q=0;Q<10;Q++){let X=Q>0?Q:"";delete Z[`CONSUME${X}`],delete Z[`SUBRULE${X}`],delete Z[`OPTION${X}`],delete Z[`OR${X}`],delete Z[`MANY${X}`],delete Z[`MANY_SEP${X}`],delete Z[`AT_LEAST_ONE${X}`],delete Z[`AT_LEAST_ONE_SEP${X}`]}delete Z.consume,delete Z.subrule,delete Z.option,delete Z.or,delete Z.many,delete Z.atLeastOne,delete Z.ACTION,delete Z.BACKTRACK,delete Z.LA})}ACTION_RECORD(Z){}BACKTRACK_RECORD(Z,Q){return()=>!0}LA_RECORD(Z){return h6}topLevelRuleRecord(Z,Q){try{let X=new iX({definition:[],name:Z});return X.name=Z,this.recordingProdStack.push(X),Q.call(this),this.recordingProdStack.pop(),X}catch(X){if(X.KNOWN_RECORDER_ERROR!==!0)try{X.message=X.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch(J){throw X}throw X}}optionInternalRecord(Z,Q){return fW.call(this,LQ,Z,Q)}atLeastOneInternalRecord(Z,Q){fW.call(this,fQ,Q,Z)}atLeastOneSepFirstInternalRecord(Z,Q){fW.call(this,TQ,Q,Z,jE)}manyInternalRecord(Z,Q){fW.call(this,WQ,Q,Z)}manySepFirstInternalRecord(Z,Q){fW.call(this,CQ,Q,Z,jE)}orInternalRecord(Z,Q){return Jx.call(this,Z,Q)}subruleInternalRecord(Z,Q,X){if(D5(Q),!Z||fZ(Z,"ruleName")===!1){let Y=Error(`<SUBRULE${TE(Q)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(Z)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw Y.KNOWN_RECORDER_ERROR=!0,Y}let J=c0(this.recordingProdStack),W=Z.ruleName,H=new MQ({idx:Q,nonTerminalName:W,label:X===null||X===void 0?void 0:X.LABEL,referencedRule:void 0});return J.definition.push(H),this.outputCst?Xx:E5}consumeInternalRecord(Z,Q,X){if(D5(Q),!hK(Z)){let H=Error(`<CONSUME${TE(Q)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(Z)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw H.KNOWN_RECORDER_ERROR=!0,H}let J=c0(this.recordingProdStack),W=new eZ({idx:Q,terminalType:Z,label:X===null||X===void 0?void 0:X.LABEL});return J.definition.push(W),xE}}function fW(Z,Q,X,J=!1){D5(X);let W=c0(this.recordingProdStack),H=gX(Q)?Q:Q.DEF,Y=new Z({definition:[],idx:X});if(J)Y.separator=Q.SEP;if(fZ(Q,"MAX_LOOKAHEAD"))Y.maxLookahead=Q.MAX_LOOKAHEAD;return this.recordingProdStack.push(Y),H.call(this),W.definition.push(Y),this.recordingProdStack.pop(),E5}function Jx(Z,Q){D5(Q);let X=c0(this.recordingProdStack),J=TZ(Z)===!1,W=J===!1?Z:Z.DEF,H=new IQ({definition:[],idx:Q,ignoreAmbiguities:J&&Z.IGNORE_AMBIGUITIES===!0});if(fZ(Z,"MAX_LOOKAHEAD"))H.maxLookahead=Z.MAX_LOOKAHEAD;let Y=qW(W,(B)=>gX(B.GATE));return H.hasPredicates=Y,X.definition.push(H),SZ(W,(B)=>{let K=new jQ({definition:[]});if(H.definition.push(K),fZ(B,"IGNORE_AMBIGUITIES"))K.ignoreAmbiguities=B.IGNORE_AMBIGUITIES;else if(fZ(B,"GATE"))K.ignoreAmbiguities=!0;this.recordingProdStack.push(K),B.ALT.call(this),this.recordingProdStack.pop()}),E5}function TE(Z){return Z===0?"":`${Z}`}function D5(Z){if(Z<0||Z>fE){let Q=Error(`Invalid DSL Method idx value: <${Z}>
	Idx value must be a none negative value smaller than ${fE+1}`);throw Q.KNOWN_RECORDER_ERROR=!0,Q}}var E5,jE=!0,fE,vE,xE,Xx;var bE=D(()=>{zQ();VX();EW();N7();R7();oX();E5={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(E5);fE=Math.pow(2,F5)-1,vE=c9({name:"RECORDING_PHASE_TOKEN",pattern:dQ.NA});w9([vE]);xE=L9(vE,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(xE);Xx={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}}});class KU{initPerformanceTracer(Z){if(fZ(Z,"traceInitPerf")){let Q=Z.traceInitPerf,X=typeof Q==="number";this.traceInitMaxIdent=X?Q:1/0,this.traceInitPerf=X?Q>0:Q}else this.traceInitMaxIdent=0,this.traceInitPerf=hX.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(Z,Q){if(this.traceInitPerf===!0){this.traceInitIndent++;let X=Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${X}--> <${Z}>`);let{time:J,value:W}=MW(Q),H=J>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)H(`${X}<-- <${Z}> time: ${J}ms`);return this.traceInitIndent--,W}else return Q()}}var gE=D(()=>{zQ();N6();oX()});function VE(Z,Q){Q.forEach((X)=>{let J=X.prototype;Object.getOwnPropertyNames(J).forEach((W)=>{if(W==="constructor")return;let H=Object.getOwnPropertyDescriptor(J,W);if(H&&(H.get||H.set))Object.defineProperty(Z.prototype,W,H);else Z.prototype[W]=X.prototype[W]})})}function A5(Z=void 0){return function(){return Z}}class TW{static performSelfAnalysis(Z){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let Z;this.selfAnalysisDone=!0;let Q=this.className;this.TRACE_INIT("toFastProps",()=>{LW(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),SZ(this.definedRulesNames,(J)=>{let H=this[J].originalGrammarAction,Y;this.TRACE_INIT(`${J} Rule`,()=>{Y=this.topLevelRuleRecord(J,H)}),this.gastProductionsCache[J]=Y})}finally{this.disableRecording()}});let X=[];if(this.TRACE_INIT("Grammar Resolving",()=>{X=HE({rules:DQ(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(X)}),this.TRACE_INIT("Grammar Validations",()=>{if(oZ(X)&&this.skipValidations===!1){let J=YE({rules:DQ(this.gastProductionsCache),tokenTypes:DQ(this.tokensMap),errMsgProvider:_0,grammarName:Q}),W=rD({lookaheadStrategy:this.lookaheadStrategy,rules:DQ(this.gastProductionsCache),tokenTypes:DQ(this.tokensMap),grammarName:Q});this.definitionErrors=this.definitionErrors.concat(J,W)}}),oZ(this.definitionErrors)){if(this.recoveryEnabled)this.TRACE_INIT("computeAllProdsFollows",()=>{let J=WD(DQ(this.gastProductionsCache));this.resyncFollows=J});this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var J,W;(W=(J=this.lookaheadStrategy).initialize)===null||W===void 0||W.call(J,{rules:DQ(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(DQ(this.gastProductionsCache))})}if(!TW.DEFER_DEFINITION_ERRORS_HANDLING&&!oZ(this.definitionErrors))throw Z=CZ(this.definitionErrors,(J)=>J.message),Error(`Parser Definition Errors detected:
 ${Z.join(`
-------------------------------
`)}`)})}constructor(Z,Q){this.definitionErrors=[],this.selfAnalysisDone=!1;let X=this;if(X.initErrorHandler(Q),X.initLexerAdapter(),X.initLooksAhead(Q),X.initRecognizerEngine(Z,Q),X.initRecoverable(Q),X.initTreeBuilder(Q),X.initContentAssist(),X.initGastRecorder(Q),X.initPerformanceTracer(Q),fZ(Q,"ignoredIssues"))throw Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=fZ(Q,"skipValidations")?Q.skipValidations:hX.skipValidations}}var h6,hX,k6,HX,O5;var oX=D(()=>{zQ();N6();HD();R7();f6();BE();nK();LE();NE();RE();CE();IE();_E();SE();bE();gE();CW();h6=L9(X0,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(h6);hX=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:D9,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),k6=Object.freeze({recoveryValueFunc:()=>{return},resyncEnabled:!0});(function(Z){Z[Z.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Z[Z.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Z[Z.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Z[Z.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Z[Z.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Z[Z.LEFT_RECURSION=5]="LEFT_RECURSION",Z[Z.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Z[Z.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Z[Z.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Z[Z.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Z[Z.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Z[Z.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Z[Z.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Z[Z.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(HX||(HX={}));TW.DEFER_DEFINITION_ERRORS_HANDLING=!1;VE(TW,[sK,rK,QU,XU,WU,JU,HU,YU,BU,KU]);O5=class O5 extends TW{constructor(Z,Q=hX){let X=RQ(Q);X.outputCst=!1;super(Z,X)}}});var hE=D(()=>{VX()});var kE=()=>{};var mE=D(()=>{hE();kE()});var uE=()=>{};var n9=D(()=>{oX();EW();R7();x6();oK();f6();g6();kK();VX();VX();mE();uE()});function C7(Z,Q,X){return`${Z.name}_${Q}_${X}`}class P5{constructor(Z){this.target=Z}isEpsilon(){return!1}}function $E(Z){let Q={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};Gx(Q,Z);let X=Z.length;for(let J=0;J<X;J++){let W=Z[J],H=I7(Q,W,W);if(H===void 0)continue;Px(Q,W,H)}return Q}function Gx(Z,Q){let X=Q.length;for(let J=0;J<X;J++){let W=Q[J],H=FX(Z,W,void 0,{type:Hx}),Y=FX(Z,W,void 0,{type:m6});H.stop=Y,Z.ruleToStartState.set(W,H),Z.ruleToStopState.set(W,Y)}}function lE(Z,Q,X){if(X instanceof eZ)return UU(Z,Q,X.terminalType,X);else if(X instanceof MQ)return Ox(Z,Q,X);else if(X instanceof IQ)return Mx(Z,Q,X);else if(X instanceof LQ)return Lx(Z,Q,X);else if(X instanceof WQ)return zx(Z,Q,X);else if(X instanceof CQ)return Fx(Z,Q,X);else if(X instanceof fQ)return qx(Z,Q,X);else if(X instanceof TQ)return wx(Z,Q,X);else return I7(Z,Q,X)}function zx(Z,Q,X){let J=FX(Z,Q,X,{type:yE});r9(Z,J);let W=u6(Z,Q,J,X,I7(Z,Q,X));return iE(Z,Q,X,W)}function Fx(Z,Q,X){let J=FX(Z,Q,X,{type:yE});r9(Z,J);let W=u6(Z,Q,J,X,I7(Z,Q,X)),H=UU(Z,Q,X.separator,X);return iE(Z,Q,X,W,H)}function qx(Z,Q,X){let J=FX(Z,Q,X,{type:pE});r9(Z,J);let W=u6(Z,Q,J,X,I7(Z,Q,X));return cE(Z,Q,X,W)}function wx(Z,Q,X){let J=FX(Z,Q,X,{type:pE});r9(Z,J);let W=u6(Z,Q,J,X,I7(Z,Q,X)),H=UU(Z,Q,X.separator,X);return cE(Z,Q,X,W,H)}function Mx(Z,Q,X){let J=FX(Z,Q,X,{type:o9});r9(Z,J);let W=CZ(X.definition,(Y)=>lE(Z,Q,Y));return u6(Z,Q,J,X,...W)}function Lx(Z,Q,X){let J=FX(Z,Q,X,{type:o9});r9(Z,J);let W=u6(Z,Q,J,X,I7(Z,Q,X));return Dx(Z,Q,X,W)}function I7(Z,Q,X){let J=GX(CZ(X.definition,(W)=>lE(Z,Q,W)),(W)=>W!==void 0);if(J.length===1)return J[0];else if(J.length===0)return;else return Ax(Z,J)}function cE(Z,Q,X,J,W){let{left:H,right:Y}=J,B=FX(Z,Q,X,{type:Ux});r9(Z,B);let K=FX(Z,Q,X,{type:dE});if(H.loopback=B,K.loopback=B,Z.decisionMap[C7(Q,W?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",X.idx)]=B,QX(Y,B),W===void 0)QX(B,H),QX(B,K);else QX(B,K),QX(B,W.left),QX(W.right,H);return{left:H,right:K}}function iE(Z,Q,X,J,W){let{left:H,right:Y}=J,B=FX(Z,Q,X,{type:Kx});r9(Z,B);let K=FX(Z,Q,X,{type:dE}),U=FX(Z,Q,X,{type:Bx});if(B.loopback=U,K.loopback=U,QX(B,H),QX(B,K),QX(Y,U),W!==void 0)QX(U,K),QX(U,W.left),QX(W.right,H);else QX(U,B);return Z.decisionMap[C7(Q,W?"RepetitionWithSeparator":"Repetition",X.idx)]=B,{left:B,right:K}}function Dx(Z,Q,X,J){let{left:W,right:H}=J;return QX(W,H),Z.decisionMap[C7(Q,"Option",X.idx)]=W,J}function r9(Z,Q){return Z.decisionStates.push(Q),Q.decision=Z.decisionStates.length-1,Q.decision}function u6(Z,Q,X,J,...W){let H=FX(Z,Q,J,{type:Yx,start:X});X.end=H;for(let B of W)if(B!==void 0)QX(X,B.left),QX(B.right,H);else QX(X,H);let Y={left:X,right:H};return Z.decisionMap[C7(Q,Ex(J),J.idx)]=X,Y}function Ex(Z){if(Z instanceof IQ)return"Alternation";else if(Z instanceof LQ)return"Option";else if(Z instanceof WQ)return"Repetition";else if(Z instanceof CQ)return"RepetitionWithSeparator";else if(Z instanceof fQ)return"RepetitionMandatory";else if(Z instanceof TQ)return"RepetitionMandatoryWithSeparator";else throw Error("Invalid production type encountered")}function Ax(Z,Q){let X=Q.length;for(let H=0;H<X-1;H++){let Y=Q[H],B;if(Y.left.transitions.length===1)B=Y.left.transitions[0];let K=B instanceof xW,U=B,G=Q[H+1].left;if(Y.left.type===o9&&Y.right.type===o9&&B!==void 0&&(K&&U.followState===Y.right||B.target===Y.right)){if(K)U.followState=G;else B.target=G;Nx(Z,Y.right)}else QX(Y.right,G)}let J=Q[0],W=Q[X-1];return{left:J.left,right:W.right}}function UU(Z,Q,X,J){let W=FX(Z,Q,J,{type:o9}),H=FX(Z,Q,J,{type:o9});return GU(W,new vW(H,X)),{left:W,right:H}}function Ox(Z,Q,X){let J=X.referencedRule,W=Z.ruleToStartState.get(J),H=FX(Z,Q,X,{type:o9}),Y=FX(Z,Q,X,{type:o9}),B=new xW(W,J,Y);return GU(H,B),{left:H,right:Y}}function Px(Z,Q,X){let J=Z.ruleToStartState.get(Q);QX(J,X.left);let W=Z.ruleToStopState.get(Q);return QX(X.right,W),{left:J,right:W}}function QX(Z,Q){let X=new N5(Q);GU(Z,X)}function FX(Z,Q,X,J){let W=Object.assign({atn:Z,production:X,epsilonOnlyTransitions:!1,rule:Q,transitions:[],nextTokenWithinRule:[],stateNumber:Z.states.length},J);return Z.states.push(W),W}function GU(Z,Q){if(Z.transitions.length===0)Z.epsilonOnlyTransitions=Q.isEpsilon();Z.transitions.push(Q)}function Nx(Z,Q){Z.states.splice(Z.states.indexOf(Q),1)}var o9=1,Hx=2,pE=4,yE=5,m6=7,Yx=8,Bx=9,Kx=10,Ux=11,dE=12,vW,N5,xW;var sE=D(()=>{A6();OK();n9();vW=class vW extends P5{constructor(Z,Q){super(Z);this.tokenType=Q}};N5=class N5 extends P5{constructor(Z){super(Z)}isEpsilon(){return!0}};xW=class xW extends P5{constructor(Z,Q,X){super(Z);this.rule=Q,this.followState=X}isEpsilon(){return!0}}});class gW{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(Z){let Q=zU(Z);if(!(Q in this.map))this.map[Q]=this.configs.length,this.configs.push(Z)}get elements(){return this.configs}get alts(){return CZ(this.configs,(Z)=>Z.alt)}get key(){let Z="";for(let Q in this.map)Z+=Q+":";return Z}}function zU(Z,Q=!0){return`${Q?`a${Z.alt}`:""}s${Z.state.stateNumber}:${Z.stack.map((X)=>X.stateNumber.toString()).join("_")}`}var bW;var nE=D(()=>{A6();bW={}});function Rx(Z,Q){let X={};return(J)=>{let W=J.toString(),H=X[W];if(H!==void 0)return H;else return H={atnStartState:Z,decision:Q,states:{}},X[W]=H,H}}class qU{constructor(){this.predicates=[]}is(Z){return Z>=this.predicates.length||this.predicates[Z]}set(Z,Q){this.predicates[Z]=Q}toString(){let Z="",Q=this.predicates.length;for(let X=0;X<Q;X++)Z+=this.predicates[X]===!0?"1":"0";return Z}}function rE(Z,Q=!0){let X=new Set;for(let J of Z){let W=new Set;for(let H of J){if(H===void 0)if(Q)break;else return!1;let Y=[H.tokenTypeIdx].concat(H.categoryMatches);for(let B of Y)if(X.has(B)){if(!W.has(B))return!1}else X.add(B),W.add(B)}}return!0}function Cx(Z){let Q=Z.decisionStates.length,X=Array(Q);for(let J=0;J<Q;J++)X[J]=Rx(Z.decisionStates[J],J);return X}function FU(Z,Q,X,J){let W=Z[Q](X),H=W.start;if(H===void 0){let B=Vx(W.atnStartState);H=eE(W,tE(B)),W.start=H}return Ix.apply(this,[W,H,X,J])}function Ix(Z,Q,X,J){let W=Q,H=1,Y=[],B=this.LA(H++);while(!0){let K=vx(W,B);if(K===void 0)K=_x.apply(this,[Z,W,B,H,X,J]);if(K===bW)return Tx(Y,W,B);if(K.isAcceptState===!0)return K.prediction;W=K,Y.push(B),B=this.LA(H++)}}function _x(Z,Q,X,J,W,H){let Y=xx(Q.configs,X,W);if(Y.size===0)return aE(Z,Q,X,bW),bW;let B=tE(Y),K=gx(Y,W);if(K!==void 0)B.isAcceptState=!0,B.prediction=K,B.configs.uniqueAlt=K;else if(ux(Y)){let U=gL(Y.alts);B.isAcceptState=!0,B.prediction=U,B.configs.uniqueAlt=U,Sx.apply(this,[Z,J,Y.alts,H])}return B=aE(Z,Q,X,B),B}function Sx(Z,Q,X,J){let W=[];for(let U=1;U<=Q;U++)W.push(this.LA(U).tokenType);let H=Z.atnStartState,Y=H.rule,B=H.production,K=jx({topLevelRule:Y,ambiguityIndices:X,production:B,prefixPath:W});J(K)}function jx(Z){let Q=CZ(Z.prefixPath,(W)=>M9(W)).join(", "),X=Z.production.idx===0?"":Z.production.idx,J=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(", ")}> in <${fx(Z.production)}${X}> inside <${Z.topLevelRule.name}> Rule,
<${Q}> may appears as a prefix path in all these alternatives.
`;return J=J+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,J}function fx(Z){if(Z instanceof MQ)return"SUBRULE";else if(Z instanceof LQ)return"OPTION";else if(Z instanceof IQ)return"OR";else if(Z instanceof fQ)return"AT_LEAST_ONE";else if(Z instanceof TQ)return"AT_LEAST_ONE_SEP";else if(Z instanceof CQ)return"MANY_SEP";else if(Z instanceof WQ)return"MANY";else if(Z instanceof eZ)return"CONSUME";else throw Error("non exhaustive match")}function Tx(Z,Q,X){let J=MX(Q.configs.elements,(H)=>H.state.transitions),W=tL(J.filter((H)=>H instanceof vW).map((H)=>H.tokenType),(H)=>H.tokenTypeIdx);return{actualToken:X,possibleTokenTypes:W,tokenPath:Z}}function vx(Z,Q){return Z.edges[Q.tokenTypeIdx]}function xx(Z,Q,X){let J=new gW,W=[];for(let Y of Z.elements){if(X.is(Y.alt)===!1)continue;if(Y.state.type===m6){W.push(Y);continue}let B=Y.state.transitions.length;for(let K=0;K<B;K++){let U=Y.state.transitions[K],G=bx(U,Q);if(G!==void 0)J.add({state:G,alt:Y.alt,stack:Y.stack})}}let H;if(W.length===0&&J.size===1)H=J;if(H===void 0){H=new gW;for(let Y of J.elements)R5(Y,H)}if(W.length>0&&!kx(H))for(let Y of W)H.add(Y);return H}function bx(Z,Q){if(Z instanceof vW&&OW(Q,Z.tokenType))return Z.target;return}function gx(Z,Q){let X;for(let J of Z.elements)if(Q.is(J.alt)===!0){if(X===void 0)X=J.alt;else if(X!==J.alt)return}return X}function tE(Z){return{configs:Z,edges:{},isAcceptState:!1,prediction:-1}}function aE(Z,Q,X,J){return J=eE(Z,J),Q.edges[X.tokenTypeIdx]=J,J}function eE(Z,Q){if(Q===bW)return Q;let X=Q.configs.key,J=Z.states[X];if(J!==void 0)return J;return Q.configs.finalize(),Z.states[X]=Q,Q}function Vx(Z){let Q=new gW,X=Z.transitions.length;for(let J=0;J<X;J++){let H={state:Z.transitions[J].target,alt:J,stack:[]};R5(H,Q)}return Q}function R5(Z,Q){let X=Z.state;if(X.type===m6){if(Z.stack.length>0){let W=[...Z.stack],Y={state:W.pop(),alt:Z.alt,stack:W};R5(Y,Q)}else Q.add(Z);return}if(!X.epsilonOnlyTransitions)Q.add(Z);let J=X.transitions.length;for(let W=0;W<J;W++){let H=X.transitions[W],Y=hx(Z,H);if(Y!==void 0)R5(Y,Q)}}function hx(Z,Q){if(Q instanceof N5)return{state:Q.target,alt:Z.alt,stack:Z.stack};else if(Q instanceof xW){let X=[...Z.stack,Q.followState];return{state:Q.target,alt:Z.alt,stack:X}}return}function kx(Z){for(let Q of Z.elements)if(Q.state.type===m6)return!0;return!1}function mx(Z){for(let Q of Z.elements)if(Q.state.type!==m6)return!1;return!0}function ux(Z){if(mx(Z))return!0;let Q=px(Z.elements);return yx(Q)&&!dx(Q)}function px(Z){let Q=new Map;for(let X of Z){let J=zU(X,!1),W=Q.get(J);if(W===void 0)W={},Q.set(J,W);W[X.alt]=!0}return Q}function yx(Z){for(let Q of Array.from(Z.values()))if(Object.keys(Q).length>1)return!0;return!1}function dx(Z){for(let Q of Array.from(Z.values()))if(Object.keys(Q).length===1)return!0;return!1}var oE,C5;var ZA=D(()=>{n9();sE();nE();VL();PK();eL();A6();tB();EK();IK();_K();oE=new qU;C5=class C5 extends s9{constructor(Z){var Q;super();this.logging=(Q=Z===null||Z===void 0?void 0:Z.logging)!==null&&Q!==void 0?Q:(X)=>console.log(X)}initialize(Z){this.atn=$E(Z.rules),this.dfas=Cx(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(Z){let{prodOccurrence:Q,rule:X,hasPredicates:J,dynamicTokensEnabled:W}=Z,H=this.dfas,Y=this.logging,B=C7(X,"Alternation",Q),U=this.atn.decisionMap[B].decision,G=CZ(H5({maxLookahead:1,occurrence:Q,prodType:"Alternation",rule:X}),(z)=>CZ(z,(F)=>F[0]));if(rE(G,!1)&&!W){let z=yQ(G,(F,q,L)=>{return SZ(q,(A)=>{if(A)F[A.tokenTypeIdx]=L,SZ(A.categoryMatches,(k)=>{F[k]=L})}),F},{});if(J)return function(F){var q;let L=this.LA(1),A=z[L.tokenTypeIdx];if(F!==void 0&&A!==void 0){let k=(q=F[A])===null||q===void 0?void 0:q.GATE;if(k!==void 0&&k.call(this)===!1)return}return A};else return function(){let F=this.LA(1);return z[F.tokenTypeIdx]}}else if(J)return function(z){let F=new qU,q=z===void 0?0:z.length;for(let A=0;A<q;A++){let k=z===null||z===void 0?void 0:z[A].GATE;F.set(A,k===void 0||k.call(this))}let L=FU.call(this,H,U,F,Y);return typeof L==="number"?L:void 0};else return function(){let z=FU.call(this,H,U,oE,Y);return typeof z==="number"?z:void 0}}buildLookaheadForOptional(Z){let{prodOccurrence:Q,rule:X,prodType:J,dynamicTokensEnabled:W}=Z,H=this.dfas,Y=this.logging,B=C7(X,J,Q),U=this.atn.decisionMap[B].decision,G=CZ(H5({maxLookahead:1,occurrence:Q,prodType:J,rule:X}),(z)=>{return CZ(z,(F)=>F[0])});if(rE(G)&&G[0][0]&&!W){let z=G[0],F=sQ(z);if(F.length===1&&oZ(F[0].categoryMatches)){let L=F[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===L}}else{let q=yQ(F,(L,A)=>{if(A!==void 0)L[A.tokenTypeIdx]=!0,SZ(A.categoryMatches,(k)=>{L[k]=!0});return L},{});return function(){let L=this.LA(1);return q[L.tokenTypeIdx]===!0}}}return function(){let z=FU.call(this,H,U,oE,Y);return typeof z==="object"?!1:z===0}}}});var QA=D(()=>{ZA()});class JO{constructor(Z,Q,X,J){this._uri=Z,this._languageId=Q,this._version=X,this._content=J,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let Q=this.offsetAt(Z.start),X=this.offsetAt(Z.end);return this._content.substring(Q,X)}return this._content}update(Z,Q){this._content=Z.text,this._version=Q,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let Z=[],Q=this._content,X=!0;for(let J=0;J<Q.length;J++){if(X)Z.push(J),X=!1;let W=Q.charAt(J);if(X=W==="\r"||W===`
`,W==="\r"&&J+1<Q.length&&Q.charAt(J+1)===`
`)J++}if(X&&Q.length>0)Z.push(Q.length);this._lineOffsets=Z}return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let Q=this.getLineOffsets(),X=0,J=Q.length;if(J===0)return BQ.create(0,Z);while(X<J){let H=Math.floor((X+J)/2);if(Q[H]>Z)J=H;else X=H+1}let W=X-1;return BQ.create(W,Z-Q[W])}offsetAt(Z){let Q=this.getLineOffsets();if(Z.line>=Q.length)return this._content.length;else if(Z.line<0)return 0;let X=Q[Z.line],J=Z.line+1<Q.length?Q[Z.line+1]:this._content.length;return Math.max(Math.min(X+Z.character,J),X)}get lineCount(){return this.getLineOffsets().length}}var XA,wU,JA,I5,BQ,XQ,_5,WA,MU,HA,YA,BA,KA,LU,UA,GA,zA,S5,p6,y6,DU,d6,FA,EU,AU,OU,PU,NU,qA,wA,RU,MA,CU,VW,LA,DA,EA,AA,OA,PA,NA,RA,j5,CA,IA,_A,SA,jA,fA,TA,vA,xA,bA,gA,f5,VA,hA,kA,mA,uA,pA,yA,dA,$A,lA,cA,iA,sA,IU,_U,nA,oA,rA,aA,tA,eA,ZO,QO,XO,XZ;var SU=D(()=>{(function(Z){function Q(X){return typeof X==="string"}Z.is=Q})(XA||(XA={}));(function(Z){function Q(X){return typeof X==="string"}Z.is=Q})(wU||(wU={}));(function(Z){Z.MIN_VALUE=-2147483648,Z.MAX_VALUE=2147483647;function Q(X){return typeof X==="number"&&Z.MIN_VALUE<=X&&X<=Z.MAX_VALUE}Z.is=Q})(JA||(JA={}));(function(Z){Z.MIN_VALUE=0,Z.MAX_VALUE=2147483647;function Q(X){return typeof X==="number"&&Z.MIN_VALUE<=X&&X<=Z.MAX_VALUE}Z.is=Q})(I5||(I5={}));(function(Z){function Q(J,W){if(J===Number.MAX_VALUE)J=I5.MAX_VALUE;if(W===Number.MAX_VALUE)W=I5.MAX_VALUE;return{line:J,character:W}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XZ.uinteger(W.line)&&XZ.uinteger(W.character)}Z.is=X})(BQ||(BQ={}));(function(Z){function Q(J,W,H,Y){if(XZ.uinteger(J)&&XZ.uinteger(W)&&XZ.uinteger(H)&&XZ.uinteger(Y))return{start:BQ.create(J,W),end:BQ.create(H,Y)};else if(BQ.is(J)&&BQ.is(W))return{start:J,end:W};else throw Error(`Range#create called with invalid arguments[${J}, ${W}, ${H}, ${Y}]`)}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&BQ.is(W.start)&&BQ.is(W.end)}Z.is=X})(XQ||(XQ={}));(function(Z){function Q(J,W){return{uri:J,range:W}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XQ.is(W.range)&&(XZ.string(W.uri)||XZ.undefined(W.uri))}Z.is=X})(_5||(_5={}));(function(Z){function Q(J,W,H,Y){return{targetUri:J,targetRange:W,targetSelectionRange:H,originSelectionRange:Y}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XQ.is(W.targetRange)&&XZ.string(W.targetUri)&&XQ.is(W.targetSelectionRange)&&(XQ.is(W.originSelectionRange)||XZ.undefined(W.originSelectionRange))}Z.is=X})(WA||(WA={}));(function(Z){function Q(J,W,H,Y){return{red:J,green:W,blue:H,alpha:Y}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XZ.numberRange(W.red,0,1)&&XZ.numberRange(W.green,0,1)&&XZ.numberRange(W.blue,0,1)&&XZ.numberRange(W.alpha,0,1)}Z.is=X})(MU||(MU={}));(function(Z){function Q(J,W){return{range:J,color:W}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XQ.is(W.range)&&MU.is(W.color)}Z.is=X})(HA||(HA={}));(function(Z){function Q(J,W,H){return{label:J,textEdit:W,additionalTextEdits:H}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XZ.string(W.label)&&(XZ.undefined(W.textEdit)||y6.is(W))&&(XZ.undefined(W.additionalTextEdits)||XZ.typedArray(W.additionalTextEdits,y6.is))}Z.is=X})(YA||(YA={}));(function(Z){Z.Comment="comment",Z.Imports="imports",Z.Region="region"})(BA||(BA={}));(function(Z){function Q(J,W,H,Y,B,K){let U={startLine:J,endLine:W};if(XZ.defined(H))U.startCharacter=H;if(XZ.defined(Y))U.endCharacter=Y;if(XZ.defined(B))U.kind=B;if(XZ.defined(K))U.collapsedText=K;return U}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XZ.uinteger(W.startLine)&&XZ.uinteger(W.startLine)&&(XZ.undefined(W.startCharacter)||XZ.uinteger(W.startCharacter))&&(XZ.undefined(W.endCharacter)||XZ.uinteger(W.endCharacter))&&(XZ.undefined(W.kind)||XZ.string(W.kind))}Z.is=X})(KA||(KA={}));(function(Z){function Q(J,W){return{location:J,message:W}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&_5.is(W.location)&&XZ.string(W.message)}Z.is=X})(LU||(LU={}));(function(Z){Z.Error=1,Z.Warning=2,Z.Information=3,Z.Hint=4})(UA||(UA={}));(function(Z){Z.Unnecessary=1,Z.Deprecated=2})(GA||(GA={}));(function(Z){function Q(X){let J=X;return XZ.objectLiteral(J)&&XZ.string(J.href)}Z.is=Q})(zA||(zA={}));(function(Z){function Q(J,W,H,Y,B,K){let U={range:J,message:W};if(XZ.defined(H))U.severity=H;if(XZ.defined(Y))U.code=Y;if(XZ.defined(B))U.source=B;if(XZ.defined(K))U.relatedInformation=K;return U}Z.create=Q;function X(J){var W;let H=J;return XZ.defined(H)&&XQ.is(H.range)&&XZ.string(H.message)&&(XZ.number(H.severity)||XZ.undefined(H.severity))&&(XZ.integer(H.code)||XZ.string(H.code)||XZ.undefined(H.code))&&(XZ.undefined(H.codeDescription)||XZ.string((W=H.codeDescription)===null||W===void 0?void 0:W.href))&&(XZ.string(H.source)||XZ.undefined(H.source))&&(XZ.undefined(H.relatedInformation)||XZ.typedArray(H.relatedInformation,LU.is))}Z.is=X})(S5||(S5={}));(function(Z){function Q(J,W,...H){let Y={title:J,command:W};if(XZ.defined(H)&&H.length>0)Y.arguments=H;return Y}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.string(W.title)&&XZ.string(W.command)}Z.is=X})(p6||(p6={}));(function(Z){function Q(H,Y){return{range:H,newText:Y}}Z.replace=Q;function X(H,Y){return{range:{start:H,end:H},newText:Y}}Z.insert=X;function J(H){return{range:H,newText:""}}Z.del=J;function W(H){let Y=H;return XZ.objectLiteral(Y)&&XZ.string(Y.newText)&&XQ.is(Y.range)}Z.is=W})(y6||(y6={}));(function(Z){function Q(J,W,H){let Y={label:J};if(W!==void 0)Y.needsConfirmation=W;if(H!==void 0)Y.description=H;return Y}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XZ.string(W.label)&&(XZ.boolean(W.needsConfirmation)||W.needsConfirmation===void 0)&&(XZ.string(W.description)||W.description===void 0)}Z.is=X})(DU||(DU={}));(function(Z){function Q(X){let J=X;return XZ.string(J)}Z.is=Q})(d6||(d6={}));(function(Z){function Q(H,Y,B){return{range:H,newText:Y,annotationId:B}}Z.replace=Q;function X(H,Y,B){return{range:{start:H,end:H},newText:Y,annotationId:B}}Z.insert=X;function J(H,Y){return{range:H,newText:"",annotationId:Y}}Z.del=J;function W(H){let Y=H;return y6.is(Y)&&(DU.is(Y.annotationId)||d6.is(Y.annotationId))}Z.is=W})(FA||(FA={}));(function(Z){function Q(J,W){return{textDocument:J,edits:W}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&RU.is(W.textDocument)&&Array.isArray(W.edits)}Z.is=X})(EU||(EU={}));(function(Z){function Q(J,W,H){let Y={kind:"create",uri:J};if(W!==void 0&&(W.overwrite!==void 0||W.ignoreIfExists!==void 0))Y.options=W;if(H!==void 0)Y.annotationId=H;return Y}Z.create=Q;function X(J){let W=J;return W&&W.kind==="create"&&XZ.string(W.uri)&&(W.options===void 0||(W.options.overwrite===void 0||XZ.boolean(W.options.overwrite))&&(W.options.ignoreIfExists===void 0||XZ.boolean(W.options.ignoreIfExists)))&&(W.annotationId===void 0||d6.is(W.annotationId))}Z.is=X})(AU||(AU={}));(function(Z){function Q(J,W,H,Y){let B={kind:"rename",oldUri:J,newUri:W};if(H!==void 0&&(H.overwrite!==void 0||H.ignoreIfExists!==void 0))B.options=H;if(Y!==void 0)B.annotationId=Y;return B}Z.create=Q;function X(J){let W=J;return W&&W.kind==="rename"&&XZ.string(W.oldUri)&&XZ.string(W.newUri)&&(W.options===void 0||(W.options.overwrite===void 0||XZ.boolean(W.options.overwrite))&&(W.options.ignoreIfExists===void 0||XZ.boolean(W.options.ignoreIfExists)))&&(W.annotationId===void 0||d6.is(W.annotationId))}Z.is=X})(OU||(OU={}));(function(Z){function Q(J,W,H){let Y={kind:"delete",uri:J};if(W!==void 0&&(W.recursive!==void 0||W.ignoreIfNotExists!==void 0))Y.options=W;if(H!==void 0)Y.annotationId=H;return Y}Z.create=Q;function X(J){let W=J;return W&&W.kind==="delete"&&XZ.string(W.uri)&&(W.options===void 0||(W.options.recursive===void 0||XZ.boolean(W.options.recursive))&&(W.options.ignoreIfNotExists===void 0||XZ.boolean(W.options.ignoreIfNotExists)))&&(W.annotationId===void 0||d6.is(W.annotationId))}Z.is=X})(PU||(PU={}));(function(Z){function Q(X){let J=X;return J&&(J.changes!==void 0||J.documentChanges!==void 0)&&(J.documentChanges===void 0||J.documentChanges.every((W)=>{if(XZ.string(W.kind))return AU.is(W)||OU.is(W)||PU.is(W);else return EU.is(W)}))}Z.is=Q})(NU||(NU={}));(function(Z){function Q(J){return{uri:J}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.string(W.uri)}Z.is=X})(qA||(qA={}));(function(Z){function Q(J,W){return{uri:J,version:W}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.string(W.uri)&&XZ.integer(W.version)}Z.is=X})(wA||(wA={}));(function(Z){function Q(J,W){return{uri:J,version:W}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.string(W.uri)&&(W.version===null||XZ.integer(W.version))}Z.is=X})(RU||(RU={}));(function(Z){function Q(J,W,H,Y){return{uri:J,languageId:W,version:H,text:Y}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.string(W.uri)&&XZ.string(W.languageId)&&XZ.integer(W.version)&&XZ.string(W.text)}Z.is=X})(MA||(MA={}));(function(Z){Z.PlainText="plaintext",Z.Markdown="markdown";function Q(X){let J=X;return J===Z.PlainText||J===Z.Markdown}Z.is=Q})(CU||(CU={}));(function(Z){function Q(X){let J=X;return XZ.objectLiteral(X)&&CU.is(J.kind)&&XZ.string(J.value)}Z.is=Q})(VW||(VW={}));(function(Z){Z.Text=1,Z.Method=2,Z.Function=3,Z.Constructor=4,Z.Field=5,Z.Variable=6,Z.Class=7,Z.Interface=8,Z.Module=9,Z.Property=10,Z.Unit=11,Z.Value=12,Z.Enum=13,Z.Keyword=14,Z.Snippet=15,Z.Color=16,Z.File=17,Z.Reference=18,Z.Folder=19,Z.EnumMember=20,Z.Constant=21,Z.Struct=22,Z.Event=23,Z.Operator=24,Z.TypeParameter=25})(LA||(LA={}));(function(Z){Z.PlainText=1,Z.Snippet=2})(DA||(DA={}));(function(Z){Z.Deprecated=1})(EA||(EA={}));(function(Z){function Q(J,W,H){return{newText:J,insert:W,replace:H}}Z.create=Q;function X(J){let W=J;return W&&XZ.string(W.newText)&&XQ.is(W.insert)&&XQ.is(W.replace)}Z.is=X})(AA||(AA={}));(function(Z){Z.asIs=1,Z.adjustIndentation=2})(OA||(OA={}));(function(Z){function Q(X){let J=X;return J&&(XZ.string(J.detail)||J.detail===void 0)&&(XZ.string(J.description)||J.description===void 0)}Z.is=Q})(PA||(PA={}));(function(Z){function Q(X){return{label:X}}Z.create=Q})(NA||(NA={}));(function(Z){function Q(X,J){return{items:X?X:[],isIncomplete:!!J}}Z.create=Q})(RA||(RA={}));(function(Z){function Q(J){return J.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}Z.fromPlainText=Q;function X(J){let W=J;return XZ.string(W)||XZ.objectLiteral(W)&&XZ.string(W.language)&&XZ.string(W.value)}Z.is=X})(j5||(j5={}));(function(Z){function Q(X){let J=X;return!!J&&XZ.objectLiteral(J)&&(VW.is(J.contents)||j5.is(J.contents)||XZ.typedArray(J.contents,j5.is))&&(X.range===void 0||XQ.is(X.range))}Z.is=Q})(CA||(CA={}));(function(Z){function Q(X,J){return J?{label:X,documentation:J}:{label:X}}Z.create=Q})(IA||(IA={}));(function(Z){function Q(X,J,...W){let H={label:X};if(XZ.defined(J))H.documentation=J;if(XZ.defined(W))H.parameters=W;else H.parameters=[];return H}Z.create=Q})(_A||(_A={}));(function(Z){Z.Text=1,Z.Read=2,Z.Write=3})(SA||(SA={}));(function(Z){function Q(X,J){let W={range:X};if(XZ.number(J))W.kind=J;return W}Z.create=Q})(jA||(jA={}));(function(Z){Z.File=1,Z.Module=2,Z.Namespace=3,Z.Package=4,Z.Class=5,Z.Method=6,Z.Property=7,Z.Field=8,Z.Constructor=9,Z.Enum=10,Z.Interface=11,Z.Function=12,Z.Variable=13,Z.Constant=14,Z.String=15,Z.Number=16,Z.Boolean=17,Z.Array=18,Z.Object=19,Z.Key=20,Z.Null=21,Z.EnumMember=22,Z.Struct=23,Z.Event=24,Z.Operator=25,Z.TypeParameter=26})(fA||(fA={}));(function(Z){Z.Deprecated=1})(TA||(TA={}));(function(Z){function Q(X,J,W,H,Y){let B={name:X,kind:J,location:{uri:H,range:W}};if(Y)B.containerName=Y;return B}Z.create=Q})(vA||(vA={}));(function(Z){function Q(X,J,W,H){return H!==void 0?{name:X,kind:J,location:{uri:W,range:H}}:{name:X,kind:J,location:{uri:W}}}Z.create=Q})(xA||(xA={}));(function(Z){function Q(J,W,H,Y,B,K){let U={name:J,detail:W,kind:H,range:Y,selectionRange:B};if(K!==void 0)U.children=K;return U}Z.create=Q;function X(J){let W=J;return W&&XZ.string(W.name)&&XZ.number(W.kind)&&XQ.is(W.range)&&XQ.is(W.selectionRange)&&(W.detail===void 0||XZ.string(W.detail))&&(W.deprecated===void 0||XZ.boolean(W.deprecated))&&(W.children===void 0||Array.isArray(W.children))&&(W.tags===void 0||Array.isArray(W.tags))}Z.is=X})(bA||(bA={}));(function(Z){Z.Empty="",Z.QuickFix="quickfix",Z.Refactor="refactor",Z.RefactorExtract="refactor.extract",Z.RefactorInline="refactor.inline",Z.RefactorRewrite="refactor.rewrite",Z.Source="source",Z.SourceOrganizeImports="source.organizeImports",Z.SourceFixAll="source.fixAll"})(gA||(gA={}));(function(Z){Z.Invoked=1,Z.Automatic=2})(f5||(f5={}));(function(Z){function Q(J,W,H){let Y={diagnostics:J};if(W!==void 0&&W!==null)Y.only=W;if(H!==void 0&&H!==null)Y.triggerKind=H;return Y}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.typedArray(W.diagnostics,S5.is)&&(W.only===void 0||XZ.typedArray(W.only,XZ.string))&&(W.triggerKind===void 0||W.triggerKind===f5.Invoked||W.triggerKind===f5.Automatic)}Z.is=X})(VA||(VA={}));(function(Z){function Q(J,W,H){let Y={title:J},B=!0;if(typeof W==="string")B=!1,Y.kind=W;else if(p6.is(W))Y.command=W;else Y.edit=W;if(B&&H!==void 0)Y.kind=H;return Y}Z.create=Q;function X(J){let W=J;return W&&XZ.string(W.title)&&(W.diagnostics===void 0||XZ.typedArray(W.diagnostics,S5.is))&&(W.kind===void 0||XZ.string(W.kind))&&(W.edit!==void 0||W.command!==void 0)&&(W.command===void 0||p6.is(W.command))&&(W.isPreferred===void 0||XZ.boolean(W.isPreferred))&&(W.edit===void 0||NU.is(W.edit))}Z.is=X})(hA||(hA={}));(function(Z){function Q(J,W){let H={range:J};if(XZ.defined(W))H.data=W;return H}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XQ.is(W.range)&&(XZ.undefined(W.command)||p6.is(W.command))}Z.is=X})(kA||(kA={}));(function(Z){function Q(J,W){return{tabSize:J,insertSpaces:W}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XZ.uinteger(W.tabSize)&&XZ.boolean(W.insertSpaces)}Z.is=X})(mA||(mA={}));(function(Z){function Q(J,W,H){return{range:J,target:W,data:H}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XQ.is(W.range)&&(XZ.undefined(W.target)||XZ.string(W.target))}Z.is=X})(uA||(uA={}));(function(Z){function Q(J,W){return{range:J,parent:W}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&XQ.is(W.range)&&(W.parent===void 0||Z.is(W.parent))}Z.is=X})(pA||(pA={}));(function(Z){Z.namespace="namespace",Z.type="type",Z.class="class",Z.enum="enum",Z.interface="interface",Z.struct="struct",Z.typeParameter="typeParameter",Z.parameter="parameter",Z.variable="variable",Z.property="property",Z.enumMember="enumMember",Z.event="event",Z.function="function",Z.method="method",Z.macro="macro",Z.keyword="keyword",Z.modifier="modifier",Z.comment="comment",Z.string="string",Z.number="number",Z.regexp="regexp",Z.operator="operator",Z.decorator="decorator"})(yA||(yA={}));(function(Z){Z.declaration="declaration",Z.definition="definition",Z.readonly="readonly",Z.static="static",Z.deprecated="deprecated",Z.abstract="abstract",Z.async="async",Z.modification="modification",Z.documentation="documentation",Z.defaultLibrary="defaultLibrary"})(dA||(dA={}));(function(Z){function Q(X){let J=X;return XZ.objectLiteral(J)&&(J.resultId===void 0||typeof J.resultId==="string")&&Array.isArray(J.data)&&(J.data.length===0||typeof J.data[0]==="number")}Z.is=Q})($A||($A={}));(function(Z){function Q(J,W){return{range:J,text:W}}Z.create=Q;function X(J){let W=J;return W!==void 0&&W!==null&&XQ.is(W.range)&&XZ.string(W.text)}Z.is=X})(lA||(lA={}));(function(Z){function Q(J,W,H){return{range:J,variableName:W,caseSensitiveLookup:H}}Z.create=Q;function X(J){let W=J;return W!==void 0&&W!==null&&XQ.is(W.range)&&XZ.boolean(W.caseSensitiveLookup)&&(XZ.string(W.variableName)||W.variableName===void 0)}Z.is=X})(cA||(cA={}));(function(Z){function Q(J,W){return{range:J,expression:W}}Z.create=Q;function X(J){let W=J;return W!==void 0&&W!==null&&XQ.is(W.range)&&(XZ.string(W.expression)||W.expression===void 0)}Z.is=X})(iA||(iA={}));(function(Z){function Q(J,W){return{frameId:J,stoppedLocation:W}}Z.create=Q;function X(J){let W=J;return XZ.defined(W)&&XQ.is(J.stoppedLocation)}Z.is=X})(sA||(sA={}));(function(Z){Z.Type=1,Z.Parameter=2;function Q(X){return X===1||X===2}Z.is=Q})(IU||(IU={}));(function(Z){function Q(J){return{value:J}}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&(W.tooltip===void 0||XZ.string(W.tooltip)||VW.is(W.tooltip))&&(W.location===void 0||_5.is(W.location))&&(W.command===void 0||p6.is(W.command))}Z.is=X})(_U||(_U={}));(function(Z){function Q(J,W,H){let Y={position:J,label:W};if(H!==void 0)Y.kind=H;return Y}Z.create=Q;function X(J){let W=J;return XZ.objectLiteral(W)&&BQ.is(W.position)&&(XZ.string(W.label)||XZ.typedArray(W.label,_U.is))&&(W.kind===void 0||IU.is(W.kind))&&W.textEdits===void 0||XZ.typedArray(W.textEdits,y6.is)&&(W.tooltip===void 0||XZ.string(W.tooltip)||VW.is(W.tooltip))&&(W.paddingLeft===void 0||XZ.boolean(W.paddingLeft))&&(W.paddingRight===void 0||XZ.boolean(W.paddingRight))}Z.is=X})(nA||(nA={}));(function(Z){function Q(X){return{kind:"snippet",value:X}}Z.createSnippet=Q})(oA||(oA={}));(function(Z){function Q(X,J,W,H){return{insertText:X,filterText:J,range:W,command:H}}Z.create=Q})(rA||(rA={}));(function(Z){function Q(X){return{items:X}}Z.create=Q})(aA||(aA={}));(function(Z){Z.Invoked=0,Z.Automatic=1})(tA||(tA={}));(function(Z){function Q(X,J){return{range:X,text:J}}Z.create=Q})(eA||(eA={}));(function(Z){function Q(X,J){return{triggerKind:X,selectedCompletionInfo:J}}Z.create=Q})(ZO||(ZO={}));(function(Z){function Q(X){let J=X;return XZ.objectLiteral(J)&&wU.is(J.uri)&&XZ.string(J.name)}Z.is=Q})(QO||(QO={}));(function(Z){function Q(H,Y,B,K){return new JO(H,Y,B,K)}Z.create=Q;function X(H){let Y=H;return XZ.defined(Y)&&XZ.string(Y.uri)&&(XZ.undefined(Y.languageId)||XZ.string(Y.languageId))&&XZ.uinteger(Y.lineCount)&&XZ.func(Y.getText)&&XZ.func(Y.positionAt)&&XZ.func(Y.offsetAt)?!0:!1}Z.is=X;function J(H,Y){let B=H.getText(),K=W(Y,(G,z)=>{let F=G.range.start.line-z.range.start.line;if(F===0)return G.range.start.character-z.range.start.character;return F}),U=B.length;for(let G=K.length-1;G>=0;G--){let z=K[G],F=H.offsetAt(z.range.start),q=H.offsetAt(z.range.end);if(q<=U)B=B.substring(0,F)+z.newText+B.substring(q,B.length);else throw Error("Overlapping edit");U=F}return B}Z.applyEdits=J;function W(H,Y){if(H.length<=1)return H;let B=H.length/2|0,K=H.slice(0,B),U=H.slice(B);W(K,Y),W(U,Y);let G=0,z=0,F=0;while(G<K.length&&z<U.length)if(Y(K[G],U[z])<=0)H[F++]=K[G++];else H[F++]=U[z++];while(G<K.length)H[F++]=K[G++];while(z<U.length)H[F++]=U[z++];return H}})(XO||(XO={}));(function(Z){let Q=Object.prototype.toString;function X(q){return typeof q<"u"}Z.defined=X;function J(q){return typeof q>"u"}Z.undefined=J;function W(q){return q===!0||q===!1}Z.boolean=W;function H(q){return Q.call(q)==="[object String]"}Z.string=H;function Y(q){return Q.call(q)==="[object Number]"}Z.number=Y;function B(q,L,A){return Q.call(q)==="[object Number]"&&L<=q&&q<=A}Z.numberRange=B;function K(q){return Q.call(q)==="[object Number]"&&-2147483648<=q&&q<=2147483647}Z.integer=K;function U(q){return Q.call(q)==="[object Number]"&&0<=q&&q<=2147483647}Z.uinteger=U;function G(q){return Q.call(q)==="[object Function]"}Z.func=G;function z(q){return q!==null&&typeof q==="object"}Z.objectLiteral=z;function F(q,L){return Array.isArray(q)&&q.every(L)}Z.typedArray=F})(XZ||(XZ={}))});class T5{constructor(){this.nodeStack=[]}get current(){var Z;return(Z=this.nodeStack[this.nodeStack.length-1])!==null&&Z!==void 0?Z:this.rootNode}buildRootNode(Z){return this.rootNode=new hW(Z),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(Z){let Q=new l6;return Q.grammarSource=Z,Q.root=this.rootNode,this.current.content.push(Q),this.nodeStack.push(Q),Q}buildLeafNode(Z,Q){let X=new $6(Z.startOffset,Z.image.length,n7(Z),Z.tokenType,!Q);return X.grammarSource=Q,X.root=this.rootNode,this.current.content.push(X),X}removeNode(Z){let Q=Z.container;if(Q){let X=Q.content.indexOf(Z);if(X>=0)Q.content.splice(X,1)}}addHiddenNodes(Z){let Q=[];for(let W of Z){let H=new $6(W.startOffset,W.image.length,n7(W),W.tokenType,!0);H.root=this.rootNode,Q.push(H)}let X=this.current,J=!1;if(X.content.length>0){X.content.push(...Q);return}while(X.container){let W=X.container.content.indexOf(X);if(W>0){X.container.content.splice(W,0,...Q),J=!0;break}X=X.container}if(!J)this.rootNode.content.unshift(...Q)}construct(Z){let Q=this.current;if(typeof Z.$type==="string")this.current.astNode=Z;Z.$cstNode=Q;let X=this.nodeStack.pop();if((X===null||X===void 0?void 0:X.content.length)===0)this.removeNode(X)}}class v5{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var Z,Q;let X=typeof((Z=this._astNode)===null||Z===void 0?void 0:Z.$type)==="string"?this._astNode:(Q=this.container)===null||Q===void 0?void 0:Q.astNode;if(!X)throw Error("This node has no associated AST element");return X}set astNode(Z){this._astNode=Z}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}var $6,l6,jU,hW;var x5=D(()=>{SU();D0();$6=class $6 extends v5{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(Z,Q,X,J,W=!1){super();this._hidden=W,this._offset=Z,this._tokenType=J,this._length=Q,this._range=X}};l6=class l6 extends v5{constructor(){super(...arguments);this.content=new jU(this)}get children(){return this.content}get offset(){var Z,Q;return(Q=(Z=this.firstNonHiddenNode)===null||Z===void 0?void 0:Z.offset)!==null&&Q!==void 0?Q:0}get length(){return this.end-this.offset}get end(){var Z,Q;return(Q=(Z=this.lastNonHiddenNode)===null||Z===void 0?void 0:Z.end)!==null&&Q!==void 0?Q:0}get range(){let Z=this.firstNonHiddenNode,Q=this.lastNonHiddenNode;if(Z&&Q){if(this._rangeCache===void 0){let{range:X}=Z,{range:J}=Q;this._rangeCache={start:X.start,end:J.end.line<X.start.line?X.start:J.end}}return this._rangeCache}else return{start:BQ.create(0,0),end:BQ.create(0,0)}}get firstNonHiddenNode(){for(let Z of this.content)if(!Z.hidden)return Z;return this.content[0]}get lastNonHiddenNode(){for(let Z=this.content.length-1;Z>=0;Z--){let Q=this.content[Z];if(!Q.hidden)return Q}return this.content[this.content.length-1]}};jU=class jU extends Array{constructor(Z){super();this.parent=Z,Object.setPrototypeOf(this,jU.prototype)}push(...Z){return this.addParents(Z),super.push(...Z)}unshift(...Z){return this.addParents(Z),super.unshift(...Z)}splice(Z,Q,...X){return this.addParents(X),super.splice(Z,Q,...X)}addParents(Z){for(let Q of Z)Q.container=this.parent}};hW=class hW extends l6{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(Z){super();this._text="",this._text=Z!==null&&Z!==void 0?Z:""}}});function fU(Z){return Z.$type===b5}class g5{constructor(Z){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=Z.parser.Lexer;let Q=this.lexer.definition,X=Z.LanguageMetaData.mode==="production";this.wrapper=new YO(Q,Object.assign(Object.assign({},Z.parser.ParserConfig),{skipValidations:X,errorMessageProvider:Z.parser.ParserErrorMessageProvider}))}alternatives(Z,Q){this.wrapper.wrapOr(Z,Q)}optional(Z,Q){this.wrapper.wrapOption(Z,Q)}many(Z,Q){this.wrapper.wrapMany(Z,Q)}atLeastOne(Z,Q){this.wrapper.wrapAtLeastOne(Z,Q)}getRule(Z){return this.allRules.get(Z)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class TU{buildMismatchTokenMessage(Z){return D9.buildMismatchTokenMessage(Z)}buildNotAllInputParsedMessage(Z){return D9.buildNotAllInputParsedMessage(Z)}buildNoViableAltMessage(Z){return D9.buildNoViableAltMessage(Z)}buildEarlyExitMessage(Z){return D9.buildEarlyExitMessage(Z)}}var b5,WO="",HO=(Z)=>Z.endsWith(WO)?Z:Z+WO,V5,kW,h5,$x,YO;var mW=D(()=>{n9();QA();x0();O0();xX();x5();b5=Symbol("Datatype");V5=class V5 extends g5{get current(){return this.stack[this.stack.length-1]}constructor(Z){super(Z);this.nodeBuilder=new T5,this.stack=[],this.assignmentMap=new Map,this.linker=Z.references.Linker,this.converter=Z.parser.ValueConverter,this.astReflection=Z.shared.AstReflection}rule(Z,Q){let X=this.computeRuleType(Z),J=this.wrapper.DEFINE_RULE(HO(Z.name),this.startImplementation(X,Q).bind(this));if(this.allRules.set(Z.name,J),Z.entry)this.mainRule=J;return J}computeRuleType(Z){if(Z.fragment)return;else if(r8(Z))return b5;else{let Q=uJ(Z);return Q!==null&&Q!==void 0?Q:Z.name}}parse(Z,Q={}){this.nodeBuilder.buildRootNode(Z);let X=this.lexerResult=this.lexer.tokenize(Z);this.wrapper.input=X.tokens;let J=Q.rule?this.allRules.get(Q.rule):this.mainRule;if(!J)throw Error(Q.rule?`No rule found with name '${Q.rule}'`:"No main rule available.");let W=J.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(X.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:W,lexerErrors:X.errors,lexerReport:X.report,parserErrors:this.wrapper.errors}}startImplementation(Z,Q){return(X)=>{let J=!this.isRecording()&&Z!==void 0;if(J){let H={$type:Z};if(this.stack.push(H),Z===b5)H.value=""}let W;try{W=Q(X)}catch(H){W=void 0}if(W===void 0&&J)W=this.construct();return W}}extractHiddenTokens(Z){let Q=this.lexerResult.hidden;if(!Q.length)return[];let X=Z.startOffset;for(let J=0;J<Q.length;J++)if(Q[J].startOffset>X)return Q.splice(0,J);return Q.splice(0,Q.length)}consume(Z,Q,X){let J=this.wrapper.wrapConsume(Z,Q);if(!this.isRecording()&&this.isValidToken(J)){let W=this.extractHiddenTokens(J);this.nodeBuilder.addHiddenNodes(W);let H=this.nodeBuilder.buildLeafNode(J,X),{assignment:Y,isCrossRef:B}=this.getAssignment(X),K=this.current;if(Y){let U=B0(X)?J.image:this.converter.convert(J.image,H);this.assign(Y.operator,Y.feature,U,H,B)}else if(fU(K)){let U=J.image;if(!B0(X))U=this.converter.convert(U,H).toString();K.value+=U}}}isValidToken(Z){return!Z.isInsertedInRecovery&&!isNaN(Z.startOffset)&&typeof Z.endOffset==="number"&&!isNaN(Z.endOffset)}subrule(Z,Q,X,J,W){let H;if(!this.isRecording()&&!X)H=this.nodeBuilder.buildCompositeNode(J);let Y=this.wrapper.wrapSubrule(Z,Q,W);if(!this.isRecording()&&H&&H.length>0)this.performSubruleAssignment(Y,J,H)}performSubruleAssignment(Z,Q,X){let{assignment:J,isCrossRef:W}=this.getAssignment(Q);if(J)this.assign(J.operator,J.feature,Z,X,W);else if(!J){let H=this.current;if(fU(H))H.value+=Z.toString();else if(typeof Z==="object"&&Z){let B=this.assignWithoutOverride(Z,H);this.stack.pop(),this.stack.push(B)}}}action(Z,Q){if(!this.isRecording()){let X=this.current;if(Q.feature&&Q.operator){X=this.construct(),this.nodeBuilder.removeNode(X.$cstNode),this.nodeBuilder.buildCompositeNode(Q).content.push(X.$cstNode);let W={$type:Z};this.stack.push(W),this.assign(Q.operator,Q.feature,X,X.$cstNode,!1)}else X.$type=Z}}construct(){if(this.isRecording())return;let Z=this.current;if(kH(Z),this.nodeBuilder.construct(Z),this.stack.pop(),fU(Z))return this.converter.convert(Z.value,Z.$cstNode);else EB(this.astReflection,Z);return Z}getAssignment(Z){if(!this.assignmentMap.has(Z)){let Q=z7(Z,E0);this.assignmentMap.set(Z,{assignment:Q,isCrossRef:Q?G7(Q.terminal):!1})}return this.assignmentMap.get(Z)}assign(Z,Q,X,J,W){let H=this.current,Y;if(W&&typeof X==="string")Y=this.linker.buildReference(H,Q,J,X);else Y=X;switch(Z){case"=":{H[Q]=Y;break}case"?=":{H[Q]=!0;break}case"+=":{if(!Array.isArray(H[Q]))H[Q]=[];H[Q].push(Y)}}}assignWithoutOverride(Z,Q){for(let[J,W]of Object.entries(Q)){let H=Z[J];if(H===void 0)Z[J]=W;else if(Array.isArray(H)&&Array.isArray(W))W.push(...H),Z[J]=W}let X=Z.$cstNode;if(X)X.astNode=void 0,Z.$cstNode=void 0;return Z}get definitionErrors(){return this.wrapper.definitionErrors}};kW=class kW extends TU{buildMismatchTokenMessage({expected:Z,actual:Q}){return`Expecting ${Z.LABEL?"`"+Z.LABEL+"`":Z.name.endsWith(":KW")?`keyword '${Z.name.substring(0,Z.name.length-3)}'`:`token of type '${Z.name}'`} but found \`${Q.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:Z}){return`Expecting end of file but found \`${Z.image}\`.`}};h5=class h5 extends g5{constructor(){super(...arguments);this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){return}parse(Z){this.resetState();let Q=this.lexer.tokenize(Z,{mode:"partial"});return this.tokens=Q.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(Z,Q){let X=this.wrapper.DEFINE_RULE(HO(Z.name),this.startImplementation(Q).bind(this));if(this.allRules.set(Z.name,X),Z.entry)this.mainRule=X;return X}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(Z){return(Q)=>{let X=this.keepStackSize();try{Z(Q)}finally{this.resetStackSize(X)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let Z=this.elementStack.length;return this.stackSize=Z,Z}resetStackSize(Z){this.removeUnexpectedElements(),this.stackSize=Z}consume(Z,Q,X){if(this.wrapper.wrapConsume(Z,Q),!this.isRecording())this.lastElementStack=[...this.elementStack,X],this.nextTokenIndex=this.currIdx+1}subrule(Z,Q,X,J,W){this.before(J),this.wrapper.wrapSubrule(Z,Q,W),this.after(J)}before(Z){if(!this.isRecording())this.elementStack.push(Z)}after(Z){if(!this.isRecording()){let Q=this.elementStack.lastIndexOf(Z);if(Q>=0)this.elementStack.splice(Q)}}get currIdx(){return this.wrapper.currIdx}};$x={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new kW};YO=class YO extends O5{constructor(Z,Q){let X=Q&&"maxLookahead"in Q;super(Z,Object.assign(Object.assign(Object.assign({},$x),{lookaheadStrategy:X?new s9({maxLookahead:Q.maxLookahead}):new C5({logging:Q.skipValidations?()=>{}:void 0})}),Q))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(Z,Q){return this.RULE(Z,Q)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(Z,Q){return this.consume(Z,Q)}wrapSubrule(Z,Q,X){return this.subrule(Z,Q,{ARGS:[X]})}wrapOr(Z,Q){this.or(Z,Q)}wrapOption(Z,Q){this.option(Z,Q)}wrapMany(Z,Q){this.many(Z,Q)}wrapAtLeastOne(Z,Q){this.atLeastOne(Z,Q)}}});function uW(Z,Q,X){return lx({parser:Q,tokens:X,ruleNames:new Map},Z),Q}function lx(Z,Q){let X=n8(Q,!1),J=UQ(Q.rules).filter(CX).filter((W)=>X.has(W));for(let W of J){let H=Object.assign(Object.assign({},Z),{consume:1,optional:1,subrule:1,many:1,or:1});Z.parser.rule(W,_7(H,W.definition))}}function _7(Z,Q,X=!1){let J;if(B0(Q))J=ax(Z,Q);else if(B9(Q))J=cx(Z,Q);else if(E0(Q))J=_7(Z,Q.terminal);else if(G7(Q))J=BO(Z,Q);else if(A0(Q))J=ix(Z,Q);else if(gH(Q))J=nx(Z,Q);else if(hH(Q))J=ox(Z,Q);else if(_9(Q))J=rx(Z,Q);else if(UB(Q)){let W=Z.consume++;J=()=>Z.parser.consume(W,X0,Q)}else throw new o7(Q.$cstNode,`Unexpected element type: ${Q.$type}`);return KO(Z,X?void 0:k5(Q),J,Q.cardinality)}function cx(Z,Q){let X=a8(Q);return()=>Z.parser.action(X,Q)}function ix(Z,Q){let X=Q.rule.ref;if(CX(X)){let J=Z.subrule++,W=X.fragment,H=Q.arguments.length>0?sx(X,Q.arguments):()=>({});return(Y)=>Z.parser.subrule(J,UO(Z,X),W,Q,H(Y))}else if(Z0(X)){let J=Z.consume++,W=vU(Z,X.name);return()=>Z.parser.consume(J,W,Q)}else if(!X)throw new o7(Q.$cstNode,`Undefined rule: ${Q.rule.$refText}`);else v0(X)}function sx(Z,Q){let X=Q.map((J)=>E9(J.value));return(J)=>{let W={};for(let H=0;H<X.length;H++){let Y=Z.parameters[H],B=X[H];W[Y.name]=B(J)}return W}}function E9(Z){if(XB(Z)){let Q=E9(Z.left),X=E9(Z.right);return(J)=>Q(J)||X(J)}else if(QB(Z)){let Q=E9(Z.left),X=E9(Z.right);return(J)=>Q(J)&&X(J)}else if(JB(Z)){let Q=E9(Z.value);return(X)=>!Q(X)}else if(WB(Z)){let Q=Z.parameter.ref.name;return(X)=>X!==void 0&&X[Q]===!0}else if(ZB(Z)){let Q=Boolean(Z.true);return()=>Q}v0(Z)}function nx(Z,Q){if(Q.elements.length===1)return _7(Z,Q.elements[0]);else{let X=[];for(let W of Q.elements){let H={ALT:_7(Z,W,!0)},Y=k5(W);if(Y)H.GATE=E9(Y);X.push(H)}let J=Z.or++;return(W)=>Z.parser.alternatives(J,X.map((H)=>{let Y={ALT:()=>H.ALT(W)},B=H.GATE;if(B)Y.GATE=()=>B(W);return Y}))}}function ox(Z,Q){if(Q.elements.length===1)return _7(Z,Q.elements[0]);let X=[];for(let B of Q.elements){let K={ALT:_7(Z,B,!0)},U=k5(B);if(U)K.GATE=E9(U);X.push(K)}let J=Z.or++,W=(B,K)=>{let U=K.getRuleStack().join("-");return`uGroup_${B}_${U}`},H=(B)=>Z.parser.alternatives(J,X.map((K,U)=>{let G={ALT:()=>!0},z=Z.parser;G.ALT=()=>{if(K.ALT(B),!z.isRecording()){let q=W(J,z);if(!z.unorderedGroups.get(q))z.unorderedGroups.set(q,[]);let L=z.unorderedGroups.get(q);if(typeof(L===null||L===void 0?void 0:L[U])>"u")L[U]=!0}};let F=K.GATE;if(F)G.GATE=()=>F(B);else G.GATE=()=>{let q=z.unorderedGroups.get(W(J,z));return!(q===null||q===void 0?void 0:q[U])};return G})),Y=KO(Z,k5(Q),H,"*");return(B)=>{if(Y(B),!Z.parser.isRecording())Z.parser.unorderedGroups.delete(W(J,Z.parser))}}function rx(Z,Q){let X=Q.elements.map((J)=>_7(Z,J));return(J)=>X.forEach((W)=>W(J))}function k5(Z){if(_9(Z))return Z.guardCondition;return}function BO(Z,Q,X=Q.terminal){if(!X){if(!Q.type.ref)throw Error("Could not resolve reference to type: "+Q.type.$refText);let J=dH(Q.type.ref),W=J===null||J===void 0?void 0:J.terminal;if(!W)throw Error("Could not find name assignment for type: "+a8(Q.type.ref));return BO(Z,Q,W)}else if(A0(X)&&CX(X.rule.ref)){let J=X.rule.ref,W=Z.subrule++;return(H)=>Z.parser.subrule(W,UO(Z,J),!1,Q,H)}else if(A0(X)&&Z0(X.rule.ref)){let J=Z.consume++,W=vU(Z,X.rule.ref.name);return()=>Z.parser.consume(J,W,Q)}else if(B0(X)){let J=Z.consume++,W=vU(Z,X.value);return()=>Z.parser.consume(J,W,Q)}else throw Error("Could not build cross reference parser")}function ax(Z,Q){let X=Z.consume++,J=Z.tokens[Q.value];if(!J)throw Error("Could not find token for keyword: "+Q.value);return()=>Z.parser.consume(X,J,Q)}function KO(Z,Q,X,J){let W=Q&&E9(Q);if(!J)if(W){let H=Z.or++;return(Y)=>Z.parser.alternatives(H,[{ALT:()=>X(Y),GATE:()=>W(Y)},{ALT:A5(),GATE:()=>!W(Y)}])}else return X;if(J==="*"){let H=Z.many++;return(Y)=>Z.parser.many(H,{DEF:()=>X(Y),GATE:W?()=>W(Y):void 0})}else if(J==="+"){let H=Z.many++;if(W){let Y=Z.or++;return(B)=>Z.parser.alternatives(Y,[{ALT:()=>Z.parser.atLeastOne(H,{DEF:()=>X(B)}),GATE:()=>W(B)},{ALT:A5(),GATE:()=>!W(B)}])}else return(Y)=>Z.parser.atLeastOne(H,{DEF:()=>X(Y)})}else if(J==="?"){let H=Z.optional++;return(Y)=>Z.parser.optional(H,{DEF:()=>X(Y),GATE:W?()=>W(Y):void 0})}else v0(J)}function UO(Z,Q){let X=tx(Z,Q),J=Z.parser.getRule(X);if(!J)throw Error(`Rule "${X}" not found."`);return J}function tx(Z,Q){if(CX(Q))return Q.name;else if(Z.ruleNames.has(Q))return Z.ruleNames.get(Q);else{let X=Q,J=X.$container,W=Q.$type;while(!CX(J)){if(_9(J)||gH(J)||hH(J))W=J.elements.indexOf(X).toString()+":"+W;X=J,J=J.$container}return W=J.name+":"+W,Z.ruleNames.set(Q,W),W}}function vU(Z,Q){let X=Z.tokens[Q];if(!X)throw Error(`Token "${Q}" not found."`);return X}var m5=D(()=>{n9();x0();fH();yX();O0()});function xU(Z){let Q=Z.Grammar,X=Z.parser.Lexer,J=new h5(Z);return uW(Q,J,X.definition),J.finalize(),J}var bU=D(()=>{mW();m5()});function gU(Z){let Q=GO(Z);return Q.finalize(),Q}function GO(Z){let Q=Z.Grammar,X=Z.parser.Lexer,J=new V5(Z);return uW(Q,J,X.definition)}var VU=D(()=>{mW();m5()});class a9{constructor(){this.diagnostics=[]}buildTokens(Z,Q){let X=UQ(n8(Z,!1)),J=this.buildTerminalTokens(X),W=this.buildKeywordTokens(X,J,Q);return J.forEach((H)=>{let Y=H.PATTERN;if(typeof Y==="object"&&Y&&"test"in Y&&kJ(Y))W.unshift(H);else W.push(H)}),W}flushLexingReport(Z){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let Z=[...this.diagnostics];return this.diagnostics=[],Z}buildTerminalTokens(Z){return Z.filter(Z0).filter((Q)=>!Q.fragment).map((Q)=>this.buildTerminalToken(Q)).toArray()}buildTerminalToken(Z){let Q=pJ(Z),X=this.requiresCustomPattern(Q)?this.regexPatternFunction(Q):Q,J={name:Z.name,PATTERN:X};if(typeof X==="function")J.LINE_BREAKS=!0;if(Z.hidden)J.GROUP=kJ(Q)?dQ.SKIPPED:"hidden";return J}requiresCustomPattern(Z){if(Z.flags.includes("u")||Z.flags.includes("s"))return!0;else if(Z.source.includes("?<=")||Z.source.includes("?<!"))return!0;else return!1}regexPatternFunction(Z){let Q=new RegExp(Z,Z.flags+"y");return(X,J)=>{return Q.lastIndex=J,Q.exec(X)}}buildKeywordTokens(Z,Q,X){return Z.filter(CX).flatMap((J)=>b0(J).filter(B0)).distinct((J)=>J.value).toArray().sort((J,W)=>W.value.length-J.value.length).map((J)=>this.buildKeywordToken(J,Q,Boolean(X===null||X===void 0?void 0:X.caseInsensitive)))}buildKeywordToken(Z,Q,X){let J=this.buildKeywordPattern(Z,X),W={name:Z.value,PATTERN:J,LONGER_ALT:this.findLongerAlt(Z,Q)};if(typeof J==="function")W.LINE_BREAKS=!0;return W}buildKeywordPattern(Z,Q){return Q?new RegExp(RB(Z.value)):Z.value}findLongerAlt(Z,Q){return Q.reduce((X,J)=>{let W=J===null||J===void 0?void 0:J.PATTERN;if((W===null||W===void 0?void 0:W.source)&&CB("^"+W.source+"$",Z.value))X.push(J);return X},[])}}var u5=D(()=>{n9();x0();xX();O0();mJ();yX()});class c6{convert(Z,Q){let X=Q.grammarSource;if(G7(X))X=SB(X);if(A0(X)){let J=X.rule.ref;if(!J)throw Error("This cst node was not parsed by a rule.");return this.runConverter(J,Z,Q)}return Z}runConverter(Z,Q,X){var J;switch(Z.name.toUpperCase()){case"INT":return n0.convertInt(Q);case"STRING":return n0.convertString(Q);case"ID":return n0.convertID(Q)}switch((J=gB(Z))===null||J===void 0?void 0:J.toLowerCase()){case"number":return n0.convertNumber(Q);case"boolean":return n0.convertBoolean(Q);case"bigint":return n0.convertBigint(Q);case"date":return n0.convertDate(Q);default:return Q}}}var n0;var hU=D(()=>{x0();O0();(function(Z){function Q(U){let G="";for(let z=1;z<U.length-1;z++){let F=U.charAt(z);if(F==="\\"){let q=U.charAt(++z);G+=X(q)}else G+=F}return G}Z.convertString=Q;function X(U){switch(U){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\x00";default:return U}}function J(U){if(U.charAt(0)==="^")return U.substring(1);else return U}Z.convertID=J;function W(U){return parseInt(U)}Z.convertInt=W;function H(U){return BigInt(U)}Z.convertBigint=H;function Y(U){return new Date(U)}Z.convertDate=Y;function B(U){return Number(U)}Z.convertNumber=B;function K(U){return U.toLowerCase()==="true"}Z.convertBoolean=K})(n0||(n0={}))});var uU=WH((zO)=>{Object.defineProperty(zO,"__esModule",{value:!0});var kU;function mU(){if(kU===void 0)throw Error("No runtime abstraction layer installed");return kU}(function(Z){function Q(X){if(X===void 0)throw Error("No runtime abstraction layer provided");kU=X}Z.install=Q})(mU||(mU={}));zO.default=mU});var LO=WH((wO)=>{Object.defineProperty(wO,"__esModule",{value:!0});wO.stringArray=wO.array=wO.func=wO.error=wO.number=wO.string=wO.boolean=void 0;function Zb(Z){return Z===!0||Z===!1}wO.boolean=Zb;function FO(Z){return typeof Z==="string"||Z instanceof String}wO.string=FO;function Qb(Z){return typeof Z==="number"||Z instanceof Number}wO.number=Qb;function Xb(Z){return Z instanceof Error}wO.error=Xb;function Jb(Z){return typeof Z==="function"}wO.func=Jb;function qO(Z){return Array.isArray(Z)}wO.array=qO;function Wb(Z){return qO(Z)&&Z.every((Q)=>FO(Q))}wO.stringArray=Wb});var pU=WH((AO)=>{Object.defineProperty(AO,"__esModule",{value:!0});AO.Emitter=AO.Event=void 0;var zb=uU(),DO;(function(Z){let Q={dispose(){}};Z.None=function(){return Q}})(DO||(AO.Event=DO={}));class EO{add(Z,Q=null,X){if(!this._callbacks)this._callbacks=[],this._contexts=[];if(this._callbacks.push(Z),this._contexts.push(Q),Array.isArray(X))X.push({dispose:()=>this.remove(Z,Q)})}remove(Z,Q=null){if(!this._callbacks)return;let X=!1;for(let J=0,W=this._callbacks.length;J<W;J++)if(this._callbacks[J]===Z)if(this._contexts[J]===Q){this._callbacks.splice(J,1),this._contexts.splice(J,1);return}else X=!0;if(X)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...Z){if(!this._callbacks)return[];let Q=[],X=this._callbacks.slice(0),J=this._contexts.slice(0);for(let W=0,H=X.length;W<H;W++)try{Q.push(X[W].apply(J[W],Z))}catch(Y){(0,zb.default)().console.error(Y)}return Q}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class p5{constructor(Z){this._options=Z}get event(){if(!this._event)this._event=(Z,Q,X)=>{if(!this._callbacks)this._callbacks=new EO;if(this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty())this._options.onFirstListenerAdd(this);this._callbacks.add(Z,Q);let J={dispose:()=>{if(!this._callbacks)return;if(this._callbacks.remove(Z,Q),J.dispose=p5._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty())this._options.onLastListenerRemove(this)}};if(Array.isArray(X))X.push(J);return J};return this._event}fire(Z){if(this._callbacks)this._callbacks.invoke.call(this._callbacks,Z)}dispose(){if(this._callbacks)this._callbacks.dispose(),this._callbacks=void 0}}AO.Emitter=p5;p5._noop=function(){}});var CO=WH((NO)=>{Object.defineProperty(NO,"__esModule",{value:!0});NO.CancellationTokenSource=NO.CancellationToken=void 0;var qb=uU(),wb=LO(),yU=pU(),y5;(function(Z){Z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:yU.Event.None}),Z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:yU.Event.None});function Q(X){let J=X;return J&&(J===Z.None||J===Z.Cancelled||wb.boolean(J.isCancellationRequested)&&!!J.onCancellationRequested)}Z.is=Q})(y5||(NO.CancellationToken=y5={}));var Mb=Object.freeze(function(Z,Q){let X=(0,qb.default)().timer.setTimeout(Z.bind(Q),0);return{dispose(){X.dispose()}}});class dU{constructor(){this._isCancelled=!1}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return Mb;if(!this._emitter)this._emitter=new yU.Emitter;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=void 0}}class PO{get token(){if(!this._token)this._token=new dU;return this._token}cancel(){if(!this._token)this._token=y5.Cancelled;else this._token.cancel()}dispose(){if(!this._token)this._token=y5.None;else if(this._token instanceof dU)this._token.dispose()}}NO.CancellationTokenSource=PO});var sZ={};var F0=D(()=>{aZ(sZ,bz(CO(),1))});function $U(){return new Promise((Z)=>{if(typeof setImmediate>"u")setTimeout(Z,0);else setImmediate(Z)})}function $5(){return d5=performance.now(),new sZ.CancellationTokenSource}function _O(Z){IO=Z}function r0(Z){return Z===o0}async function oQ(Z){if(Z===sZ.CancellationToken.None)return;let Q=performance.now();if(Q-d5>=IO)d5=Q,await $U(),d5=performance.now();if(Z.isCancellationRequested)throw o0}class rX{constructor(){this.promise=new Promise((Z,Q)=>{this.resolve=(X)=>{return Z(X),this},this.reject=(X)=>{return Q(X),this}})}}var d5=0,IO=10,o0;var q0=D(()=>{F0();o0=Symbol("OperationCancelled")});class pW{constructor(Z,Q,X,J){this._uri=Z,this._languageId=Q,this._version=X,this._content=J,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let Q=this.offsetAt(Z.start),X=this.offsetAt(Z.end);return this._content.substring(Q,X)}return this._content}update(Z,Q){for(let X of Z)if(pW.isIncremental(X)){let J=fO(X.range),W=this.offsetAt(J.start),H=this.offsetAt(J.end);this._content=this._content.substring(0,W)+X.text+this._content.substring(H,this._content.length);let Y=Math.max(J.start.line,0),B=Math.max(J.end.line,0),K=this._lineOffsets,U=SO(X.text,!1,W);if(B-Y===U.length)for(let z=0,F=U.length;z<F;z++)K[z+Y+1]=U[z];else if(U.length<1e4)K.splice(Y+1,B-Y,...U);else this._lineOffsets=K=K.slice(0,Y+1).concat(U,K.slice(B+1));let G=X.text.length-(H-W);if(G!==0)for(let z=Y+1+U.length,F=K.length;z<F;z++)K[z]=K[z]+G}else if(pW.isFull(X))this._content=X.text,this._lineOffsets=void 0;else throw Error("Unknown change event received");this._version=Q}getLineOffsets(){if(this._lineOffsets===void 0)this._lineOffsets=SO(this._content,!0);return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let Q=this.getLineOffsets(),X=0,J=Q.length;if(J===0)return{line:0,character:Z};while(X<J){let H=Math.floor((X+J)/2);if(Q[H]>Z)J=H;else X=H+1}let W=X-1;return Z=this.ensureBeforeEOL(Z,Q[W]),{line:W,character:Z-Q[W]}}offsetAt(Z){let Q=this.getLineOffsets();if(Z.line>=Q.length)return this._content.length;else if(Z.line<0)return 0;let X=Q[Z.line];if(Z.character<=0)return X;let J=Z.line+1<Q.length?Q[Z.line+1]:this._content.length,W=Math.min(X+Z.character,J);return this.ensureBeforeEOL(W,X)}ensureBeforeEOL(Z,Q){while(Z>Q&&jO(this._content.charCodeAt(Z-1)))Z--;return Z}get lineCount(){return this.getLineOffsets().length}static isIncremental(Z){let Q=Z;return Q!==void 0&&Q!==null&&typeof Q.text==="string"&&Q.range!==void 0&&(Q.rangeLength===void 0||typeof Q.rangeLength==="number")}static isFull(Z){let Q=Z;return Q!==void 0&&Q!==null&&typeof Q.text==="string"&&Q.range===void 0&&Q.rangeLength===void 0}}function lU(Z,Q){if(Z.length<=1)return Z;let X=Z.length/2|0,J=Z.slice(0,X),W=Z.slice(X);lU(J,Q),lU(W,Q);let H=0,Y=0,B=0;while(H<J.length&&Y<W.length)if(Q(J[H],W[Y])<=0)Z[B++]=J[H++];else Z[B++]=W[Y++];while(H<J.length)Z[B++]=J[H++];while(Y<W.length)Z[B++]=W[Y++];return Z}function SO(Z,Q,X=0){let J=Q?[X]:[];for(let W=0;W<Z.length;W++){let H=Z.charCodeAt(W);if(jO(H)){if(H===13&&W+1<Z.length&&Z.charCodeAt(W+1)===10)W++;J.push(X+W+1)}}return J}function jO(Z){return Z===13||Z===10}function fO(Z){let{start:Q,end:X}=Z;if(Q.line>X.line||Q.line===X.line&&Q.character>X.character)return{start:X,end:Q};return Z}function Db(Z){let Q=fO(Z.range);if(Q!==Z.range)return{newText:Z.newText,range:Q};return Z}var i6;var TO=D(()=>{(function(Z){function Q(W,H,Y,B){return new pW(W,H,Y,B)}Z.create=Q;function X(W,H,Y){if(W instanceof pW)return W.update(H,Y),W;else throw Error("TextDocument.update: document must be created by TextDocument.create")}Z.update=X;function J(W,H){let Y=W.getText(),B=lU(H.map(Db),(G,z)=>{let F=G.range.start.line-z.range.start.line;if(F===0)return G.range.start.character-z.range.start.character;return F}),K=0,U=[];for(let G of B){let z=W.offsetAt(G.range.start);if(z<K)throw Error("Overlapping edit");else if(z>K)U.push(Y.substring(K,z));if(G.newText.length)U.push(G.newText);K=W.offsetAt(G.range.end)}return U.push(Y.substr(K)),U.join("")}Z.applyEdits=J})(i6||(i6={}))});var vO,kX,s6;var cU=D(()=>{(()=>{var Z={470:(W)=>{function H(K){if(typeof K!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(K))}function Y(K,U){for(var G,z="",F=0,q=-1,L=0,A=0;A<=K.length;++A){if(A<K.length)G=K.charCodeAt(A);else{if(G===47)break;G=47}if(G===47){if(q===A-1||L===1);else if(q!==A-1&&L===2){if(z.length<2||F!==2||z.charCodeAt(z.length-1)!==46||z.charCodeAt(z.length-2)!==46){if(z.length>2){var k=z.lastIndexOf("/");if(k!==z.length-1){k===-1?(z="",F=0):F=(z=z.slice(0,k)).length-1-z.lastIndexOf("/"),q=A,L=0;continue}}else if(z.length===2||z.length===1){z="",F=0,q=A,L=0;continue}}U&&(z.length>0?z+="/..":z="..",F=2)}else z.length>0?z+="/"+K.slice(q+1,A):z=K.slice(q+1,A),F=A-q-1;q=A,L=0}else G===46&&L!==-1?++L:L=-1}return z}var B={resolve:function(){for(var K,U="",G=!1,z=arguments.length-1;z>=-1&&!G;z--){var F;z>=0?F=arguments[z]:(K===void 0&&(K=process.cwd()),F=K),H(F),F.length!==0&&(U=F+"/"+U,G=F.charCodeAt(0)===47)}return U=Y(U,!G),G?U.length>0?"/"+U:"/":U.length>0?U:"."},normalize:function(K){if(H(K),K.length===0)return".";var U=K.charCodeAt(0)===47,G=K.charCodeAt(K.length-1)===47;return(K=Y(K,!U)).length!==0||U||(K="."),K.length>0&&G&&(K+="/"),U?"/"+K:K},isAbsolute:function(K){return H(K),K.length>0&&K.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var K,U=0;U<arguments.length;++U){var G=arguments[U];H(G),G.length>0&&(K===void 0?K=G:K+="/"+G)}return K===void 0?".":B.normalize(K)},relative:function(K,U){if(H(K),H(U),K===U)return"";if((K=B.resolve(K))===(U=B.resolve(U)))return"";for(var G=1;G<K.length&&K.charCodeAt(G)===47;++G);for(var z=K.length,F=z-G,q=1;q<U.length&&U.charCodeAt(q)===47;++q);for(var L=U.length-q,A=F<L?F:L,k=-1,T=0;T<=A;++T){if(T===A){if(L>A){if(U.charCodeAt(q+T)===47)return U.slice(q+T+1);if(T===0)return U.slice(q+T)}else F>A&&(K.charCodeAt(G+T)===47?k=T:T===0&&(k=0));break}var p=K.charCodeAt(G+T);if(p!==U.charCodeAt(q+T))break;p===47&&(k=T)}var s="";for(T=G+k+1;T<=z;++T)T!==z&&K.charCodeAt(T)!==47||(s.length===0?s+="..":s+="/..");return s.length>0?s+U.slice(q+k):(q+=k,U.charCodeAt(q)===47&&++q,U.slice(q))},_makeLong:function(K){return K},dirname:function(K){if(H(K),K.length===0)return".";for(var U=K.charCodeAt(0),G=U===47,z=-1,F=!0,q=K.length-1;q>=1;--q)if((U=K.charCodeAt(q))===47){if(!F){z=q;break}}else F=!1;return z===-1?G?"/":".":G&&z===1?"//":K.slice(0,z)},basename:function(K,U){if(U!==void 0&&typeof U!="string")throw TypeError('"ext" argument must be a string');H(K);var G,z=0,F=-1,q=!0;if(U!==void 0&&U.length>0&&U.length<=K.length){if(U.length===K.length&&U===K)return"";var L=U.length-1,A=-1;for(G=K.length-1;G>=0;--G){var k=K.charCodeAt(G);if(k===47){if(!q){z=G+1;break}}else A===-1&&(q=!1,A=G+1),L>=0&&(k===U.charCodeAt(L)?--L==-1&&(F=G):(L=-1,F=A))}return z===F?F=A:F===-1&&(F=K.length),K.slice(z,F)}for(G=K.length-1;G>=0;--G)if(K.charCodeAt(G)===47){if(!q){z=G+1;break}}else F===-1&&(q=!1,F=G+1);return F===-1?"":K.slice(z,F)},extname:function(K){H(K);for(var U=-1,G=0,z=-1,F=!0,q=0,L=K.length-1;L>=0;--L){var A=K.charCodeAt(L);if(A!==47)z===-1&&(F=!1,z=L+1),A===46?U===-1?U=L:q!==1&&(q=1):U!==-1&&(q=-1);else if(!F){G=L+1;break}}return U===-1||z===-1||q===0||q===1&&U===z-1&&U===G+1?"":K.slice(U,z)},format:function(K){if(K===null||typeof K!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof K);return function(U,G){var z=G.dir||G.root,F=G.base||(G.name||"")+(G.ext||"");return z?z===G.root?z+F:z+"/"+F:F}(0,K)},parse:function(K){H(K);var U={root:"",dir:"",base:"",ext:"",name:""};if(K.length===0)return U;var G,z=K.charCodeAt(0),F=z===47;F?(U.root="/",G=1):G=0;for(var q=-1,L=0,A=-1,k=!0,T=K.length-1,p=0;T>=G;--T)if((z=K.charCodeAt(T))!==47)A===-1&&(k=!1,A=T+1),z===46?q===-1?q=T:p!==1&&(p=1):q!==-1&&(p=-1);else if(!k){L=T+1;break}return q===-1||A===-1||p===0||p===1&&q===A-1&&q===L+1?A!==-1&&(U.base=U.name=L===0&&F?K.slice(1,A):K.slice(L,A)):(L===0&&F?(U.name=K.slice(1,q),U.base=K.slice(1,A)):(U.name=K.slice(L,q),U.base=K.slice(L,A)),U.ext=K.slice(q,A)),L>0?U.dir=K.slice(0,L-1):F&&(U.dir="/"),U},sep:"/",delimiter:":",win32:null,posix:null};B.posix=B,W.exports=B}},Q={};function X(W){var H=Q[W];if(H!==void 0)return H.exports;var Y=Q[W]={exports:{}};return Z[W](Y,Y.exports,X),Y.exports}X.d=(W,H)=>{for(var Y in H)X.o(H,Y)&&!X.o(W,Y)&&Object.defineProperty(W,Y,{enumerable:!0,get:H[Y]})},X.o=(W,H)=>Object.prototype.hasOwnProperty.call(W,H),X.r=(W)=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var J={};(()=>{let W;if(X.r(J),X.d(J,{URI:()=>F,Utils:()=>h}),typeof process=="object")W=process.platform==="win32";else if(typeof navigator=="object")W=navigator.userAgent.indexOf("Windows")>=0;let H=/^\w[\w\d+.-]*$/,Y=/^\//,B=/^\/\//;function K(w,$){if(!w.scheme&&$)throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${w.authority}", path: "${w.path}", query: "${w.query}", fragment: "${w.fragment}"}`);if(w.scheme&&!H.test(w.scheme))throw Error("[UriError]: Scheme contains illegal characters.");if(w.path){if(w.authority){if(!Y.test(w.path))throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(B.test(w.path))throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let U="",G="/",z=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class F{static isUri(w){return w instanceof F||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"}scheme;authority;path;query;fragment;constructor(w,$,j,n,d,m=!1){typeof w=="object"?(this.scheme=w.scheme||U,this.authority=w.authority||U,this.path=w.path||U,this.query=w.query||U,this.fragment=w.fragment||U):(this.scheme=function(b,u){return b||u?b:"file"}(w,m),this.authority=$||U,this.path=function(b,u){switch(b){case"https":case"http":case"file":u?u[0]!==G&&(u=G+u):u=G}return u}(this.scheme,j||U),this.query=n||U,this.fragment=d||U,K(this,m))}get fsPath(){return p(this,!1)}with(w){if(!w)return this;let{scheme:$,authority:j,path:n,query:d,fragment:m}=w;return $===void 0?$=this.scheme:$===null&&($=U),j===void 0?j=this.authority:j===null&&(j=U),n===void 0?n=this.path:n===null&&(n=U),d===void 0?d=this.query:d===null&&(d=U),m===void 0?m=this.fragment:m===null&&(m=U),$===this.scheme&&j===this.authority&&n===this.path&&d===this.query&&m===this.fragment?this:new L($,j,n,d,m)}static parse(w,$=!1){let j=z.exec(w);return j?new L(j[2]||U,P(j[4]||U),P(j[5]||U),P(j[7]||U),P(j[9]||U),$):new L(U,U,U,U,U)}static file(w){let $=U;if(W&&(w=w.replace(/\\/g,G)),w[0]===G&&w[1]===G){let j=w.indexOf(G,2);j===-1?($=w.substring(2),w=G):($=w.substring(2,j),w=w.substring(j)||G)}return new L("file",$,w,U,U)}static from(w){let $=new L(w.scheme,w.authority,w.path,w.query,w.fragment);return K($,!0),$}toString(w=!1){return s(this,w)}toJSON(){return this}static revive(w){if(w){if(w instanceof F)return w;{let $=new L(w);return $._formatted=w.external,$._fsPath=w._sep===q?w.fsPath:null,$}}return w}}let q=W?1:void 0;class L extends F{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=p(this,!1)),this._fsPath}toString(w=!1){return w?s(this,!0):(this._formatted||(this._formatted=s(this,!1)),this._formatted)}toJSON(){let w={$mid:1};return this._fsPath&&(w.fsPath=this._fsPath,w._sep=q),this._formatted&&(w.external=this._formatted),this.path&&(w.path=this.path),this.scheme&&(w.scheme=this.scheme),this.authority&&(w.authority=this.authority),this.query&&(w.query=this.query),this.fragment&&(w.fragment=this.fragment),w}}let A={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function k(w,$,j){let n,d=-1;for(let m=0;m<w.length;m++){let b=w.charCodeAt(m);if(b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===45||b===46||b===95||b===126||$&&b===47||j&&b===91||j&&b===93||j&&b===58)d!==-1&&(n+=encodeURIComponent(w.substring(d,m)),d=-1),n!==void 0&&(n+=w.charAt(m));else{n===void 0&&(n=w.substr(0,m));let u=A[b];u!==void 0?(d!==-1&&(n+=encodeURIComponent(w.substring(d,m)),d=-1),n+=u):d===-1&&(d=m)}}return d!==-1&&(n+=encodeURIComponent(w.substring(d))),n!==void 0?n:w}function T(w){let $;for(let j=0;j<w.length;j++){let n=w.charCodeAt(j);n===35||n===63?($===void 0&&($=w.substr(0,j)),$+=A[n]):$!==void 0&&($+=w[j])}return $!==void 0?$:w}function p(w,$){let j;return j=w.authority&&w.path.length>1&&w.scheme==="file"?`//${w.authority}${w.path}`:w.path.charCodeAt(0)===47&&(w.path.charCodeAt(1)>=65&&w.path.charCodeAt(1)<=90||w.path.charCodeAt(1)>=97&&w.path.charCodeAt(1)<=122)&&w.path.charCodeAt(2)===58?$?w.path.substr(1):w.path[1].toLowerCase()+w.path.substr(2):w.path,W&&(j=j.replace(/\//g,"\\")),j}function s(w,$){let j=$?T:k,n="",{scheme:d,authority:m,path:b,query:u,fragment:S}=w;if(d&&(n+=d,n+=":"),(m||d==="file")&&(n+=G,n+=G),m){let l=m.indexOf("@");if(l!==-1){let I=m.substr(0,l);m=m.substr(l+1),l=I.lastIndexOf(":"),l===-1?n+=j(I,!1,!1):(n+=j(I.substr(0,l),!1,!1),n+=":",n+=j(I.substr(l+1),!1,!0)),n+="@"}m=m.toLowerCase(),l=m.lastIndexOf(":"),l===-1?n+=j(m,!1,!0):(n+=j(m.substr(0,l),!1,!0),n+=m.substr(l))}if(b){if(b.length>=3&&b.charCodeAt(0)===47&&b.charCodeAt(2)===58){let l=b.charCodeAt(1);l>=65&&l<=90&&(b=`/${String.fromCharCode(l+32)}:${b.substr(3)}`)}else if(b.length>=2&&b.charCodeAt(1)===58){let l=b.charCodeAt(0);l>=65&&l<=90&&(b=`${String.fromCharCode(l+32)}:${b.substr(2)}`)}n+=j(b,!0,!1)}return u&&(n+="?",n+=j(u,!1,!1)),S&&(n+="#",n+=$?S:k(S,!1,!1)),n}function y(w){try{return decodeURIComponent(w)}catch{return w.length>3?w.substr(0,3)+y(w.substr(3)):w}}let C=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(w){return w.match(C)?w.replace(C,($)=>y($)):w}var g=X(470);let f=g.posix||g,O="/";var h;(function(w){w.joinPath=function($,...j){return $.with({path:f.join($.path,...j)})},w.resolvePath=function($,...j){let n=$.path,d=!1;n[0]!==O&&(n=O+n,d=!0);let m=f.resolve(n,...j);return d&&m[0]===O&&!$.authority&&(m=m.substring(1)),$.with({path:m})},w.dirname=function($){if($.path.length===0||$.path===O)return $;let j=f.dirname($.path);return j.length===1&&j.charCodeAt(0)===46&&(j=""),$.with({path:j})},w.basename=function($){return f.basename($.path)},w.extname=function($){return f.extname($.path)}})(h||(h={}))})(),vO=J})();({URI:kX,Utils:s6}=vO)});var mX;var a0=D(()=>{cU();(function(Z){Z.basename=s6.basename,Z.dirname=s6.dirname,Z.extname=s6.extname,Z.joinPath=s6.joinPath,Z.resolvePath=s6.resolvePath;function Q(W,H){return(W===null||W===void 0?void 0:W.toString())===(H===null||H===void 0?void 0:H.toString())}Z.equals=Q;function X(W,H){let Y=typeof W==="string"?W:W.path,B=typeof H==="string"?H:H.path,K=Y.split("/").filter((q)=>q.length>0),U=B.split("/").filter((q)=>q.length>0),G=0;for(;G<K.length;G++)if(K[G]!==U[G])break;let z="../".repeat(K.length-G),F=U.slice(G).join("/");return z+F}Z.relative=X;function J(W){return kX.parse(W.toString()).toString()}Z.normalize=J})(mX||(mX={}))});class l5{constructor(Z){this.serviceRegistry=Z.ServiceRegistry,this.textDocuments=Z.workspace.TextDocuments,this.fileSystemProvider=Z.workspace.FileSystemProvider}async fromUri(Z,Q=sZ.CancellationToken.None){let X=await this.fileSystemProvider.readFile(Z);return this.createAsync(Z,X,Q)}fromTextDocument(Z,Q,X){if(Q=Q!==null&&Q!==void 0?Q:kX.parse(Z.uri),sZ.CancellationToken.is(X))return this.createAsync(Q,Z,X);else return this.create(Q,Z,X)}fromString(Z,Q,X){if(sZ.CancellationToken.is(X))return this.createAsync(Q,Z,X);else return this.create(Q,Z,X)}fromModel(Z,Q){return this.create(Q,{$model:Z})}create(Z,Q,X){if(typeof Q==="string"){let J=this.parse(Z,Q,X);return this.createLangiumDocument(J,Z,void 0,Q)}else if("$model"in Q){let J={value:Q.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(J,Z)}else{let J=this.parse(Z,Q.getText(),X);return this.createLangiumDocument(J,Z,Q)}}async createAsync(Z,Q,X){if(typeof Q==="string"){let J=await this.parseAsync(Z,Q,X);return this.createLangiumDocument(J,Z,void 0,Q)}else{let J=await this.parseAsync(Z,Q.getText(),X);return this.createLangiumDocument(J,Z,Q)}}createLangiumDocument(Z,Q,X,J){let W;if(X)W={parseResult:Z,uri:Q,state:AQ.Parsed,references:[],textDocument:X};else{let H=this.createTextDocumentGetter(Q,J);W={parseResult:Z,uri:Q,state:AQ.Parsed,references:[],get textDocument(){return H()}}}return Z.value.$document=W,W}async update(Z,Q){var X,J;let W=(X=Z.parseResult.value.$cstNode)===null||X===void 0?void 0:X.root.fullText,H=(J=this.textDocuments)===null||J===void 0?void 0:J.get(Z.uri.toString()),Y=H?H.getText():await this.fileSystemProvider.readFile(Z.uri);if(H)Object.defineProperty(Z,"textDocument",{value:H});else{let B=this.createTextDocumentGetter(Z.uri,Y);Object.defineProperty(Z,"textDocument",{get:B})}if(W!==Y)Z.parseResult=await this.parseAsync(Z.uri,Y,Q),Z.parseResult.value.$document=Z;return Z.state=AQ.Parsed,Z}parse(Z,Q,X){return this.serviceRegistry.getServices(Z).parser.LangiumParser.parse(Q,X)}parseAsync(Z,Q,X){return this.serviceRegistry.getServices(Z).parser.AsyncParser.parse(Q,X)}createTextDocumentGetter(Z,Q){let X=this.serviceRegistry,J=void 0;return()=>{return J!==null&&J!==void 0?J:J=i6.create(Z.toString(),X.getServices(Z).LanguageMetaData.languageId,0,Q!==null&&Q!==void 0?Q:"")}}}class c5{constructor(Z){this.documentMap=new Map,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.serviceRegistry=Z.ServiceRegistry}get all(){return UQ(this.documentMap.values())}addDocument(Z){let Q=Z.uri.toString();if(this.documentMap.has(Q))throw Error(`A document with the URI '${Q}' is already present.`);this.documentMap.set(Q,Z)}getDocument(Z){let Q=Z.toString();return this.documentMap.get(Q)}async getOrCreateDocument(Z,Q){let X=this.getDocument(Z);if(X)return X;return X=await this.langiumDocumentFactory.fromUri(Z,Q),this.addDocument(X),X}createDocument(Z,Q,X){if(X)return this.langiumDocumentFactory.fromString(Q,Z,X).then((J)=>{return this.addDocument(J),J});else{let J=this.langiumDocumentFactory.fromString(Q,Z);return this.addDocument(J),J}}hasDocument(Z){return this.documentMap.has(Z.toString())}invalidateDocument(Z){let Q=Z.toString(),X=this.documentMap.get(Q);if(X)this.serviceRegistry.getServices(Z).references.Linker.unlink(X),X.state=AQ.Changed,X.precomputedScopes=void 0,X.diagnostics=void 0;return X}deleteDocument(Z){let Q=Z.toString(),X=this.documentMap.get(Q);if(X)X.state=AQ.Changed,this.documentMap.delete(Q);return X}}var AQ;var n6=D(()=>{TO();n6();F0();yX();a0();(function(Z){Z[Z.Changed=0]="Changed",Z[Z.Parsed=1]="Parsed",Z[Z.IndexedContent=2]="IndexedContent",Z[Z.ComputedScopes=3]="ComputedScopes",Z[Z.Linked=4]="Linked",Z[Z.IndexedReferences=5]="IndexedReferences",Z[Z.Validated=6]="Validated"})(AQ||(AQ={}))});class i5{constructor(Z){this.reflection=Z.shared.AstReflection,this.langiumDocuments=()=>Z.shared.workspace.LangiumDocuments,this.scopeProvider=Z.references.ScopeProvider,this.astNodeLocator=Z.workspace.AstNodeLocator}async link(Z,Q=sZ.CancellationToken.None){for(let X of K0(Z.parseResult.value))await oQ(Q),gJ(X).forEach((J)=>this.doLink(J,Z))}doLink(Z,Q){var X;let J=Z.reference;if(J._ref===void 0){J._ref=iU;try{let W=this.getCandidate(Z);if(Y7(W))J._ref=W;else if(J._nodeDescription=W,this.langiumDocuments().hasDocument(W.documentUri)){let H=this.loadAstNode(W);J._ref=H!==null&&H!==void 0?H:this.createLinkingError(Z,W)}else J._ref=void 0}catch(W){console.error(`An error occurred while resolving reference to '${J.$refText}':`,W);let H=(X=W.message)!==null&&X!==void 0?X:String(W);J._ref=Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${J.$refText}': ${H}`})}Q.references.push(J)}}unlink(Z){for(let Q of Z.references)delete Q._ref,delete Q._nodeDescription;Z.references=[]}getCandidate(Z){let X=this.scopeProvider.getScope(Z).getElement(Z.reference.$refText);return X!==null&&X!==void 0?X:this.createLinkingError(Z)}buildReference(Z,Q,X,J){let W=this,H={$refNode:X,$refText:J,get ref(){var Y;if(mQ(this._ref))return this._ref;else if(s3(this._nodeDescription)){let B=W.loadAstNode(this._nodeDescription);this._ref=B!==null&&B!==void 0?B:W.createLinkingError({reference:H,container:Z,property:Q},this._nodeDescription)}else if(this._ref===void 0){this._ref=iU;let B=d8(Z).$document,K=W.getLinkedNode({reference:H,container:Z,property:Q});if(K.error&&B&&B.state<AQ.ComputedScopes)return this._ref=void 0;this._ref=(Y=K.node)!==null&&Y!==void 0?Y:K.error,this._nodeDescription=K.descr,B===null||B===void 0||B.references.push(this)}else if(this._ref===iU)throw Error(`Cyclic reference resolution detected: ${W.astNodeLocator.getAstNodePath(Z)}/${Q} (symbol '${J}')`);return mQ(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Y7(this._ref)?this._ref:void 0}};return H}getLinkedNode(Z){var Q;try{let X=this.getCandidate(Z);if(Y7(X))return{error:X};let J=this.loadAstNode(X);if(J)return{node:J,descr:X};else return{descr:X,error:this.createLinkingError(Z,X)}}catch(X){console.error(`An error occurred while resolving reference to '${Z.reference.$refText}':`,X);let J=(Q=X.message)!==null&&Q!==void 0?Q:String(X);return{error:Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${Z.reference.$refText}': ${J}`})}}}loadAstNode(Z){if(Z.node)return Z.node;let Q=this.langiumDocuments().getDocument(Z.documentUri);if(!Q)return;return this.astNodeLocator.getAstNode(Q.parseResult.value,Z.path)}createLinkingError(Z,Q){let X=d8(Z.container).$document;if(X&&X.state<AQ.ComputedScopes)console.warn(`Attempted reference resolution before document reached ComputedScopes state (${X.uri}).`);let J=this.reflection.getReferenceType(Z);return Object.assign(Object.assign({},Z),{message:`Could not resolve reference to ${J} named '${Z.reference.$refText}'.`,targetDescription:Q})}}var iU;var sU=D(()=>{F0();xX();q0();n6();iU=Symbol("ref_resolving")});function xO(Z){return typeof Z.name==="string"}class s5{getName(Z){if(xO(Z))return Z.name;return}getNameNode(Z){return o8(Z.$cstNode,"name")}}var nU=D(()=>{O0()});class n5{constructor(Z){this.nameProvider=Z.references.NameProvider,this.index=Z.shared.workspace.IndexManager,this.nodeLocator=Z.workspace.AstNodeLocator}findDeclaration(Z){if(Z){let Q=bB(Z),X=Z.astNode;if(Q&&X){let J=X[Q.feature];if(qX(J))return J.ref;else if(Array.isArray(J)){for(let W of J)if(qX(W)&&W.$refNode&&W.$refNode.offset<=Z.offset&&W.$refNode.end>=Z.end)return W.ref}}if(X){let J=this.nameProvider.getNameNode(X);if(J&&(J===Z||o3(Z,J)))return X}}return}findDeclarationNode(Z){let Q=this.findDeclaration(Z);if(Q===null||Q===void 0?void 0:Q.$cstNode){let X=this.nameProvider.getNameNode(Q);return X!==null&&X!==void 0?X:Q.$cstNode}return}findReferences(Z,Q){let X=[];if(Q.includeDeclaration){let W=this.getReferenceToSelf(Z);if(W)X.push(W)}let J=this.index.findAllReferences(Z,this.nodeLocator.getAstNodePath(Z));if(Q.documentUri)J=J.filter((W)=>mX.equals(W.sourceUri,Q.documentUri));return X.push(...J),UQ(X)}getReferenceToSelf(Z){let Q=this.nameProvider.getNameNode(Z);if(Q){let X=IX(Z),J=this.nodeLocator.getAstNodePath(Z);return{sourceUri:X.uri,sourcePath:J,targetUri:X.uri,targetPath:J,segment:K7(Q),local:!0}}return}}var oU=D(()=>{O0();xX();D0();yX();a0()});class o6{get size(){return this.map.size}constructor(Z){if(this.map=new Map,this.inverse=new Map,Z)for(let[Q,X]of Z)this.set(Q,X)}clear(){this.map.clear(),this.inverse.clear()}set(Z,Q){return this.map.set(Z,Q),this.inverse.set(Q,Z),this}get(Z){return this.map.get(Z)}getKey(Z){return this.inverse.get(Z)}delete(Z){let Q=this.map.get(Z);if(Q!==void 0)return this.map.delete(Z),this.inverse.delete(Q),!0;return!1}}var t0;var r6=D(()=>{yX();t0=class t0{constructor(Z){if(this.map=new Map,Z)for(let[Q,X]of Z)this.add(Q,X)}get size(){return s7.sum(UQ(this.map.values()).map((Z)=>Z.length))}clear(){this.map.clear()}delete(Z,Q){if(Q===void 0)return this.map.delete(Z);else{let X=this.map.get(Z);if(X){let J=X.indexOf(Q);if(J>=0){if(X.length===1)this.map.delete(Z);else X.splice(J,1);return!0}}return!1}}get(Z){var Q;return(Q=this.map.get(Z))!==null&&Q!==void 0?Q:[]}has(Z,Q){if(Q===void 0)return this.map.has(Z);else{let X=this.map.get(Z);if(X)return X.indexOf(Q)>=0;return!1}}add(Z,Q){if(this.map.has(Z))this.map.get(Z).push(Q);else this.map.set(Z,[Q]);return this}addAll(Z,Q){if(this.map.has(Z))this.map.get(Z).push(...Q);else this.map.set(Z,Array.from(Q));return this}forEach(Z){this.map.forEach((Q,X)=>Q.forEach((J)=>Z(J,X,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return UQ(this.map.entries()).flatMap(([Z,Q])=>Q.map((X)=>[Z,X]))}keys(){return UQ(this.map.keys())}values(){return UQ(this.map.values()).flat()}entriesGroupedByKey(){return UQ(this.map.entries())}}});class o5{constructor(Z){this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider}async computeExports(Z,Q=sZ.CancellationToken.None){return this.computeExportsForNode(Z.parseResult.value,Z,void 0,Q)}async computeExportsForNode(Z,Q,X=$8,J=sZ.CancellationToken.None){let W=[];this.exportNode(Z,W,Q);for(let H of X(Z))await oQ(J),this.exportNode(H,W,Q);return W}exportNode(Z,Q,X){let J=this.nameProvider.getName(Z);if(J)Q.push(this.descriptions.createDescription(Z,J,X))}async computeLocalScopes(Z,Q=sZ.CancellationToken.None){let X=Z.parseResult.value,J=new t0;for(let W of b0(X))await oQ(Q),this.processNode(W,Z,J);return J}processNode(Z,Q,X){let J=Z.$container;if(J){let W=this.nameProvider.getName(Z);if(W)X.add(J,this.descriptions.createDescription(Z,W,Q))}}}var rU=D(()=>{F0();xX();r6();q0()});class yW{constructor(Z,Q,X){var J;this.elements=Z,this.outerScope=Q,this.caseInsensitive=(J=X===null||X===void 0?void 0:X.caseInsensitive)!==null&&J!==void 0?J:!1}getAllElements(){if(this.outerScope)return this.elements.concat(this.outerScope.getAllElements());else return this.elements}getElement(Z){let Q=this.caseInsensitive?this.elements.find((X)=>X.name.toLowerCase()===Z.toLowerCase()):this.elements.find((X)=>X.name===Z);if(Q)return Q;if(this.outerScope)return this.outerScope.getElement(Z);return}}class r5{constructor(Z,Q,X){var J;this.elements=new Map,this.caseInsensitive=(J=X===null||X===void 0?void 0:X.caseInsensitive)!==null&&J!==void 0?J:!1;for(let W of Z){let H=this.caseInsensitive?W.name.toLowerCase():W.name;this.elements.set(H,W)}this.outerScope=Q}getElement(Z){let Q=this.caseInsensitive?Z.toLowerCase():Z,X=this.elements.get(Q);if(X)return X;if(this.outerScope)return this.outerScope.getElement(Z);return}getAllElements(){let Z=UQ(this.elements.values());if(this.outerScope)Z=Z.concat(this.outerScope.getAllElements());return Z}}var Eb;var aU=D(()=>{yX();Eb={getElement(){return},getAllElements(){return v8}}});class dW{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(Z){this.toDispose.push(Z)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((Z)=>Z.dispose())}throwIfDisposed(){if(this.isDisposed)throw Error("This cache has already been disposed")}}var a5,a6,tU,$W;var t5=D(()=>{a5=class a5 extends dW{constructor(){super(...arguments);this.cache=new Map}has(Z){return this.throwIfDisposed(),this.cache.has(Z)}set(Z,Q){this.throwIfDisposed(),this.cache.set(Z,Q)}get(Z,Q){if(this.throwIfDisposed(),this.cache.has(Z))return this.cache.get(Z);else if(Q){let X=Q();return this.cache.set(Z,X),X}else return}delete(Z){return this.throwIfDisposed(),this.cache.delete(Z)}clear(){this.throwIfDisposed(),this.cache.clear()}};a6=class a6 extends dW{constructor(Z){super();this.cache=new Map,this.converter=Z!==null&&Z!==void 0?Z:(Q)=>Q}has(Z,Q){return this.throwIfDisposed(),this.cacheForContext(Z).has(Q)}set(Z,Q,X){this.throwIfDisposed(),this.cacheForContext(Z).set(Q,X)}get(Z,Q,X){this.throwIfDisposed();let J=this.cacheForContext(Z);if(J.has(Q))return J.get(Q);else if(X){let W=X();return J.set(Q,W),W}else return}delete(Z,Q){return this.throwIfDisposed(),this.cacheForContext(Z).delete(Q)}clear(Z){if(this.throwIfDisposed(),Z){let Q=this.converter(Z);this.cache.delete(Q)}else this.cache.clear()}cacheForContext(Z){let Q=this.converter(Z),X=this.cache.get(Q);if(!X)X=new Map,this.cache.set(Q,X);return X}};tU=class tU extends a6{constructor(Z,Q){super((X)=>X.toString());if(Q)this.toDispose.push(Z.workspace.DocumentBuilder.onDocumentPhase(Q,(X)=>{this.clear(X.uri.toString())})),this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((X,J)=>{for(let W of J)this.clear(W)}));else this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((X,J)=>{let W=X.concat(J);for(let H of W)this.clear(H)}))}};$W=class $W extends a5{constructor(Z,Q){super();if(Q)this.toDispose.push(Z.workspace.DocumentBuilder.onBuildPhase(Q,()=>{this.clear()})),this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((X,J)=>{if(J.length>0)this.clear()}));else this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}});class e5{constructor(Z){this.reflection=Z.shared.AstReflection,this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider,this.indexManager=Z.shared.workspace.IndexManager,this.globalScopeCache=new $W(Z.shared)}getScope(Z){let Q=[],X=this.reflection.getReferenceType(Z),J=IX(Z.container).precomputedScopes;if(J){let H=Z.container;do{let Y=J.get(H);if(Y.length>0)Q.push(UQ(Y).filter((B)=>this.reflection.isSubtype(B.type,X)));H=H.$container}while(H)}let W=this.getGlobalScope(X,Z);for(let H=Q.length-1;H>=0;H--)W=this.createScope(Q[H],W);return W}createScope(Z,Q,X){return new yW(UQ(Z),Q,X)}createScopeForNodes(Z,Q,X){let J=UQ(Z).map((W)=>{let H=this.nameProvider.getName(W);if(H)return this.descriptions.createDescription(W,H);return}).nonNullable();return new yW(J,Q,X)}getGlobalScope(Z,Q){return this.globalScopeCache.get(Z,()=>new r5(this.indexManager.allElements(Z)))}}var eU=D(()=>{aU();xX();yX();t5()});function ZG(Z){return typeof Z.$comment==="string"}function bO(Z){return typeof Z==="object"&&!!Z&&(("$ref"in Z)||("$error"in Z))}class ZY{constructor(Z){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=Z.shared.workspace.LangiumDocuments,this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider,this.commentProvider=Z.documentation.CommentProvider}serialize(Z,Q){let X=Q!==null&&Q!==void 0?Q:{},J=Q===null||Q===void 0?void 0:Q.replacer,W=(Y,B)=>this.replacer(Y,B,X),H=J?(Y,B)=>J(Y,B,W):W;try{return this.currentDocument=IX(Z),JSON.stringify(Z,H,Q===null||Q===void 0?void 0:Q.space)}finally{this.currentDocument=void 0}}deserialize(Z,Q){let X=Q!==null&&Q!==void 0?Q:{},J=JSON.parse(Z);return this.linkNode(J,J,X),J}replacer(Z,Q,{refText:X,sourceText:J,textRegions:W,comments:H,uriConverter:Y}){var B,K,U,G;if(this.ignoreProperties.has(Z))return;else if(qX(Q)){let z=Q.ref,F=X?Q.$refText:void 0;if(z){let q=IX(z),L="";if(this.currentDocument&&this.currentDocument!==q)if(Y)L=Y(q.uri,Q);else L=q.uri.toString();let A=this.astNodeLocator.getAstNodePath(z);return{$ref:`${L}#${A}`,$refText:F}}else return{$error:(K=(B=Q.error)===null||B===void 0?void 0:B.message)!==null&&K!==void 0?K:"Could not resolve reference",$refText:F}}else if(mQ(Q)){let z=void 0;if(W){if(z=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},Q)),(!Z||Q.$document)&&(z===null||z===void 0?void 0:z.$textRegion))z.$textRegion.documentURI=(U=this.currentDocument)===null||U===void 0?void 0:U.uri.toString()}if(J&&!Z)z!==null&&z!==void 0||(z=Object.assign({},Q)),z.$sourceText=(G=Q.$cstNode)===null||G===void 0?void 0:G.text;if(H){z!==null&&z!==void 0||(z=Object.assign({},Q));let F=this.commentProvider.getComment(Q);if(F)z.$comment=F.replace(/\r/g,"")}return z!==null&&z!==void 0?z:Q}else return Q}addAstNodeRegionWithAssignmentsTo(Z){let Q=(X)=>({offset:X.offset,end:X.end,length:X.length,range:X.range});if(Z.$cstNode){let X=Z.$textRegion=Q(Z.$cstNode),J=X.assignments={};return Object.keys(Z).filter((W)=>!W.startsWith("$")).forEach((W)=>{let H=fB(Z.$cstNode,W).map(Q);if(H.length!==0)J[W]=H}),Z}return}linkNode(Z,Q,X,J,W,H){for(let[B,K]of Object.entries(Z))if(Array.isArray(K))for(let U=0;U<K.length;U++){let G=K[U];if(bO(G))K[U]=this.reviveReference(Z,B,Q,G,X);else if(mQ(G))this.linkNode(G,Q,X,Z,B,U)}else if(bO(K))Z[B]=this.reviveReference(Z,B,Q,K,X);else if(mQ(K))this.linkNode(K,Q,X,Z,B);let Y=Z;Y.$container=J,Y.$containerProperty=W,Y.$containerIndex=H}reviveReference(Z,Q,X,J,W){let{$refText:H,$error:Y}=J;if(J.$ref){let B=this.getRefNode(X,J.$ref,W.uriConverter);if(mQ(B)){if(!H)H=this.nameProvider.getName(B);return{$refText:H!==null&&H!==void 0?H:"",ref:B}}else Y=B}if(Y){let B={$refText:H!==null&&H!==void 0?H:""};return B.error={container:Z,property:Q,message:Y,reference:B},B}else return}getRefNode(Z,Q,X){try{let J=Q.indexOf("#");if(J===0){let B=this.astNodeLocator.getAstNode(Z,Q.substring(1));if(!B)return"Could not resolve path: "+Q;return B}if(J<0){let B=X?X(Q):kX.parse(Q),K=this.langiumDocuments.getDocument(B);if(!K)return"Could not find document for URI: "+Q;return K.parseResult.value}let W=X?X(Q.substring(0,J)):kX.parse(Q.substring(0,J)),H=this.langiumDocuments.getDocument(W);if(!H)return"Could not find document for URI: "+Q;if(J===Q.length-1)return H.parseResult.value;let Y=this.astNodeLocator.getAstNode(H.parseResult.value,Q.substring(J+1));if(!Y)return"Could not resolve URI: "+Q;return Y}catch(J){return String(J)}}}var QY=D(()=>{cU();xX();O0()});class XY{get map(){return this.fileExtensionMap}constructor(Z){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=Z===null||Z===void 0?void 0:Z.workspace.TextDocuments}register(Z){let Q=Z.LanguageMetaData;for(let X of Q.fileExtensions){if(this.fileExtensionMap.has(X))console.warn(`The file extension ${X} is used by multiple languages. It is now assigned to '${Q.languageId}'.`);this.fileExtensionMap.set(X,Z)}if(this.languageIdMap.set(Q.languageId,Z),this.languageIdMap.size===1)this.singleton=Z;else this.singleton=void 0}getServices(Z){var Q,X;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw Error("The service registry is empty. Use `register` to register the services of a language.");let J=(X=(Q=this.textDocuments)===null||Q===void 0?void 0:Q.get(Z))===null||X===void 0?void 0:X.languageId;if(J!==void 0){let Y=this.languageIdMap.get(J);if(Y)return Y}let W=mX.extname(Z),H=this.fileExtensionMap.get(W);if(!H)if(J)throw Error(`The service registry contains no services for the extension '${W}' for language '${J}'.`);else throw Error(`The service registry contains no services for the extension '${W}'.`);return H}hasServices(Z){try{return this.getServices(Z),!0}catch(Q){return!1}}get all(){return Array.from(this.languageIdMap.values())}}var QG=D(()=>{a0()});function S7(Z){return{code:Z}}class JY{constructor(Z){this.entries=new t0,this.entriesBefore=[],this.entriesAfter=[],this.reflection=Z.shared.AstReflection}register(Z,Q=this,X="fast"){if(X==="built-in")throw Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[J,W]of Object.entries(Z)){let H=W;if(Array.isArray(H))for(let Y of H){let B={check:this.wrapValidationException(Y,Q),category:X};this.addEntry(J,B)}else if(typeof H==="function"){let Y={check:this.wrapValidationException(H,Q),category:X};this.addEntry(J,Y)}else v0(H)}}wrapValidationException(Z,Q){return async(X,J,W)=>{await this.handleException(()=>Z.call(Q,X,J,W),"An error occurred during validation",J,X)}}async handleException(Z,Q,X,J){try{await Z()}catch(W){if(r0(W))throw W;if(console.error(`${Q}:`,W),W instanceof Error&&W.stack)console.error(W.stack);let H=W instanceof Error?W.message:String(W);X("error",`${Q}: ${H}`,{node:J})}}addEntry(Z,Q){if(Z==="AstNode"){this.entries.add("AstNode",Q);return}for(let X of this.reflection.getAllSubTypes(Z))this.entries.add(X,Q)}getChecks(Z,Q){let X=UQ(this.entries.get(Z)).concat(this.entries.get("AstNode"));if(Q)X=X.filter((J)=>Q.includes(J.category));return X.map((J)=>J.check)}registerBeforeDocument(Z,Q=this){this.entriesBefore.push(this.wrapPreparationException(Z,"An error occurred during set-up of the validation",Q))}registerAfterDocument(Z,Q=this){this.entriesAfter.push(this.wrapPreparationException(Z,"An error occurred during tear-down of the validation",Q))}wrapPreparationException(Z,Q,X){return async(J,W,H,Y)=>{await this.handleException(()=>Z.call(X,J,W,H,Y),Q,W,J)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}var t6;var lW=D(()=>{J0();r6();q0();yX();(function(Z){Z.all=["fast","slow","built-in"]})(t6||(t6={}))});class HY{constructor(Z){this.validationRegistry=Z.validation.ValidationRegistry,this.metadata=Z.LanguageMetaData}async validateDocument(Z,Q={},X=sZ.CancellationToken.None){let J=Z.parseResult,W=[];if(await oQ(X),!Q.categories||Q.categories.includes("built-in")){if(this.processLexingErrors(J,W,Q),Q.stopAfterLexingErrors&&W.some((H)=>{var Y;return((Y=H.data)===null||Y===void 0?void 0:Y.code)===w0.LexingError}))return W;if(this.processParsingErrors(J,W,Q),Q.stopAfterParsingErrors&&W.some((H)=>{var Y;return((Y=H.data)===null||Y===void 0?void 0:Y.code)===w0.ParsingError}))return W;if(this.processLinkingErrors(Z,W,Q),Q.stopAfterLinkingErrors&&W.some((H)=>{var Y;return((Y=H.data)===null||Y===void 0?void 0:Y.code)===w0.LinkingError}))return W}try{W.push(...await this.validateAst(J.value,Q,X))}catch(H){if(r0(H))throw H;console.error("An error occurred during validation:",H)}return await oQ(X),W}processLexingErrors(Z,Q,X){var J,W,H;let Y=[...Z.lexerErrors,...(W=(J=Z.lexerReport)===null||J===void 0?void 0:J.diagnostics)!==null&&W!==void 0?W:[]];for(let B of Y){let K=(H=B.severity)!==null&&H!==void 0?H:"error",U={severity:WY(K),range:{start:{line:B.line-1,character:B.column-1},end:{line:B.line-1,character:B.column+B.length-1}},message:B.message,data:VO(K),source:this.getSource()};Q.push(U)}}processParsingErrors(Z,Q,X){for(let J of Z.parserErrors){let W=void 0;if(isNaN(J.token.startOffset)){if("previousToken"in J){let H=J.previousToken;if(!isNaN(H.startOffset)){let Y={line:H.endLine-1,character:H.endColumn};W={start:Y,end:Y}}else{let Y={line:0,character:0};W={start:Y,end:Y}}}}else W=n7(J.token);if(W){let H={severity:WY("error"),range:W,message:J.message,data:S7(w0.ParsingError),source:this.getSource()};Q.push(H)}}}processLinkingErrors(Z,Q,X){for(let J of Z.references){let W=J.error;if(W){let H={node:W.container,property:W.property,index:W.index,data:{code:w0.LinkingError,containerType:W.container.$type,property:W.property,refText:W.reference.$refText}};Q.push(this.toDiagnostic("error",W.message,H))}}}async validateAst(Z,Q,X=sZ.CancellationToken.None){let J=[],W=(H,Y,B)=>{J.push(this.toDiagnostic(H,Y,B))};return await this.validateAstBefore(Z,Q,W,X),await this.validateAstNodes(Z,Q,W,X),await this.validateAstAfter(Z,Q,W,X),J}async validateAstBefore(Z,Q,X,J=sZ.CancellationToken.None){var W;let H=this.validationRegistry.checksBefore;for(let Y of H)await oQ(J),await Y(Z,X,(W=Q.categories)!==null&&W!==void 0?W:[],J)}async validateAstNodes(Z,Q,X,J=sZ.CancellationToken.None){await Promise.all(K0(Z).map(async(W)=>{await oQ(J);let H=this.validationRegistry.getChecks(W.$type,Q.categories);for(let Y of H)await Y(W,X,J)}))}async validateAstAfter(Z,Q,X,J=sZ.CancellationToken.None){var W;let H=this.validationRegistry.checksAfter;for(let Y of H)await oQ(J),await Y(Z,X,(W=Q.categories)!==null&&W!==void 0?W:[],J)}toDiagnostic(Z,Q,X){return{message:Q,range:gO(X),severity:WY(Z),code:X.code,codeDescription:X.codeDescription,tags:X.tags,relatedInformation:X.relatedInformation,data:X.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function gO(Z){if(Z.range)return Z.range;let Q;if(typeof Z.property==="string")Q=o8(Z.node.$cstNode,Z.property,Z.index);else if(typeof Z.keyword==="string")Q=vB(Z.node.$cstNode,Z.keyword,Z.index);if(Q!==null&&Q!==void 0||(Q=Z.node.$cstNode),!Q)return{start:{line:0,character:0},end:{line:0,character:0}};return Q.range}function WY(Z){switch(Z){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw Error("Invalid diagnostic severity: "+Z)}}function VO(Z){switch(Z){case"error":return S7(w0.LexingError);case"warning":return S7(w0.LexingWarning);case"info":return S7(w0.LexingInfo);case"hint":return S7(w0.LexingHint);default:throw Error("Invalid diagnostic severity: "+Z)}}var w0;var XG=D(()=>{F0();O0();xX();D0();q0();lW();(function(Z){Z.LexingError="lexing-error",Z.LexingWarning="lexing-warning",Z.LexingInfo="lexing-info",Z.LexingHint="lexing-hint",Z.ParsingError="parsing-error",Z.LinkingError="linking-error"})(w0||(w0={}))});class YY{constructor(Z){this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider}createDescription(Z,Q,X){let J=X!==null&&X!==void 0?X:IX(Z);Q!==null&&Q!==void 0||(Q=this.nameProvider.getName(Z));let W=this.astNodeLocator.getAstNodePath(Z);if(!Q)throw Error(`Node at path ${W} has no name.`);let H,Y=()=>{var B;return H!==null&&H!==void 0?H:H=K7((B=this.nameProvider.getNameNode(Z))!==null&&B!==void 0?B:Z.$cstNode)};return{node:Z,name:Q,get nameSegment(){return Y()},selectionSegment:K7(Z.$cstNode),type:Z.$type,documentUri:J.uri,path:W}}}class BY{constructor(Z){this.nodeLocator=Z.workspace.AstNodeLocator}async createDescriptions(Z,Q=sZ.CancellationToken.None){let X=[],J=Z.parseResult.value;for(let W of K0(J))await oQ(Q),gJ(W).filter((H)=>!Y7(H)).forEach((H)=>{let Y=this.createDescription(H);if(Y)X.push(Y)});return X}createDescription(Z){let Q=Z.reference.$nodeDescription,X=Z.reference.$refNode;if(!Q||!X)return;let J=IX(Z.container).uri;return{sourceUri:J,sourcePath:this.nodeLocator.getAstNodePath(Z.container),targetUri:Q.documentUri,targetPath:Q.path,segment:K7(X),local:mX.equals(Q.documentUri,J)}}}var JG=D(()=>{F0();xX();D0();q0();a0()});class KY{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(Z){if(Z.$container){let Q=this.getAstNodePath(Z.$container),X=this.getPathSegment(Z);return Q+this.segmentSeparator+X}return""}getPathSegment({$containerProperty:Z,$containerIndex:Q}){if(!Z)throw Error("Missing '$containerProperty' in AST node.");if(Q!==void 0)return Z+this.indexSeparator+Q;return Z}getAstNode(Z,Q){return Q.split(this.segmentSeparator).reduce((J,W)=>{if(!J||W.length===0)return J;let H=W.indexOf(this.indexSeparator);if(H>0){let Y=W.substring(0,H),B=parseInt(W.substring(H+1)),K=J[Y];return K===null||K===void 0?void 0:K[B]}return J[W]},Z)}}var hQ={};var UY=D(()=>{aZ(hQ,bz(pU(),1))});class GY{constructor(Z){this._ready=new rX,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new hQ.Emitter,this.serviceRegistry=Z.ServiceRegistry}get ready(){return this._ready.promise}initialize(Z){var Q,X;this.workspaceConfig=(X=(Q=Z.capabilities.workspace)===null||Q===void 0?void 0:Q.configuration)!==null&&X!==void 0?X:!1}async initialized(Z){if(this.workspaceConfig){if(Z.register){let Q=this.serviceRegistry.all;Z.register({section:Q.map((X)=>this.toSectionName(X.LanguageMetaData.languageId))})}if(Z.fetchConfiguration){let Q=this.serviceRegistry.all.map((J)=>({section:this.toSectionName(J.LanguageMetaData.languageId)})),X=await Z.fetchConfiguration(Q);Q.forEach((J,W)=>{this.updateSectionConfiguration(J.section,X[W])})}}this._ready.resolve()}updateConfiguration(Z){if(!Z.settings)return;Object.keys(Z.settings).forEach((Q)=>{let X=Z.settings[Q];this.updateSectionConfiguration(Q,X),this.onConfigurationSectionUpdateEmitter.fire({section:Q,configuration:X})})}updateSectionConfiguration(Z,Q){this.settings[Z]=Q}async getConfiguration(Z,Q){await this.ready;let X=this.toSectionName(Z);if(this.settings[X])return this.settings[X][Q]}toSectionName(Z){return`${Z}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var WG=D(()=>{UY();q0()});var t9;var HG=D(()=>{(function(Z){function Q(X){return{dispose:async()=>await X()}}Z.create=Q})(t9||(t9={}))});class zY{constructor(Z){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new t0,this.documentPhaseListeners=new t0,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=AQ.Changed,this.langiumDocuments=Z.workspace.LangiumDocuments,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.textDocuments=Z.workspace.TextDocuments,this.indexManager=Z.workspace.IndexManager,this.serviceRegistry=Z.ServiceRegistry}async build(Z,Q={},X=sZ.CancellationToken.None){var J,W;for(let H of Z){let Y=H.uri.toString();if(H.state===AQ.Validated){if(typeof Q.validation==="boolean"&&Q.validation)H.state=AQ.IndexedReferences,H.diagnostics=void 0,this.buildState.delete(Y);else if(typeof Q.validation==="object"){let B=this.buildState.get(Y),K=(J=B===null||B===void 0?void 0:B.result)===null||J===void 0?void 0:J.validationChecks;if(K){let G=((W=Q.validation.categories)!==null&&W!==void 0?W:t6.all).filter((z)=>!K.includes(z));if(G.length>0)this.buildState.set(Y,{completed:!1,options:{validation:Object.assign(Object.assign({},Q.validation),{categories:G})},result:B.result}),H.state=AQ.IndexedReferences}}}else this.buildState.delete(Y)}this.currentState=AQ.Changed,await this.emitUpdate(Z.map((H)=>H.uri),[]),await this.buildDocuments(Z,Q,X)}async update(Z,Q,X=sZ.CancellationToken.None){this.currentState=AQ.Changed;for(let H of Q)this.langiumDocuments.deleteDocument(H),this.buildState.delete(H.toString()),this.indexManager.remove(H);for(let H of Z){if(!this.langiumDocuments.invalidateDocument(H)){let B=this.langiumDocumentFactory.fromModel({$type:"INVALID"},H);B.state=AQ.Changed,this.langiumDocuments.addDocument(B)}this.buildState.delete(H.toString())}let J=UQ(Z).concat(Q).map((H)=>H.toString()).toSet();this.langiumDocuments.all.filter((H)=>!J.has(H.uri.toString())&&this.shouldRelink(H,J)).forEach((H)=>{this.serviceRegistry.getServices(H.uri).references.Linker.unlink(H),H.state=Math.min(H.state,AQ.ComputedScopes),H.diagnostics=void 0}),await this.emitUpdate(Z,Q),await oQ(X);let W=this.sortDocuments(this.langiumDocuments.all.filter((H)=>{var Y;return H.state<AQ.Linked||!((Y=this.buildState.get(H.uri.toString()))===null||Y===void 0?void 0:Y.completed)}).toArray());await this.buildDocuments(W,this.updateBuildOptions,X)}async emitUpdate(Z,Q){await Promise.all(this.updateListeners.map((X)=>X(Z,Q)))}sortDocuments(Z){let Q=0,X=Z.length-1;while(Q<X){while(Q<Z.length&&this.hasTextDocument(Z[Q]))Q++;while(X>=0&&!this.hasTextDocument(Z[X]))X--;if(Q<X)[Z[Q],Z[X]]=[Z[X],Z[Q]]}return Z}hasTextDocument(Z){var Q;return Boolean((Q=this.textDocuments)===null||Q===void 0?void 0:Q.get(Z.uri))}shouldRelink(Z,Q){if(Z.references.some((X)=>X.error!==void 0))return!0;return this.indexManager.isAffected(Z,Q)}onUpdate(Z){return this.updateListeners.push(Z),t9.create(()=>{let Q=this.updateListeners.indexOf(Z);if(Q>=0)this.updateListeners.splice(Q,1)})}async buildDocuments(Z,Q,X){this.prepareBuild(Z,Q),await this.runCancelable(Z,AQ.Parsed,X,(W)=>this.langiumDocumentFactory.update(W,X)),await this.runCancelable(Z,AQ.IndexedContent,X,(W)=>this.indexManager.updateContent(W,X)),await this.runCancelable(Z,AQ.ComputedScopes,X,async(W)=>{let H=this.serviceRegistry.getServices(W.uri).references.ScopeComputation;W.precomputedScopes=await H.computeLocalScopes(W,X)}),await this.runCancelable(Z,AQ.Linked,X,(W)=>{return this.serviceRegistry.getServices(W.uri).references.Linker.link(W,X)}),await this.runCancelable(Z,AQ.IndexedReferences,X,(W)=>this.indexManager.updateReferences(W,X));let J=Z.filter((W)=>this.shouldValidate(W));await this.runCancelable(J,AQ.Validated,X,(W)=>this.validate(W,X));for(let W of Z){let H=this.buildState.get(W.uri.toString());if(H)H.completed=!0}}prepareBuild(Z,Q){for(let X of Z){let J=X.uri.toString(),W=this.buildState.get(J);if(!W||W.completed)this.buildState.set(J,{completed:!1,options:Q,result:W===null||W===void 0?void 0:W.result})}}async runCancelable(Z,Q,X,J){let W=Z.filter((Y)=>Y.state<Q);for(let Y of W)await oQ(X),await J(Y),Y.state=Q,await this.notifyDocumentPhase(Y,Q,X);let H=Z.filter((Y)=>Y.state===Q);await this.notifyBuildPhase(H,Q,X),this.currentState=Q}onBuildPhase(Z,Q){return this.buildPhaseListeners.add(Z,Q),t9.create(()=>{this.buildPhaseListeners.delete(Z,Q)})}onDocumentPhase(Z,Q){return this.documentPhaseListeners.add(Z,Q),t9.create(()=>{this.documentPhaseListeners.delete(Z,Q)})}waitUntil(Z,Q,X){let J=void 0;if(Q&&"path"in Q)J=Q;else X=Q;if(X!==null&&X!==void 0||(X=sZ.CancellationToken.None),J){let W=this.langiumDocuments.getDocument(J);if(W&&W.state>Z)return Promise.resolve(J)}if(this.currentState>=Z)return Promise.resolve(void 0);else if(X.isCancellationRequested)return Promise.reject(o0);return new Promise((W,H)=>{let Y=this.onBuildPhase(Z,()=>{if(Y.dispose(),B.dispose(),J){let K=this.langiumDocuments.getDocument(J);W(K===null||K===void 0?void 0:K.uri)}else W(void 0)}),B=X.onCancellationRequested(()=>{Y.dispose(),B.dispose(),H(o0)})})}async notifyDocumentPhase(Z,Q,X){let W=this.documentPhaseListeners.get(Q).slice();for(let H of W)try{await H(Z,X)}catch(Y){if(!r0(Y))throw Y}}async notifyBuildPhase(Z,Q,X){if(Z.length===0)return;let W=this.buildPhaseListeners.get(Q).slice();for(let H of W)await oQ(X),await H(Z,X)}shouldValidate(Z){return Boolean(this.getBuildOptions(Z).validation)}async validate(Z,Q){var X,J;let W=this.serviceRegistry.getServices(Z.uri).validation.DocumentValidator,H=this.getBuildOptions(Z).validation,Y=typeof H==="object"?H:void 0,B=await W.validateDocument(Z,Y,Q);if(Z.diagnostics)Z.diagnostics.push(...B);else Z.diagnostics=B;let K=this.buildState.get(Z.uri.toString());if(K){(X=K.result)!==null&&X!==void 0||(K.result={});let U=(J=Y===null||Y===void 0?void 0:Y.categories)!==null&&J!==void 0?J:t6.all;if(K.result.validationChecks)K.result.validationChecks.push(...U);else K.result.validationChecks=[...U]}}getBuildOptions(Z){var Q,X;return(X=(Q=this.buildState.get(Z.uri.toString()))===null||Q===void 0?void 0:Q.options)!==null&&X!==void 0?X:{}}}var YG=D(()=>{F0();HG();r6();q0();yX();lW();n6()});class FY{constructor(Z){this.symbolIndex=new Map,this.symbolByTypeIndex=new a6,this.referenceIndex=new Map,this.documents=Z.workspace.LangiumDocuments,this.serviceRegistry=Z.ServiceRegistry,this.astReflection=Z.AstReflection}findAllReferences(Z,Q){let X=IX(Z).uri,J=[];return this.referenceIndex.forEach((W)=>{W.forEach((H)=>{if(mX.equals(H.targetUri,X)&&H.targetPath===Q)J.push(H)})}),UQ(J)}allElements(Z,Q){let X=UQ(this.symbolIndex.keys());if(Q)X=X.filter((J)=>!Q||Q.has(J));return X.map((J)=>this.getFileDescriptions(J,Z)).flat()}getFileDescriptions(Z,Q){var X;if(!Q)return(X=this.symbolIndex.get(Z))!==null&&X!==void 0?X:[];return this.symbolByTypeIndex.get(Z,Q,()=>{var W;return((W=this.symbolIndex.get(Z))!==null&&W!==void 0?W:[]).filter((Y)=>this.astReflection.isSubtype(Y.type,Q))})}remove(Z){let Q=Z.toString();this.symbolIndex.delete(Q),this.symbolByTypeIndex.clear(Q),this.referenceIndex.delete(Q)}async updateContent(Z,Q=sZ.CancellationToken.None){let J=await this.serviceRegistry.getServices(Z.uri).references.ScopeComputation.computeExports(Z,Q),W=Z.uri.toString();this.symbolIndex.set(W,J),this.symbolByTypeIndex.clear(W)}async updateReferences(Z,Q=sZ.CancellationToken.None){let J=await this.serviceRegistry.getServices(Z.uri).workspace.ReferenceDescriptionProvider.createDescriptions(Z,Q);this.referenceIndex.set(Z.uri.toString(),J)}isAffected(Z,Q){let X=this.referenceIndex.get(Z.uri.toString());if(!X)return!1;return X.some((J)=>!J.local&&Q.has(J.targetUri.toString()))}}var BG=D(()=>{xX();t5();F0();yX();a0()});class qY{constructor(Z){this.initialBuildOptions={},this._ready=new rX,this.serviceRegistry=Z.ServiceRegistry,this.langiumDocuments=Z.workspace.LangiumDocuments,this.documentBuilder=Z.workspace.DocumentBuilder,this.fileSystemProvider=Z.workspace.FileSystemProvider,this.mutex=Z.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(Z){var Q;this.folders=(Q=Z.workspaceFolders)!==null&&Q!==void 0?Q:void 0}initialized(Z){return this.mutex.write((Q)=>{var X;return this.initializeWorkspace((X=this.folders)!==null&&X!==void 0?X:[],Q)})}async initializeWorkspace(Z,Q=sZ.CancellationToken.None){let X=await this.performStartup(Z);await oQ(Q),await this.documentBuilder.build(X,this.initialBuildOptions,Q)}async performStartup(Z){let Q=this.serviceRegistry.all.flatMap((W)=>W.LanguageMetaData.fileExtensions),X=[],J=(W)=>{if(X.push(W),!this.langiumDocuments.hasDocument(W.uri))this.langiumDocuments.addDocument(W)};return await this.loadAdditionalDocuments(Z,J),await Promise.all(Z.map((W)=>[W,this.getRootFolder(W)]).map(async(W)=>this.traverseFolder(...W,Q,J))),this._ready.resolve(),X}loadAdditionalDocuments(Z,Q){return Promise.resolve()}getRootFolder(Z){return kX.parse(Z.uri)}async traverseFolder(Z,Q,X,J){let W=await this.fileSystemProvider.readDirectory(Q);await Promise.all(W.map(async(H)=>{if(this.includeEntry(Z,H,X)){if(H.isDirectory)await this.traverseFolder(Z,H.uri,X,J);else if(H.isFile){let Y=await this.langiumDocuments.getOrCreateDocument(H.uri);J(Y)}}}))}includeEntry(Z,Q,X){let J=mX.basename(Q.uri);if(J.startsWith("."))return!1;if(Q.isDirectory)return J!=="node_modules"&&J!=="out";else if(Q.isFile){let W=mX.extname(Q.uri);return X.includes(W)}return!1}}var KG=D(()=>{F0();q0();a0()});class wY{buildUnexpectedCharactersMessage(Z,Q,X,J,W){return j6.buildUnexpectedCharactersMessage(Z,Q,X,J,W)}buildUnableToPopLexerModeMessage(Z){return j6.buildUnableToPopLexerModeMessage(Z)}}class e6{constructor(Z){this.errorMessageProvider=Z.parser.LexerErrorMessageProvider,this.tokenBuilder=Z.parser.TokenBuilder;let Q=this.tokenBuilder.buildTokens(Z.Grammar,{caseInsensitive:Z.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(Q);let X=UG(Q)?Object.values(Q):Q,J=Z.LanguageMetaData.mode==="production";this.chevrotainLexer=new dQ(X,{positionTracking:"full",skipValidations:J,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(Z,Q=MY){var X,J,W;let H=this.chevrotainLexer.tokenize(Z);return{tokens:H.tokens,errors:H.errors,hidden:(X=H.groups.hidden)!==null&&X!==void 0?X:[],report:(W=(J=this.tokenBuilder).flushLexingReport)===null||W===void 0?void 0:W.call(J,Z)}}toTokenTypeDictionary(Z){if(UG(Z))return Z;let Q=GG(Z)?Object.values(Z.modes).flat():Z,X={};return Q.forEach((J)=>X[J.name]=J),X}}function LY(Z){return Array.isArray(Z)&&(Z.length===0||("name"in Z[0]))}function GG(Z){return Z&&"modes"in Z&&"defaultMode"in Z}function UG(Z){return!LY(Z)&&!GG(Z)}var MY;var DY=D(()=>{n9();MY={mode:"full"}});function wG(Z,Q,X){let J,W;if(typeof Z==="string")W=Q,J=X;else W=Z.range.start,J=Q;if(!W)W=BQ.create(0,0);let H=mO(Z),Y=LG(J),B=Ob({lines:H,position:W,options:Y});return Ib({index:0,tokens:B,position:W})}function MG(Z,Q){let X=LG(Q),J=mO(Z);if(J.length===0)return!1;let W=J[0],H=J[J.length-1],Y=X.start,B=X.end;return Boolean(Y===null||Y===void 0?void 0:Y.exec(W))&&Boolean(B===null||B===void 0?void 0:B.exec(H))}function mO(Z){let Q="";if(typeof Z==="string")Q=Z;else Q=Z.text;return Q.split(PB)}function Ob(Z){var Q,X,J;let W=[],H=Z.position.line,Y=Z.position.character;for(let B=0;B<Z.lines.length;B++){let K=B===0,U=B===Z.lines.length-1,G=Z.lines[B],z=0;if(K&&Z.options.start){let q=(Q=Z.options.start)===null||Q===void 0?void 0:Q.exec(G);if(q)z=q.index+q[0].length}else{let q=(X=Z.options.line)===null||X===void 0?void 0:X.exec(G);if(q)z=q.index+q[0].length}if(U){let q=(J=Z.options.end)===null||J===void 0?void 0:J.exec(G);if(q)G=G.substring(0,q.index)}if(G=G.substring(0,Cb(G)),FG(G,z)>=G.length){if(W.length>0){let q=BQ.create(H,Y);W.push({type:"break",content:"",range:XQ.create(q,q)})}}else{hO.lastIndex=z;let q=hO.exec(G);if(q){let L=q[0],A=q[1],k=BQ.create(H,Y+z),T=BQ.create(H,Y+z+L.length);W.push({type:"tag",content:A,range:XQ.create(k,T)}),z+=L.length,z=FG(G,z)}if(z<G.length){let L=G.substring(z),A=Array.from(L.matchAll(Ab));W.push(...Pb(A,L,H,Y+z))}}H++,Y=0}if(W.length>0&&W[W.length-1].type==="break")return W.slice(0,-1);return W}function Pb(Z,Q,X,J){let W=[];if(Z.length===0){let H=BQ.create(X,J),Y=BQ.create(X,J+Q.length);W.push({type:"text",content:Q,range:XQ.create(H,Y)})}else{let H=0;for(let B of Z){let K=B.index,U=Q.substring(H,K);if(U.length>0)W.push({type:"text",content:Q.substring(H,K),range:XQ.create(BQ.create(X,H+J),BQ.create(X,K+J))});let G=U.length+1,z=B[1];if(W.push({type:"inline-tag",content:z,range:XQ.create(BQ.create(X,H+G+J),BQ.create(X,H+G+z.length+J))}),G+=z.length,B.length===4){G+=B[2].length;let F=B[3];W.push({type:"text",content:F,range:XQ.create(BQ.create(X,H+G+J),BQ.create(X,H+G+F.length+J))})}else W.push({type:"text",content:"",range:XQ.create(BQ.create(X,H+G+J),BQ.create(X,H+G+J))});H=K+B[0].length}let Y=Q.substring(H);if(Y.length>0)W.push({type:"text",content:Y,range:XQ.create(BQ.create(X,H+J),BQ.create(X,H+J+Y.length))})}return W}function FG(Z,Q){let X=Z.substring(Q).match(Nb);if(X)return Q+X.index;else return Z.length}function Cb(Z){let Q=Z.match(Rb);if(Q&&typeof Q.index==="number")return Q.index;return}function Ib(Z){var Q,X,J,W;let H=BQ.create(Z.position.line,Z.position.character);if(Z.tokens.length===0)return new qG([],XQ.create(H,H));let Y=[];while(Z.index<Z.tokens.length){let U=_b(Z,Y[Y.length-1]);if(U)Y.push(U)}let B=(X=(Q=Y[0])===null||Q===void 0?void 0:Q.range.start)!==null&&X!==void 0?X:H,K=(W=(J=Y[Y.length-1])===null||J===void 0?void 0:J.range.end)!==null&&W!==void 0?W:H;return new qG(Y,XQ.create(B,K))}function _b(Z,Q){let X=Z.tokens[Z.index];if(X.type==="tag")return pO(Z,!1);else if(X.type==="text"||X.type==="inline-tag")return uO(Z);else{Sb(X,Q),Z.index++;return}}function Sb(Z,Q){if(Q){let X=new DG("",Z.range);if("inlines"in Q)Q.inlines.push(X);else Q.content.inlines.push(X)}}function uO(Z){let Q=Z.tokens[Z.index],X=Q,J=Q,W=[];while(Q&&Q.type!=="break"&&Q.type!=="tag")W.push(jb(Z)),J=Q,Q=Z.tokens[Z.index];return new AY(W,XQ.create(X.range.start,J.range.end))}function jb(Z){if(Z.tokens[Z.index].type==="inline-tag")return pO(Z,!0);else return yO(Z)}function pO(Z,Q){let X=Z.tokens[Z.index++],J=X.content.substring(1),W=Z.tokens[Z.index];if((W===null||W===void 0?void 0:W.type)==="text")if(Q){let H=yO(Z);return new EY(J,new AY([H],H.range),Q,XQ.create(X.range.start,H.range.end))}else{let H=uO(Z);return new EY(J,H,Q,XQ.create(X.range.start,H.range.end))}else{let H=X.range;return new EY(J,new AY([],H),Q,H)}}function yO(Z){let Q=Z.tokens[Z.index++];return new DG(Q.content,Q.range)}function LG(Z){if(!Z)return LG({start:"/**",end:"*/",line:"*"});let{start:Q,end:X,line:J}=Z;return{start:zG(Q,!0),end:zG(X,!1),line:zG(J,!0)}}function zG(Z,Q){if(typeof Z==="string"||typeof Z==="object"){let X=typeof Z==="string"?w7(Z):Z.source;if(Q)return new RegExp(`^\\s*${X}`);else return new RegExp(`\\s*${X}\\s*$`)}else return Z}class qG{constructor(Z,Q){this.elements=Z,this.range=Q}getTag(Z){return this.getAllTags().find((Q)=>Q.name===Z)}getTags(Z){return this.getAllTags().filter((Q)=>Q.name===Z)}getAllTags(){return this.elements.filter((Z)=>("name"in Z))}toString(){let Z="";for(let Q of this.elements)if(Z.length===0)Z=Q.toString();else{let X=Q.toString();Z+=kO(Z)+X}return Z.trim()}toMarkdown(Z){let Q="";for(let X of this.elements)if(Q.length===0)Q=X.toMarkdown(Z);else{let J=X.toMarkdown(Z);Q+=kO(Q)+J}return Q.trim()}}class EY{constructor(Z,Q,X,J){this.name=Z,this.content=Q,this.inline=X,this.range=J}toString(){let Z=`@${this.name}`,Q=this.content.toString();if(this.content.inlines.length===1)Z=`${Z} ${Q}`;else if(this.content.inlines.length>1)Z=`${Z}
${Q}`;if(this.inline)return`{${Z}}`;else return Z}toMarkdown(Z){var Q,X;return(X=(Q=Z===null||Z===void 0?void 0:Z.renderTag)===null||Q===void 0?void 0:Q.call(Z,this))!==null&&X!==void 0?X:this.toMarkdownDefault(Z)}toMarkdownDefault(Z){let Q=this.content.toMarkdown(Z);if(this.inline){let W=fb(this.name,Q,Z!==null&&Z!==void 0?Z:{});if(typeof W==="string")return W}let X="";if((Z===null||Z===void 0?void 0:Z.tag)==="italic"||(Z===null||Z===void 0?void 0:Z.tag)===void 0)X="*";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold")X="**";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold-italic")X="***";let J=`${X}@${this.name}${X}`;if(this.content.inlines.length===1)J=`${J}  ${Q}`;else if(this.content.inlines.length>1)J=`${J}
${Q}`;if(this.inline)return`{${J}}`;else return J}}function fb(Z,Q,X){var J,W;if(Z==="linkplain"||Z==="linkcode"||Z==="link"){let H=Q.indexOf(" "),Y=Q;if(H>0){let K=FG(Q,H);Y=Q.substring(K),Q=Q.substring(0,H)}if(Z==="linkcode"||Z==="link"&&X.link==="code")Y=`\`${Y}\``;return(W=(J=X.renderLink)===null||J===void 0?void 0:J.call(X,Q,Y))!==null&&W!==void 0?W:Tb(Q,Y)}return}function Tb(Z,Q){try{return kX.parse(Z,!0),`[${Q}](${Z})`}catch(X){return Z}}class AY{constructor(Z,Q){this.inlines=Z,this.range=Q}toString(){let Z="";for(let Q=0;Q<this.inlines.length;Q++){let X=this.inlines[Q],J=this.inlines[Q+1];if(Z+=X.toString(),J&&J.range.start.line>X.range.start.line)Z+=`
`}return Z}toMarkdown(Z){let Q="";for(let X=0;X<this.inlines.length;X++){let J=this.inlines[X],W=this.inlines[X+1];if(Q+=J.toMarkdown(Z),W&&W.range.start.line>J.range.start.line)Q+=`
`}return Q}}class DG{constructor(Z,Q){this.text=Z,this.range=Q}toString(){return this.text}toMarkdown(){return this.text}}function kO(Z){if(Z.endsWith(`
`))return`
`;else return`

`}var hO,Ab,Nb,Rb;var EG=D(()=>{SU();mJ();a0();hO=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,Ab=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;Nb=/\S/,Rb=/\s*$/});class OY{constructor(Z){this.indexManager=Z.shared.workspace.IndexManager,this.commentProvider=Z.documentation.CommentProvider}getDocumentation(Z){let Q=this.commentProvider.getComment(Z);if(Q&&MG(Q))return wG(Q).toMarkdown({renderLink:(J,W)=>{return this.documentationLinkRenderer(Z,J,W)},renderTag:(J)=>{return this.documentationTagRenderer(Z,J)}});return}documentationLinkRenderer(Z,Q,X){var J;let W=(J=this.findNameInPrecomputedScopes(Z,Q))!==null&&J!==void 0?J:this.findNameInGlobalScope(Z,Q);if(W&&W.nameSegment){let H=W.nameSegment.range.start.line+1,Y=W.nameSegment.range.start.character+1,B=W.documentUri.with({fragment:`L${H},${Y}`});return`[${X}](${B.toString()})`}else return}documentationTagRenderer(Z,Q){return}findNameInPrecomputedScopes(Z,Q){let J=IX(Z).precomputedScopes;if(!J)return;let W=Z;do{let Y=J.get(W).find((B)=>B.name===Q);if(Y)return Y;W=W.$container}while(W);return}findNameInGlobalScope(Z,Q){return this.indexManager.allElements().find((J)=>J.name===Q)}}var AG=D(()=>{xX();EG()});class PY{constructor(Z){this.grammarConfig=()=>Z.parser.GrammarConfig}getComment(Z){var Q;if(ZG(Z))return Z.$comment;return(Q=a3(Z.$cstNode,this.grammarConfig().multilineCommentRules))===null||Q===void 0?void 0:Q.text}}var OG=D(()=>{QY();D0()});class NY{constructor(Z){this.syncParser=Z.parser.LangiumParser}parse(Z,Q){return Promise.resolve(this.syncParser.parse(Z))}}class dO{constructor(Z){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=Z.serializer.Hydrator}initializeWorkers(){while(this.workerPool.length<this.threadCount){let Z=this.createWorker();Z.onReady(()=>{if(this.queue.length>0){let Q=this.queue.shift();if(Q)Z.lock(),Q.resolve(Z)}}),this.workerPool.push(Z)}}async parse(Z,Q){let X=await this.acquireParserWorker(Q),J=new rX,W,H=Q.onCancellationRequested(()=>{W=setTimeout(()=>{this.terminateWorker(X)},this.terminationDelay)});return X.parse(Z).then((Y)=>{let B=this.hydrator.hydrate(Y);J.resolve(B)}).catch((Y)=>{J.reject(Y)}).finally(()=>{H.dispose(),clearTimeout(W)}),J.promise}terminateWorker(Z){Z.terminate();let Q=this.workerPool.indexOf(Z);if(Q>=0)this.workerPool.splice(Q,1)}async acquireParserWorker(Z){this.initializeWorkers();for(let X of this.workerPool)if(X.ready)return X.lock(),X;let Q=new rX;return Z.onCancellationRequested(()=>{let X=this.queue.indexOf(Q);if(X>=0)this.queue.splice(X,1);Q.reject(o0)}),this.queue.push(Q),Q.promise}}class $O{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(Z,Q,X,J){this.onReadyEmitter=new hQ.Emitter,this.deferred=new rX,this._ready=!0,this._parsing=!1,this.sendMessage=Z,this._terminate=J,Q((W)=>{let H=W;this.deferred.resolve(H),this.unlock()}),X((W)=>{this.deferred.reject(W),this.unlock()})}terminate(){this.deferred.reject(o0),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(Z){if(this._parsing)throw Error("Parser worker is busy");return this._parsing=!0,this.deferred=new rX,this.sendMessage(Z),this.deferred.promise}}var PG=D(()=>{q0();UY()});class RY{constructor(){this.previousTokenSource=new sZ.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(Z){this.cancelWrite();let Q=$5();return this.previousTokenSource=Q,this.enqueue(this.writeQueue,Z,Q.token)}read(Z){return this.enqueue(this.readQueue,Z)}enqueue(Z,Q,X=sZ.CancellationToken.None){let J=new rX,W={action:Q,deferred:J,cancellationToken:X};return Z.push(W),this.performNextOperation(),J.promise}async performNextOperation(){if(!this.done)return;let Z=[];if(this.writeQueue.length>0)Z.push(this.writeQueue.shift());else if(this.readQueue.length>0)Z.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(Z.map(async({action:Q,deferred:X,cancellationToken:J})=>{try{let W=await Promise.resolve().then(()=>Q(J));X.resolve(W)}catch(W){if(r0(W))X.resolve(void 0);else X.reject(W)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}var NG=D(()=>{F0();q0()});class CY{constructor(Z){this.grammarElementIdMap=new o6,this.tokenTypeIdMap=new o6,this.grammar=Z.Grammar,this.lexer=Z.parser.Lexer,this.linker=Z.references.Linker}dehydrate(Z){return{lexerErrors:Z.lexerErrors,lexerReport:Z.lexerReport?this.dehydrateLexerReport(Z.lexerReport):void 0,parserErrors:Z.parserErrors.map((Q)=>Object.assign(Object.assign({},Q),{message:Q.message})),value:this.dehydrateAstNode(Z.value,this.createDehyrationContext(Z.value))}}dehydrateLexerReport(Z){return Z}createDehyrationContext(Z){let Q=new Map,X=new Map;for(let J of K0(Z))Q.set(J,{});if(Z.$cstNode)for(let J of B7(Z.$cstNode))X.set(J,{});return{astNodes:Q,cstNodes:X}}dehydrateAstNode(Z,Q){let X=Q.astNodes.get(Z);if(X.$type=Z.$type,X.$containerIndex=Z.$containerIndex,X.$containerProperty=Z.$containerProperty,Z.$cstNode!==void 0)X.$cstNode=this.dehydrateCstNode(Z.$cstNode,Q);for(let[J,W]of Object.entries(Z)){if(J.startsWith("$"))continue;if(Array.isArray(W)){let H=[];X[J]=H;for(let Y of W)if(mQ(Y))H.push(this.dehydrateAstNode(Y,Q));else if(qX(Y))H.push(this.dehydrateReference(Y,Q));else H.push(Y)}else if(mQ(W))X[J]=this.dehydrateAstNode(W,Q);else if(qX(W))X[J]=this.dehydrateReference(W,Q);else if(W!==void 0)X[J]=W}return X}dehydrateReference(Z,Q){let X={};if(X.$refText=Z.$refText,Z.$refNode)X.$refNode=Q.cstNodes.get(Z.$refNode);return X}dehydrateCstNode(Z,Q){let X=Q.cstNodes.get(Z);if(T8(Z))X.fullText=Z.fullText;else X.grammarSource=this.getGrammarElementId(Z.grammarSource);if(X.hidden=Z.hidden,X.astNode=Q.astNodes.get(Z.astNode),L0(Z))X.content=Z.content.map((J)=>this.dehydrateCstNode(J,Q));else if(I9(Z))X.tokenType=Z.tokenType.name,X.offset=Z.offset,X.length=Z.length,X.startLine=Z.range.start.line,X.startColumn=Z.range.start.character,X.endLine=Z.range.end.line,X.endColumn=Z.range.end.character;return X}hydrate(Z){let Q=Z.value,X=this.createHydrationContext(Q);if("$cstNode"in Q)this.hydrateCstNode(Q.$cstNode,X);return{lexerErrors:Z.lexerErrors,lexerReport:Z.lexerReport,parserErrors:Z.parserErrors,value:this.hydrateAstNode(Q,X)}}createHydrationContext(Z){let Q=new Map,X=new Map;for(let W of K0(Z))Q.set(W,{});let J;if(Z.$cstNode)for(let W of B7(Z.$cstNode)){let H;if("fullText"in W)H=new hW(W.fullText),J=H;else if("content"in W)H=new l6;else if("tokenType"in W)H=this.hydrateCstLeafNode(W);if(H)X.set(W,H),H.root=J}return{astNodes:Q,cstNodes:X}}hydrateAstNode(Z,Q){let X=Q.astNodes.get(Z);if(X.$type=Z.$type,X.$containerIndex=Z.$containerIndex,X.$containerProperty=Z.$containerProperty,Z.$cstNode)X.$cstNode=Q.cstNodes.get(Z.$cstNode);for(let[J,W]of Object.entries(Z)){if(J.startsWith("$"))continue;if(Array.isArray(W)){let H=[];X[J]=H;for(let Y of W)if(mQ(Y))H.push(this.setParent(this.hydrateAstNode(Y,Q),X));else if(qX(Y))H.push(this.hydrateReference(Y,X,J,Q));else H.push(Y)}else if(mQ(W))X[J]=this.setParent(this.hydrateAstNode(W,Q),X);else if(qX(W))X[J]=this.hydrateReference(W,X,J,Q);else if(W!==void 0)X[J]=W}return X}setParent(Z,Q){return Z.$container=Q,Z}hydrateReference(Z,Q,X,J){return this.linker.buildReference(Q,X,J.cstNodes.get(Z.$refNode),Z.$refText)}hydrateCstNode(Z,Q,X=0){let J=Q.cstNodes.get(Z);if(typeof Z.grammarSource==="number")J.grammarSource=this.getGrammarElement(Z.grammarSource);if(J.astNode=Q.astNodes.get(Z.astNode),L0(J))for(let W of Z.content){let H=this.hydrateCstNode(W,Q,X++);J.content.push(H)}return J}hydrateCstLeafNode(Z){let Q=this.getTokenType(Z.tokenType),X=Z.offset,J=Z.length,W=Z.startLine,H=Z.startColumn,Y=Z.endLine,B=Z.endColumn,K=Z.hidden;return new $6(X,J,{start:{line:W,character:H},end:{line:Y,character:B}},Q,K)}getTokenType(Z){return this.lexer.definition[Z]}getGrammarElementId(Z){if(!Z)return;if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.get(Z)}getGrammarElement(Z){if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.getKey(Z)}createGrammarElementIdMap(){let Z=0;for(let Q of K0(this.grammar))if(m8(Q))this.grammarElementIdMap.set(Q,Z++)}}var RG=D(()=>{x5();x0();xX();r6();D0()});function LX(Z){return{documentation:{CommentProvider:(Q)=>new PY(Q),DocumentationProvider:(Q)=>new OY(Q)},parser:{AsyncParser:(Q)=>new NY(Q),GrammarConfig:(Q)=>hB(Q),LangiumParser:(Q)=>gU(Q),CompletionParser:(Q)=>xU(Q),ValueConverter:()=>new c6,TokenBuilder:()=>new a9,Lexer:(Q)=>new e6(Q),ParserErrorMessageProvider:()=>new kW,LexerErrorMessageProvider:()=>new wY},workspace:{AstNodeLocator:()=>new KY,AstNodeDescriptionProvider:(Q)=>new YY(Q),ReferenceDescriptionProvider:(Q)=>new BY(Q)},references:{Linker:(Q)=>new i5(Q),NameProvider:()=>new s5,ScopeProvider:(Q)=>new e5(Q),ScopeComputation:(Q)=>new o5(Q),References:(Q)=>new n5(Q)},serializer:{Hydrator:(Q)=>new CY(Q),JsonSerializer:(Q)=>new ZY(Q)},validation:{DocumentValidator:(Q)=>new HY(Q),ValidationRegistry:(Q)=>new JY(Q)},shared:()=>Z.shared}}function DX(Z){return{ServiceRegistry:(Q)=>new XY(Q),workspace:{LangiumDocuments:(Q)=>new c5(Q),LangiumDocumentFactory:(Q)=>new l5(Q),DocumentBuilder:(Q)=>new zY(Q),IndexManager:(Q)=>new FY(Q),WorkspaceManager:(Q)=>new qY(Q),FileSystemProvider:(Q)=>Z.fileSystemProvider(Q),WorkspaceLock:()=>new RY,ConfigurationProvider:(Q)=>new GY(Q)}}}var CG=D(()=>{kB();bU();VU();u5();hU();sU();nU();oU();rU();eU();QY();QG();XG();lW();JG();WG();YG();n6();BG();KG();DY();AG();OG();mW();PG();NG();RG()});function vQ(Z,Q,X,J,W,H,Y,B,K){let U=[Z,Q,X,J,W,H,Y,B,K].reduce(IY,{});return nO(U)}function sO(Z){if(Z&&Z[iO])for(let Q of Object.values(Z))sO(Q);return Z}function nO(Z,Q){let X=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw Error("Cannot set property on injected service container")},get:(J,W)=>{if(W===iO)return!0;else return cO(J,W,Z,Q||X)},getOwnPropertyDescriptor:(J,W)=>(cO(J,W,Z,Q||X),Object.getOwnPropertyDescriptor(J,W)),has:(J,W)=>(W in Z),ownKeys:()=>[...Object.getOwnPropertyNames(Z)]});return X}function cO(Z,Q,X,J){if(Q in Z){if(Z[Q]instanceof Error)throw Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:Z[Q]});if(Z[Q]===lO)throw Error('Cycle detected. Please make "'+String(Q)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return Z[Q]}else if(Q in X){let W=X[Q];Z[Q]=lO;try{Z[Q]=typeof W==="function"?W(J):nO(W,J)}catch(H){throw Z[Q]=H instanceof Error?H:void 0,H}return Z[Q]}else return}function IY(Z,Q){if(Q){for(let[X,J]of Object.entries(Q))if(J!==void 0){let W=Z[X];if(W!==null&&J!==null&&typeof W==="object"&&typeof J==="object")Z[X]=IY(W,J);else Z[X]=J}}return Z}var IG,iO,lO;var _G=D(()=>{(function(Z){Z.merge=(Q,X)=>IY(IY({},Q),X)})(IG||(IG={}));iO=Symbol("isProxy");lO=Symbol()});var oO=()=>{};var rO=D(()=>{OG();AG();EG()});var aO=()=>{};var tO=D(()=>{kB();aO()});var SG,j7,jG,eO;var ZP=D(()=>{n9();u5();DY();SG={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};(function(Z){Z.REGULAR="indentation-sensitive",Z.IGNORE_INDENTATION="ignore-indentation"})(j7||(j7={}));jG=class jG extends a9{constructor(Z=SG){super();this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},SG),Z),this.indentTokenType=c9({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=c9({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(Z,Q){let X=super.buildTokens(Z,Q);if(!LY(X))throw Error("Invalid tokens built by default builder");let{indentTokenName:J,dedentTokenName:W,whitespaceTokenName:H,ignoreIndentationDelimiters:Y}=this.options,B,K,U,G=[];for(let z of X){for(let[F,q]of Y)if(z.name===F)z.PUSH_MODE=j7.IGNORE_INDENTATION;else if(z.name===q)z.POP_MODE=!0;if(z.name===W)B=z;else if(z.name===J)K=z;else if(z.name===H)U=z;else G.push(z)}if(!B||!K||!U)throw Error("Some indentation/whitespace tokens not found!");if(Y.length>0)return{modes:{[j7.REGULAR]:[B,K,...G,U],[j7.IGNORE_INDENTATION]:[...G,U]},defaultMode:j7.REGULAR};else return[B,K,U,...G]}flushLexingReport(Z){let Q=super.flushLexingReport(Z);return Object.assign(Object.assign({},Q),{remainingDedents:this.flushRemainingDedents(Z)})}isStartOfLine(Z,Q){return Q===0||`\r
`.includes(Z[Q-1])}matchWhitespace(Z,Q,X,J){var W;this.whitespaceRegExp.lastIndex=Q;let H=this.whitespaceRegExp.exec(Z);return{currIndentLevel:(W=H===null||H===void 0?void 0:H[0].length)!==null&&W!==void 0?W:0,prevIndentLevel:this.indentationStack.at(-1),match:H}}createIndentationTokenInstance(Z,Q,X,J){let W=this.getLineNumber(Q,J);return L9(Z,X,J,J+X.length,W,W,1,X.length)}getLineNumber(Z,Q){return Z.substring(0,Q).split(/\r\n|\r|\n/).length}indentMatcher(Z,Q,X,J){if(!this.isStartOfLine(Z,Q))return null;let{currIndentLevel:W,prevIndentLevel:H,match:Y}=this.matchWhitespace(Z,Q,X,J);if(W<=H)return null;return this.indentationStack.push(W),Y}dedentMatcher(Z,Q,X,J){var W,H,Y,B;if(!this.isStartOfLine(Z,Q))return null;let{currIndentLevel:K,prevIndentLevel:U,match:G}=this.matchWhitespace(Z,Q,X,J);if(K>=U)return null;let z=this.indentationStack.lastIndexOf(K);if(z===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${K} at offset: ${Q}. Current indentation stack: ${this.indentationStack}`,offset:Q,length:(H=(W=G===null||G===void 0?void 0:G[0])===null||W===void 0?void 0:W.length)!==null&&H!==void 0?H:0,line:this.getLineNumber(Z,Q),column:1}),null;let F=this.indentationStack.length-z-1,q=(B=(Y=Z.substring(0,Q).match(/[\r\n]+$/))===null||Y===void 0?void 0:Y[0].length)!==null&&B!==void 0?B:1;for(let L=0;L<F;L++){let A=this.createIndentationTokenInstance(this.dedentTokenType,Z,"",Q-(q-1));X.push(A),this.indentationStack.pop()}return null}buildTerminalToken(Z){let Q=super.buildTerminalToken(Z),{indentTokenName:X,dedentTokenName:J,whitespaceTokenName:W}=this.options;if(Q.name===X)return this.indentTokenType;else if(Q.name===J)return this.dedentTokenType;else if(Q.name===W)return c9({name:W,pattern:this.whitespaceRegExp,group:dQ.SKIPPED});return Q}flushRemainingDedents(Z){let Q=[];while(this.indentationStack.length>1)Q.push(this.createIndentationTokenInstance(this.dedentTokenType,Z,"",Z.length)),this.indentationStack.pop();return this.indentationStack=[0],Q}};eO=class eO extends e6{constructor(Z){super(Z);if(Z.parser.TokenBuilder instanceof jG)this.indentationTokenBuilder=Z.parser.TokenBuilder;else throw Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(Z,Q=MY){let X=super.tokenize(Z),J=X.report;if((Q===null||Q===void 0?void 0:Q.mode)==="full")X.tokens.push(...J.remainingDedents);J.remainingDedents=[];let{indentTokenType:W,dedentTokenType:H}=this.indentationTokenBuilder,Y=W.tokenTypeIdx,B=H.tokenTypeIdx,K=[],U=X.tokens.length-1;for(let G=0;G<U;G++){let z=X.tokens[G],F=X.tokens[G+1];if(z.tokenTypeIdx===Y&&F.tokenTypeIdx===B){G++;continue}K.push(z)}if(U>=0)K.push(X.tokens[U]);return X.tokens=K,X}}});var QP=()=>{};var XP=D(()=>{PG();bU();x5();ZP();VU();mW();DY();m5();QP();u5();hU()});var JP=D(()=>{sU();nU();oU();aU();rU();eU()});var WP=D(()=>{RG();QY()});class fG{readFile(){throw Error("No file system is available.")}async readDirectory(){return[]}}var EX;var TG=D(()=>{EX={fileSystemProvider:()=>new fG}});function bb(){let Z=vQ(DX(EX),xb),Q=vQ(LX({shared:Z}),vb);return Z.ServiceRegistry.register(Q),Q}function e0(Z){var Q;let X=bb(),J=X.serializer.JsonSerializer.deserialize(Z);return X.shared.workspace.LangiumDocumentFactory.fromModel(J,kX.parse(`memory://${(Q=J.name)!==null&&Q!==void 0?Q:"grammar"}.langium`)),J}var vb,xb;var HP=D(()=>{CG();_G();x0();TG();a0();vb={Grammar:()=>{return},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},xb={AstReflection:()=>new p8}});var YQ={};KX(YQ,{stream:()=>UQ,startCancelableOperation:()=>$5,setInterruptionPeriod:()=>_O,loadGrammarFromJson:()=>e0,isOperationCancelled:()=>r0,interruptAndCheck:()=>oQ,delayNextTick:()=>$U,assertUnreachable:()=>v0,WorkspaceCache:()=>$W,UriUtils:()=>mX,URI:()=>kX,TreeStreamImpl:()=>Y9,StreamImpl:()=>tQ,SimpleCache:()=>a5,RegExpUtils:()=>yH,Reduction:()=>s7,OperationCancelled:()=>o0,MultiMap:()=>t0,GrammarUtils:()=>$H,ErrorWithLocation:()=>o7,EMPTY_STREAM:()=>v8,DocumentCache:()=>tU,DisposableCache:()=>dW,Disposable:()=>t9,Deferred:()=>rX,DONE_RESULT:()=>RX,CstUtils:()=>jH,ContextCache:()=>a6,Cancellation:()=>sZ,BiMap:()=>o6,AstUtils:()=>mH});var YP=D(()=>{xX();F0();D0();O0();mJ();t5();UY();aZ(YQ,hQ);r6();HG();fH();HP();q0();yX();a0()});var BP=D(()=>{XG();lW()});var KP=D(()=>{JG();WG();YG();n6();TG();BG();NG();KG()});var AX={};KX(AX,{toDiagnosticSeverity:()=>WY,toDiagnosticData:()=>VO,stream:()=>UQ,startCancelableOperation:()=>$5,setInterruptionPeriod:()=>_O,prepareLangiumParser:()=>GO,parseJSDoc:()=>wG,loadGrammarFromJson:()=>e0,isTokenTypeDictionary:()=>UG,isTokenTypeArray:()=>LY,isRootCstNode:()=>T8,isReference:()=>qX,isOperationCancelled:()=>r0,isNamed:()=>xO,isLinkingError:()=>Y7,isLeafCstNode:()=>I9,isJSDoc:()=>MG,isIMultiModeLexerDefinition:()=>GG,isCompositeCstNode:()=>L0,isAstNodeWithComment:()=>ZG,isAstNodeDescription:()=>s3,isAstNode:()=>mQ,interruptAndCheck:()=>oQ,inject:()=>vQ,indentationBuilderDefaultOptions:()=>SG,getDiagnosticRange:()=>gO,eagerLoad:()=>sO,diagnosticData:()=>S7,delayNextTick:()=>$U,createParser:()=>uW,createLangiumParser:()=>gU,createGrammarConfig:()=>hB,createDefaultSharedCoreModule:()=>DX,createDefaultCoreModule:()=>LX,createCompletionParser:()=>xU,assertUnreachable:()=>v0,WorkspaceCache:()=>$W,ValueConverter:()=>n0,ValidationRegistry:()=>JY,ValidationCategory:()=>t6,UriUtils:()=>mX,URI:()=>kX,TreeStreamImpl:()=>Y9,TextDocument:()=>i6,StreamScope:()=>yW,StreamImpl:()=>tQ,SimpleCache:()=>a5,RootCstNodeImpl:()=>hW,RegExpUtils:()=>yH,Reduction:()=>s7,ParserWorker:()=>$O,OperationCancelled:()=>o0,MultiMap:()=>t0,Module:()=>IG,MapScope:()=>r5,LexingMode:()=>j7,LeafCstNodeImpl:()=>$6,LangiumParserErrorMessageProvider:()=>kW,LangiumParser:()=>V5,LangiumCompletionParser:()=>h5,JSDocDocumentationProvider:()=>OY,IndentationAwareTokenBuilder:()=>jG,IndentationAwareLexer:()=>eO,GrammarUtils:()=>$H,GrammarAST:()=>y8,ErrorWithLocation:()=>o7,EmptyFileSystemProvider:()=>fG,EmptyFileSystem:()=>EX,EMPTY_STREAM:()=>v8,EMPTY_SCOPE:()=>Eb,DocumentValidator:()=>w0,DocumentState:()=>AQ,DocumentCache:()=>tU,DisposableCache:()=>dW,Disposable:()=>t9,Deferred:()=>rX,DefaultWorkspaceManager:()=>qY,DefaultWorkspaceLock:()=>RY,DefaultValueConverter:()=>c6,DefaultTokenBuilder:()=>a9,DefaultServiceRegistry:()=>XY,DefaultScopeProvider:()=>e5,DefaultScopeComputation:()=>o5,DefaultReferences:()=>n5,DefaultReferenceDescriptionProvider:()=>BY,DefaultNameProvider:()=>s5,DefaultLinker:()=>i5,DefaultLexerErrorMessageProvider:()=>wY,DefaultLexer:()=>e6,DefaultLangiumDocuments:()=>c5,DefaultLangiumDocumentFactory:()=>l5,DefaultJsonSerializer:()=>ZY,DefaultIndexManager:()=>FY,DefaultHydrator:()=>CY,DefaultDocumentValidator:()=>HY,DefaultDocumentBuilder:()=>zY,DefaultConfigurationProvider:()=>GY,DefaultCommentProvider:()=>PY,DefaultAsyncParser:()=>NY,DefaultAstNodeLocator:()=>KY,DefaultAstNodeDescriptionProvider:()=>YY,DatatypeSymbol:()=>b5,DONE_RESULT:()=>RX,DEFAULT_TOKENIZE_OPTIONS:()=>MY,CstUtils:()=>jH,CstNodeBuilder:()=>T5,ContextCache:()=>a6,CompositeCstNodeImpl:()=>l6,Cancellation:()=>sZ,BiMap:()=>o6,AstUtils:()=>mH,AbstractThreadedAsyncParser:()=>dO,AbstractParserErrorMessageProvider:()=>TU,AbstractLangiumParser:()=>g5,AbstractCstNode:()=>v5,AbstractAstReflection:()=>i7});var J0=D(()=>{x0();CG();_G();QG();oO();rO();tO();XP();JP();WP();YP();aZ(AX,YQ);BP();KP()});function LP(Z){return S0.isInstance(Z,cW)}function DP(Z){return S0.isInstance(Z,Z8)}function EP(Z){return S0.isInstance(Z,Q8)}function AP(Z){return S0.isInstance(Z,X8)}function OP(Z){return S0.isInstance(Z,iW)}function PP(Z){return S0.isInstance(Z,J8)}function NP(Z){return S0.isInstance(Z,sW)}function RP(Z){return S0.isInstance(Z,nW)}function CP(Z){return S0.isInstance(Z,oW)}function IP(Z){return S0.isInstance(Z,rW)}function _P(Z){return S0.isInstance(Z,aW)}var gb,NZ=(Z,Q)=>gb(Z,"name",{value:Q,configurable:!0}),pG="Statement",cW="Architecture",_Y="Axis",Z8="Branch",SY="Checkout",jY="CherryPicking",vG="ClassDefStatement",Q8="Commit",xG="Curve",bG="Edge",gG="Entry",X8="GitGraph",VG="Group",iW="Info",fY="Item",hG="Junction",J8="Merge",kG="Option",sW="Packet",nW="PacketBlock",oW="Pie",rW="PieSection",bY="Radar",mG="Service",aW="Treemap",uG="TreemapRow",TY="Direction",vY="Leaf",xY="Section",SP,S0,UP,Vb,GP,hb,zP,kb,FP,mb,qP,ub,wP,pb,MP,yb,db,$b,lb,cb,ib,sb,nb,uX,yG,dG,$G,lG,cG,iG,sG,ob,rb,ab,tb,e9,A9,jX,eb;var fX=D(()=>{J0();J0();J0();J0();gb=Object.defineProperty;NZ(LP,"isArchitecture");NZ(DP,"isBranch");NZ(EP,"isCommit");NZ(AP,"isGitGraph");NZ(OP,"isInfo");NZ(PP,"isMerge");NZ(NP,"isPacket");NZ(RP,"isPacketBlock");NZ(CP,"isPie");NZ(IP,"isPieSection");NZ(_P,"isTreemap");SP=class extends i7{static{NZ(this,"MermaidAstReflection")}getAllTypes(){return[cW,_Y,Z8,SY,jY,vG,Q8,xG,TY,bG,gG,X8,VG,iW,fY,hG,vY,J8,kG,sW,nW,oW,rW,bY,xY,mG,pG,aW,uG]}computeIsSubtype(Z,Q){switch(Z){case Z8:case SY:case jY:case Q8:case J8:return this.isSubtype(pG,Q);case TY:return this.isSubtype(X8,Q);case vY:case xY:return this.isSubtype(fY,Q);default:return!1}}getReferenceType(Z){let Q=`${Z.container.$type}:${Z.property}`;switch(Q){case"Entry:axis":return _Y;default:throw Error(`${Q} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case cW:return{name:cW,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case _Y:return{name:_Y,properties:[{name:"label"},{name:"name"}]};case Z8:return{name:Z8,properties:[{name:"name"},{name:"order"}]};case SY:return{name:SY,properties:[{name:"branch"}]};case jY:return{name:jY,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case vG:return{name:vG,properties:[{name:"className"},{name:"styleText"}]};case Q8:return{name:Q8,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case xG:return{name:xG,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case bG:return{name:bG,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case gG:return{name:gG,properties:[{name:"axis"},{name:"value"}]};case X8:return{name:X8,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case VG:return{name:VG,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case iW:return{name:iW,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case fY:return{name:fY,properties:[{name:"classSelector"},{name:"name"}]};case hG:return{name:hG,properties:[{name:"id"},{name:"in"}]};case J8:return{name:J8,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case kG:return{name:kG,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case sW:return{name:sW,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case nW:return{name:nW,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case oW:return{name:oW,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case rW:return{name:rW,properties:[{name:"label"},{name:"value"}]};case bY:return{name:bY,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case mG:return{name:mG,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case aW:return{name:aW,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case uG:return{name:uG,properties:[{name:"indent"},{name:"item"}]};case TY:return{name:TY,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case vY:return{name:vY,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case xY:return{name:xY,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:Z,properties:[]}}}},S0=new SP,Vb=NZ(()=>UP??(UP=e0('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),hb=NZ(()=>GP??(GP=e0('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),kb=NZ(()=>zP??(zP=e0('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),mb=NZ(()=>FP??(FP=e0('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),ub=NZ(()=>qP??(qP=e0('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),pb=NZ(()=>wP??(wP=e0('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),yb=NZ(()=>MP??(MP=e0('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),db={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},$b={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},lb={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},cb={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ib={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},sb={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},nb={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},uX={AstReflection:NZ(()=>new SP,"AstReflection")},yG={Grammar:NZ(()=>Vb(),"Grammar"),LanguageMetaData:NZ(()=>db,"LanguageMetaData"),parser:{}},dG={Grammar:NZ(()=>hb(),"Grammar"),LanguageMetaData:NZ(()=>$b,"LanguageMetaData"),parser:{}},$G={Grammar:NZ(()=>kb(),"Grammar"),LanguageMetaData:NZ(()=>lb,"LanguageMetaData"),parser:{}},lG={Grammar:NZ(()=>mb(),"Grammar"),LanguageMetaData:NZ(()=>cb,"LanguageMetaData"),parser:{}},cG={Grammar:NZ(()=>ub(),"Grammar"),LanguageMetaData:NZ(()=>ib,"LanguageMetaData"),parser:{}},iG={Grammar:NZ(()=>pb(),"Grammar"),LanguageMetaData:NZ(()=>sb,"LanguageMetaData"),parser:{}},sG={Grammar:NZ(()=>yb(),"Grammar"),LanguageMetaData:NZ(()=>nb,"LanguageMetaData"),parser:{}},ob=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,rb=/accTitle[\t ]*:([^\n\r]*)/,ab=/title([\t ][^\n\r]*|)/,tb={ACC_DESCR:ob,ACC_TITLE:rb,TITLE:ab},e9=class extends c6{static{NZ(this,"AbstractMermaidValueConverter")}runConverter(Z,Q,X){let J=this.runCommonConverter(Z,Q,X);if(J===void 0)J=this.runCustomConverter(Z,Q,X);if(J===void 0)return super.runConverter(Z,Q,X);return J}runCommonConverter(Z,Q,X){let J=tb[Z.name];if(J===void 0)return;let W=J.exec(Q);if(W===null)return;if(W[1]!==void 0)return W[1].trim().replace(/[\t ]{2,}/gm," ");if(W[2]!==void 0)return W[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`);return}},A9=class extends e9{static{NZ(this,"CommonValueConverter")}runCustomConverter(Z,Q,X){return}},jX=class extends a9{static{NZ(this,"AbstractMermaidTokenBuilder")}constructor(Z){super();this.keywords=new Set(Z)}buildKeywordTokens(Z,Q,X){let J=super.buildKeywordTokens(Z,Q,X);return J.forEach((W)=>{if(this.keywords.has(W.name)&&W.PATTERN!==void 0)W.PATTERN=new RegExp(W.PATTERN.toString()+"(?:(?=%%)|(?!\\S))")}),J}},eb=class extends jX{static{NZ(this,"CommonTokenBuilder")}}});function VY(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),cG,gY);return Q.ServiceRegistry.register(X),{shared:Q,GitGraph:X}}var Zg,gY;var nG=D(()=>{fX();J0();Zg=class extends jX{static{NZ(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},gY={parser:{TokenBuilder:NZ(()=>new Zg,"TokenBuilder"),ValueConverter:NZ(()=>new A9,"ValueConverter")}};NZ(VY,"createGitGraphServices")});function kY(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),yG,hY);return Q.ServiceRegistry.register(X),{shared:Q,Info:X}}var Qg,hY;var oG=D(()=>{fX();J0();Qg=class extends jX{static{NZ(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},hY={parser:{TokenBuilder:NZ(()=>new Qg,"TokenBuilder"),ValueConverter:NZ(()=>new A9,"ValueConverter")}};NZ(kY,"createInfoServices")});function uY(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),dG,mY);return Q.ServiceRegistry.register(X),{shared:Q,Packet:X}}var Xg,mY;var rG=D(()=>{fX();J0();Xg=class extends jX{static{NZ(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},mY={parser:{TokenBuilder:NZ(()=>new Xg,"TokenBuilder"),ValueConverter:NZ(()=>new A9,"ValueConverter")}};NZ(uY,"createPacketServices")});function yY(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),$G,pY);return Q.ServiceRegistry.register(X),{shared:Q,Pie:X}}var Jg,Wg,pY;var aG=D(()=>{fX();J0();Jg=class extends jX{static{NZ(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},Wg=class extends e9{static{NZ(this,"PieValueConverter")}runCustomConverter(Z,Q,X){if(Z.name!=="PIE_SECTION_LABEL")return;return Q.replace(/"/g,"").trim()}},pY={parser:{TokenBuilder:NZ(()=>new Jg,"TokenBuilder"),ValueConverter:NZ(()=>new Wg,"ValueConverter")}};NZ(yY,"createPieServices")});function $Y(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),lG,dY);return Q.ServiceRegistry.register(X),{shared:Q,Architecture:X}}var Hg,Yg,dY;var tG=D(()=>{fX();J0();Hg=class extends jX{static{NZ(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},Yg=class extends e9{static{NZ(this,"ArchitectureValueConverter")}runCustomConverter(Z,Q,X){if(Z.name==="ARCH_ICON")return Q.replace(/[()]/g,"").trim();else if(Z.name==="ARCH_TEXT_ICON")return Q.replace(/["()]/g,"");else if(Z.name==="ARCH_TITLE")return Q.replace(/[[\]]/g,"").trim();return}},dY={parser:{TokenBuilder:NZ(()=>new Hg,"TokenBuilder"),ValueConverter:NZ(()=>new Yg,"ValueConverter")}};NZ($Y,"createArchitectureServices")});function cY(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),iG,lY);return Q.ServiceRegistry.register(X),{shared:Q,Radar:X}}var Bg,lY;var eG=D(()=>{fX();J0();Bg=class extends jX{static{NZ(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},lY={parser:{TokenBuilder:NZ(()=>new Bg,"TokenBuilder"),ValueConverter:NZ(()=>new A9,"ValueConverter")}};NZ(cY,"createRadarServices")});function jP(Z){let Q=Z.validation.TreemapValidator,X=Z.validation.ValidationRegistry;if(X){let J={Treemap:Q.checkSingleRoot.bind(Q)};X.register(J,Q)}}function sY(Z=EX){let Q=vQ(DX(Z),uX),X=vQ(LX({shared:Q}),sG,iY);return Q.ServiceRegistry.register(X),jP(X),{shared:Q,Treemap:X}}var Kg,Ug,Gg,zg,iY;var Zz=D(()=>{fX();J0();Kg=class extends jX{static{NZ(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},Ug=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,Gg=class extends e9{static{NZ(this,"TreemapValueConverter")}runCustomConverter(Z,Q,X){if(Z.name==="NUMBER2")return parseFloat(Q.replace(/,/g,""));else if(Z.name==="SEPARATOR")return Q.substring(1,Q.length-1);else if(Z.name==="STRING2")return Q.substring(1,Q.length-1);else if(Z.name==="INDENTATION")return Q.length;else if(Z.name==="ClassDef"){if(typeof Q!=="string")return Q;let J=Ug.exec(Q);if(J)return{$type:"ClassDefStatement",className:J[1],styleText:J[2]||void 0}}return}};NZ(jP,"registerValidationChecks");zg=class{static{NZ(this,"TreemapValidator")}checkSingleRoot(Z,Q){let X;for(let J of Z.TreemapRows){if(!J.item)continue;if(X===void 0&&J.indent===void 0)X=0;else if(J.indent===void 0)Q("error","Multiple root nodes are not allowed in a treemap.",{node:J,property:"item"});else if(X!==void 0&&X>=parseInt(J.indent,10))Q("error","Multiple root nodes are not allowed in a treemap.",{node:J,property:"item"})}}},iY={parser:{TokenBuilder:NZ(()=>new Kg,"TokenBuilder"),ValueConverter:NZ(()=>new Gg,"ValueConverter")},validation:{TreemapValidator:NZ(()=>new zg,"TreemapValidator")}};NZ(sY,"createTreemapServices")});var fP={};KX(fP,{createInfoServices:()=>kY,InfoModule:()=>hY});var TP=D(()=>{oG();fX()});var vP={};KX(vP,{createPacketServices:()=>uY,PacketModule:()=>mY});var xP=D(()=>{rG();fX()});var bP={};KX(bP,{createPieServices:()=>yY,PieModule:()=>pY});var gP=D(()=>{aG();fX()});var VP={};KX(VP,{createArchitectureServices:()=>$Y,ArchitectureModule:()=>dY});var hP=D(()=>{tG();fX()});var kP={};KX(kP,{createGitGraphServices:()=>VY,GitGraphModule:()=>gY});var mP=D(()=>{nG();fX()});var uP={};KX(uP,{createRadarServices:()=>cY,RadarModule:()=>lY});var pP=D(()=>{eG();fX()});var yP={};KX(yP,{createTreemapServices:()=>sY,TreemapModule:()=>iY});var dP=D(()=>{Zz();fX()});var T3=function(){var Z=function(s,y,C,P){for(C=C||{},P=s.length;P--;C[s[P]]=y);return C},Q=[1,15],X=[1,7],J=[1,13],W=[1,14],H=[1,19],Y=[1,16],B=[1,17],K=[1,18],U=[8,30],G=[8,10,21,28,29,30,31,39,43,46],z=[1,23],F=[1,24],q=[8,10,15,16,21,28,29,30,31,39,43,46],L=[8,10,15,16,21,27,28,29,30,31,39,43,46],A=[1,49],k={trace:function(){},yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:function(y,C,P,g,f,O,h){var w=O.length-1;switch(f){case 4:g.getLogger().debug("Rule: separator (NL) ");break;case 5:g.getLogger().debug("Rule: separator (Space) ");break;case 6:g.getLogger().debug("Rule: separator (EOF) ");break;case 7:g.getLogger().debug("Rule: hierarchy: ",O[w-1]),g.setHierarchy(O[w-1]);break;case 8:g.getLogger().debug("Stop NL ");break;case 9:g.getLogger().debug("Stop EOF ");break;case 10:g.getLogger().debug("Stop NL2 ");break;case 11:g.getLogger().debug("Stop EOF2 ");break;case 12:g.getLogger().debug("Rule: statement: ",O[w]),typeof O[w].length==="number"?this.$=O[w]:this.$=[O[w]];break;case 13:g.getLogger().debug("Rule: statement #2: ",O[w-1]),this.$=[O[w-1]].concat(O[w]);break;case 14:g.getLogger().debug("Rule: link: ",O[w],y),this.$={edgeTypeStr:O[w],label:""};break;case 15:g.getLogger().debug("Rule: LABEL link: ",O[w-3],O[w-1],O[w]),this.$={edgeTypeStr:O[w],label:O[w-1]};break;case 18:let $=parseInt(O[w]),j=g.generateId();this.$={id:j,type:"space",label:"",width:$,children:[]};break;case 23:g.getLogger().debug("Rule: (nodeStatement link node) ",O[w-2],O[w-1],O[w]," typestr: ",O[w-1].edgeTypeStr);let n=g.edgeStrToEdgeData(O[w-1].edgeTypeStr);this.$=[{id:O[w-2].id,label:O[w-2].label,type:O[w-2].type,directions:O[w-2].directions},{id:O[w-2].id+"-"+O[w].id,start:O[w-2].id,end:O[w].id,label:O[w-1].label,type:"edge",directions:O[w].directions,arrowTypeEnd:n,arrowTypeStart:"arrow_open"},{id:O[w].id,label:O[w].label,type:g.typeStr2Type(O[w].typeStr),directions:O[w].directions}];break;case 24:g.getLogger().debug("Rule: nodeStatement (abc88 node size) ",O[w-1],O[w]),this.$={id:O[w-1].id,label:O[w-1].label,type:g.typeStr2Type(O[w-1].typeStr),directions:O[w-1].directions,widthInColumns:parseInt(O[w],10)};break;case 25:g.getLogger().debug("Rule: nodeStatement (node) ",O[w]),this.$={id:O[w].id,label:O[w].label,type:g.typeStr2Type(O[w].typeStr),directions:O[w].directions,widthInColumns:1};break;case 26:g.getLogger().debug("APA123",this?this:"na"),g.getLogger().debug("COLUMNS: ",O[w]),this.$={type:"column-setting",columns:O[w]==="auto"?-1:parseInt(O[w])};break;case 27:g.getLogger().debug("Rule: id-block statement : ",O[w-2],O[w-1]);let d=g.generateId();this.$={...O[w-2],type:"composite",children:O[w-1]};break;case 28:g.getLogger().debug("Rule: blockStatement : ",O[w-2],O[w-1],O[w]);let m=g.generateId();this.$={id:m,type:"composite",label:"",children:O[w-1]};break;case 29:g.getLogger().debug("Rule: node (NODE_ID separator): ",O[w]),this.$={id:O[w]};break;case 30:g.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",O[w-1],O[w]),this.$={id:O[w-1],label:O[w].label,typeStr:O[w].typeStr,directions:O[w].directions};break;case 31:g.getLogger().debug("Rule: dirList: ",O[w]),this.$=[O[w]];break;case 32:g.getLogger().debug("Rule: dirList: ",O[w-1],O[w]),this.$=[O[w-1]].concat(O[w]);break;case 33:g.getLogger().debug("Rule: nodeShapeNLabel: ",O[w-2],O[w-1],O[w]),this.$={typeStr:O[w-2]+O[w],label:O[w-1]};break;case 34:g.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",O[w-3],O[w-2]," #3:",O[w-1],O[w]),this.$={typeStr:O[w-3]+O[w],label:O[w-2],directions:O[w-1]};break;case 35:case 36:this.$={type:"classDef",id:O[w-1].trim(),css:O[w].trim()};break;case 37:this.$={type:"applyClass",id:O[w-1].trim(),styleClass:O[w].trim()};break;case 38:this.$={type:"applyStyles",id:O[w-1].trim(),stylesStr:O[w].trim()};break}},table:[{9:1,10:[1,2]},{1:[3]},{10:Q,11:3,13:4,19:5,20:6,21:X,22:8,23:9,24:10,25:11,26:12,28:J,29:W,31:H,39:Y,43:B,46:K},{8:[1,20]},Z(U,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:Q,21:X,28:J,29:W,31:H,39:Y,43:B,46:K}),Z(G,[2,16],{14:22,15:z,16:F}),Z(G,[2,17]),Z(G,[2,18]),Z(G,[2,19]),Z(G,[2,20]),Z(G,[2,21]),Z(G,[2,22]),Z(q,[2,25],{27:[1,25]}),Z(G,[2,26]),{19:26,26:12,31:H},{10:Q,11:27,13:4,19:5,20:6,21:X,22:8,23:9,24:10,25:11,26:12,28:J,29:W,31:H,39:Y,43:B,46:K},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},Z(L,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},Z(U,[2,13]),{26:35,31:H},{31:[2,14]},{17:[1,36]},Z(q,[2,24]),{10:Q,11:37,13:4,14:22,15:z,16:F,19:5,20:6,21:X,22:8,23:9,24:10,25:11,26:12,28:J,29:W,31:H,39:Y,43:B,46:K},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},Z(L,[2,30]),{18:[1,43]},{18:[1,44]},Z(q,[2,23]),{18:[1,45]},{30:[1,46]},Z(G,[2,28]),Z(G,[2,35]),Z(G,[2,36]),Z(G,[2,37]),Z(G,[2,38]),{36:[1,47]},{33:48,34:A},{15:[1,50]},Z(G,[2,27]),Z(L,[2,33]),{38:[1,51]},{33:52,34:A,38:[2,31]},{31:[2,15]},Z(L,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:function(y,C){if(C.recoverable)this.trace(y);else{var P=Error(y);throw P.hash=C,P}},parse:function(y){var C=this,P=[0],g=[],f=[null],O=[],h=this.table,w="",$=0,j=0,n=0,d=2,m=1,b=O.slice.call(arguments,1),u=Object.create(this.lexer),S={yy:{}};for(var l in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,l))S.yy[l]=this.yy[l];if(u.setInput(y,S.yy),S.yy.lexer=u,S.yy.parser=this,typeof u.yylloc>"u")u.yylloc={};var I=u.yylloc;O.push(I);var QZ=u.options&&u.options.ranges;if(typeof S.yy.parseError==="function")this.parseError=S.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function WZ(YZ){P.length=P.length-2*YZ,f.length=f.length-YZ,O.length=O.length-YZ}function MZ(){var YZ=g.pop()||u.lex()||m;if(typeof YZ!=="number"){if(YZ instanceof Array)g=YZ,YZ=g.pop();YZ=C.symbols_[YZ]||YZ}return YZ}var r,qZ,BZ,DZ,UZ,AZ,e={},ZZ,i,V,o;while(!0){if(BZ=P[P.length-1],this.defaultActions[BZ])DZ=this.defaultActions[BZ];else{if(r===null||typeof r>"u")r=MZ();DZ=h[BZ]&&h[BZ][r]}if(typeof DZ>"u"||!DZ.length||!DZ[0]){var N="";o=[];for(ZZ in h[BZ])if(this.terminals_[ZZ]&&ZZ>d)o.push("'"+this.terminals_[ZZ]+"'");if(u.showPosition)N="Parse error on line "+($+1)+`:
`+u.showPosition()+`
Expecting `+o.join(", ")+", got '"+(this.terminals_[r]||r)+"'";else N="Parse error on line "+($+1)+": Unexpected "+(r==m?"end of input":"'"+(this.terminals_[r]||r)+"'");this.parseError(N,{text:u.match,token:this.terminals_[r]||r,line:u.yylineno,loc:I,expected:o})}if(DZ[0]instanceof Array&&DZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+BZ+", token: "+r);switch(DZ[0]){case 1:if(P.push(r),f.push(u.yytext),O.push(u.yylloc),P.push(DZ[1]),r=null,!qZ){if(j=u.yyleng,w=u.yytext,$=u.yylineno,I=u.yylloc,n>0)n--}else r=qZ,qZ=null;break;case 2:if(i=this.productions_[DZ[1]][1],e.$=f[f.length-i],e._$={first_line:O[O.length-(i||1)].first_line,last_line:O[O.length-1].last_line,first_column:O[O.length-(i||1)].first_column,last_column:O[O.length-1].last_column},QZ)e._$.range=[O[O.length-(i||1)].range[0],O[O.length-1].range[1]];if(AZ=this.performAction.apply(e,[w,j,$,S.yy,DZ[1],f,O].concat(b)),typeof AZ<"u")return AZ;if(i)P=P.slice(0,-1*i*2),f=f.slice(0,-1*i),O=O.slice(0,-1*i);P.push(this.productions_[DZ[1]][0]),f.push(e.$),O.push(e._$),V=h[P[P.length-2]][P[P.length-1]],P.push(V);break;case 3:return!0}}return!0}},T=function(){var s={EOF:1,parseError:function(C,P){if(this.yy.parser)this.yy.parser.parseError(C,P);else throw Error(C)},setInput:function(y,C){if(this.yy=C||this.yy||{},this._input=y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var y=this._input[0];this.yytext+=y,this.yyleng++,this.offset++,this.match+=y,this.matched+=y;var C=y.match(/(?:\r\n?|\n).*/g);if(C)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),y},unput:function(y){var C=y.length,P=y.split(/(?:\r\n?|\n)/g);this._input=y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var g=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),P.length-1)this.yylineno-=P.length-1;var f=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:P?(P.length===g.length?this.yylloc.first_column:0)+g[g.length-P.length].length-P[0].length:this.yylloc.first_column-C},this.options.ranges)this.yylloc.range=[f[0],f[0]+this.yyleng-C];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(y){this.unput(this.match.slice(y))},pastInput:function(){var y=this.matched.substr(0,this.matched.length-this.match.length);return(y.length>20?"...":"")+y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var y=this.match;if(y.length<20)y+=this._input.substr(0,20-y.length);return(y.substr(0,20)+(y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var y=this.pastInput(),C=Array(y.length+1).join("-");return y+this.upcomingInput()+`
`+C+"^"},test_match:function(y,C){var P,g,f;if(this.options.backtrack_lexer){if(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)f.yylloc.range=this.yylloc.range.slice(0)}if(g=y[0].match(/(?:\r\n?|\n).*/g),g)this.yylineno+=g.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+y[0].length},this.yytext+=y[0],this.match+=y[0],this.matches=y,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(y[0].length),this.matched+=y[0],P=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(P)return P;else if(this._backtrack){for(var O in f)this[O]=f[O];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var y,C,P,g;if(!this._more)this.yytext="",this.match="";var f=this._currentRules();for(var O=0;O<f.length;O++)if(P=this._input.match(this.rules[f[O]]),P&&(!C||P[0].length>C[0].length)){if(C=P,g=O,this.options.backtrack_lexer)if(y=this.test_match(P,f[O]),y!==!1)return y;else if(this._backtrack){C=!1;continue}else return!1;else if(!this.options.flex)break}if(C){if(y=this.test_match(C,f[g]),y!==!1)return y;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var C=this.next();if(C)return C;else return this.lex()},begin:function(C){this.conditionStack.push(C)},popState:function(){var C=this.conditionStack.length-1;if(C>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(C){if(C=this.conditionStack.length-1-Math.abs(C||0),C>=0)return this.conditionStack[C];else return"INITIAL"},pushState:function(C){this.begin(C)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(C,P,g,f){var O=f;switch(g){case 0:return C.getLogger().debug("Found block-beta"),10;break;case 1:return C.getLogger().debug("Found id-block"),29;break;case 2:return C.getLogger().debug("Found block"),10;break;case 3:C.getLogger().debug(".",P.yytext);break;case 4:C.getLogger().debug("_",P.yytext);break;case 5:return 5;case 6:return P.yytext=-1,28;break;case 7:return P.yytext=P.yytext.replace(/columns\s+/,""),C.getLogger().debug("COLUMNS (LEX)",P.yytext),28;break;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:C.getLogger().debug("LEX: POPPING STR:",P.yytext),this.popState();break;case 13:return C.getLogger().debug("LEX: STR end:",P.yytext),"STR";break;case 14:return P.yytext=P.yytext.replace(/space\:/,""),C.getLogger().debug("SPACE NUM (LEX)",P.yytext),21;break;case 15:return P.yytext="1",C.getLogger().debug("COLUMNS (LEX)",P.yytext),21;break;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;break;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 21:return this.popState(),this.pushState("CLASSDEFID"),40;break;case 22:return this.popState(),41;break;case 23:return this.pushState("CLASS"),43;break;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;break;case 25:return this.popState(),45;break;case 26:return this.pushState("STYLE_STMNT"),46;break;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;break;case 28:return this.popState(),48;break;case 29:return this.pushState("acc_title"),"acc_title";break;case 30:return this.popState(),"acc_title_value";break;case 31:return this.pushState("acc_descr"),"acc_descr";break;case 32:return this.popState(),"acc_descr_value";break;case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";break;case 38:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),C.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 40:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";break;case 41:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),C.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 43:return this.popState(),C.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 44:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";break;case 45:return this.popState(),C.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 46:return this.popState(),C.getLogger().debug("Lex: ("),"NODE_DEND";break;case 47:return this.popState(),C.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 48:return this.popState(),C.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 49:return this.popState(),C.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),C.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 51:return this.popState(),C.getLogger().debug("Lex: )"),"NODE_DEND";break;case 52:return this.popState(),C.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 53:return this.popState(),C.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 54:return C.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;break;case 55:return C.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;break;case 56:return C.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;break;case 57:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 58:return C.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;break;case 59:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 60:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 61:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 62:return C.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;break;case 63:return C.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;break;case 64:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 65:return this.pushState("NODE"),35;break;case 66:return this.pushState("NODE"),35;break;case 67:return this.pushState("NODE"),35;break;case 68:return this.pushState("NODE"),35;break;case 69:return this.pushState("NODE"),35;break;case 70:return this.pushState("NODE"),35;break;case 71:return this.pushState("NODE"),35;break;case 72:return C.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;break;case 73:return this.pushState("BLOCK_ARROW"),C.getLogger().debug("LEX ARR START"),37;break;case 74:return C.getLogger().debug("Lex: NODE_ID",P.yytext),31;break;case 75:return C.getLogger().debug("Lex: EOF",P.yytext),8;break;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:C.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:C.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return C.getLogger().debug("LEX: NODE_DESCR:",P.yytext),"NODE_DESCR";break;case 83:C.getLogger().debug("LEX POPPING"),this.popState();break;case 84:C.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return P.yytext=P.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (right): dir:",P.yytext),"DIR";break;case 86:return P.yytext=P.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (left):",P.yytext),"DIR";break;case 87:return P.yytext=P.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (x):",P.yytext),"DIR";break;case 88:return P.yytext=P.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (y):",P.yytext),"DIR";break;case 89:return P.yytext=P.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (up):",P.yytext),"DIR";break;case 90:return P.yytext=P.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (down):",P.yytext),"DIR";break;case 91:return P.yytext="]>",C.getLogger().debug("Lex (ARROW_DIR end):",P.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 92:return C.getLogger().debug("Lex: LINK","#"+P.yytext+"#"),15;break;case 93:return C.getLogger().debug("Lex: LINK",P.yytext),15;break;case 94:return C.getLogger().debug("Lex: LINK",P.yytext),15;break;case 95:return C.getLogger().debug("Lex: LINK",P.yytext),15;break;case 96:return C.getLogger().debug("Lex: START_LINK",P.yytext),this.pushState("LLABEL"),16;break;case 97:return C.getLogger().debug("Lex: START_LINK",P.yytext),this.pushState("LLABEL"),16;break;case 98:return C.getLogger().debug("Lex: START_LINK",P.yytext),this.pushState("LLABEL"),16;break;case 99:this.pushState("md_string");break;case 100:return C.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 101:return this.popState(),C.getLogger().debug("Lex: LINK","#"+P.yytext+"#"),15;break;case 102:return this.popState(),C.getLogger().debug("Lex: LINK",P.yytext),15;break;case 103:return this.popState(),C.getLogger().debug("Lex: LINK",P.yytext),15;break;case 104:return C.getLogger().debug("Lex: COLON",P.yytext),P.yytext=P.yytext.slice(1),27;break}},rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return s}();k.lexer=T;function p(){this.yy={}}return p.prototype=k,k.Parser=p,new p}();T3.parser=T3;var v3=T3;function _8(){return{type:"block",elements:[],classDefs:new Map,classAssignments:new Map,styleAssignments:new Map}}function x3(Z){return"shape"in Z&&!("type"in Z)}function gz(Z){return"type"in Z&&Z.type==="space"}function HH(Z){return"type"in Z&&Z.type==="composite"}function YH(Z){return"start"in Z&&"end"in Z}function PV(Z){return"type"in Z&&Z.type==="column-setting"}function NV(Z){return"type"in Z&&Z.type==="classDef"}function RV(Z){return"type"in Z&&Z.type==="applyClass"}function CV(Z){return"type"in Z&&Z.type==="applyStyles"}function xN(Z){if(!Z)return"square";let Q=Z.trim();if(Q==="[]"||Q.startsWith("[")&&Q.endsWith("]")&&!Q.includes("(")&&!Q.includes("[|")&&!Q.includes("[["))return"square";if(Q==="(())"||Q.startsWith("((")&&Q.endsWith("))"))return"circle";if(Q==="((()))"||Q.startsWith("(((")&&Q.endsWith(")))"))return"doublecircle";if(Q==="()"||Q.startsWith("(")&&Q.endsWith(")")&&!Q.startsWith("(("))return"round";if(Q==="{{}}"||Q.startsWith("{{")&&Q.endsWith("}}"))return"hexagon";if(Q==="{}"||Q.startsWith("{")&&Q.endsWith("}"))return"diamond";if(Q==="([])"||Q.startsWith("([")&&Q.endsWith("])"))return"stadium";if(Q==="[[]]"||Q.startsWith("[[")&&Q.endsWith("]]"))return"subroutine";if(Q==="[()]"||Q.startsWith("[(")&&Q.endsWith(")]"))return"cylinder";if(Q===">]"||Q.startsWith(">")&&Q.endsWith("]"))return"asymmetric";if(Q.startsWith("[/")&&Q.endsWith("\\]"))return"trapezoid";if(Q.startsWith("[\\")&&Q.endsWith("/]"))return"trapezoid-alt";if(Q.startsWith("[/")&&Q.endsWith("]"))return"lean-right";if(Q.startsWith("[\\")&&Q.endsWith("]"))return"lean-left";if(Q.startsWith("<[")&&Q.endsWith("]>"))return"block-arrow";return"square"}function bN(Z){let Q=Z.trim();if(Q.includes("===")||Q.includes("==>")||Q.includes("<=="))return"thick";if(Q.includes("-.")||Q.includes(".-"))return"dotted";if(Q.includes("~~~"))return"invisible";if(Q.includes("-->")||Q.includes("<--")||Q.includes("--x")||Q.includes("x--")||Q.includes("--o")||Q.includes("o--"))return"arrow";if(Q.includes("---"))return"open";return"arrow"}function gN(Z){let Q=0;return{getLogger:()=>({debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}}),generateId:()=>{return`block_${++Q}`},setHierarchy:(X)=>{Vz(X,Z)},typeStr2Type:(X)=>{return X||"square"},edgeStrToEdgeData:(X)=>{return bN(X)},setAccTitle:(X)=>{Z.accTitle=X?.trim()},getAccTitle:()=>Z.accTitle,setAccDescription:(X)=>{Z.accDescr=X?.trim()},getAccDescription:()=>Z.accDescr,setDiagramTitle:()=>{},getDiagramTitle:()=>"",clear:()=>{Z.elements=[],Z.classDefs.clear(),Z.classAssignments.clear(),Z.styleAssignments.clear(),Q=0}}}function Vz(Z,Q){if(!Array.isArray(Z))return;for(let X of Z){if(!X||typeof X!=="object")continue;let J=X;if(J.type==="column-setting"){let W={type:"column-setting",columns:typeof J.columns==="number"?J.columns:-1};Q.elements.push(W);continue}if(J.type==="space"){let W={id:String(J.id||`space_${Q.elements.length}`),type:"space",width:typeof J.width==="number"?J.width:1};Q.elements.push(W);continue}if(J.type==="composite"){let W={id:String(J.id||`composite_${Q.elements.length}`),type:"composite",label:J.label?String(J.label):void 0,children:[]};if(Array.isArray(J.children)){let H=_8();Vz(J.children,H),W.children=H.elements}Q.elements.push(W);continue}if(J.type==="edge"&&J.start&&J.end){let W={id:String(J.id||`edge_${Q.elements.length}`),start:String(J.start),end:String(J.end),label:J.label?String(J.label):void 0,edgeType:J.arrowTypeEnd||"arrow"};Q.elements.push(W);continue}if(J.type==="classDef"){let W={type:"classDef",id:String(J.id||""),css:String(J.css||"")};Q.classDefs.set(W.id,W.css),Q.elements.push(W);continue}if(J.type==="applyClass"){let W={type:"applyClass",id:String(J.id||""),styleClass:String(J.styleClass||"")};for(let H of W.id.split(",").map((Y)=>Y.trim()))Q.classAssignments.set(H,W.styleClass);Q.elements.push(W);continue}if(J.type==="applyStyles"){let W={type:"applyStyles",id:String(J.id||""),stylesStr:String(J.stylesStr||"")};for(let H of W.id.split(",").map((Y)=>Y.trim()))Q.styleAssignments.set(H,W.stylesStr);Q.elements.push(W);continue}if(J.id){let W={id:String(J.id),label:J.label?String(J.label):void 0,shape:xN(J.typeStr),widthInColumns:typeof J.widthInColumns==="number"?J.widthInColumns:1,directions:Array.isArray(J.directions)?J.directions:void 0};Q.elements.push(W)}}}function BH(Z){let Q=Z.trim();return Q.startsWith("block-beta")||Q.startsWith(`block
`)||Q.startsWith("block\r")||Q==="block"}function x7(Z){let Q=_8(),X=Z.trim();if(!X.startsWith("block-beta")&&!X.startsWith("block"))X=`block-beta
${X}`;if(X.startsWith("block-beta")&&!X.startsWith(`block-beta
`)&&!X.startsWith("block-beta\r"))X=X.replace("block-beta",`block-beta
`);if(X.startsWith(`block
`)===!1&&X.startsWith("block\r")===!1&&X.startsWith("block-beta")===!1){if(X.startsWith("block"))X=X.replace(/^block/,`block
`)}v3.yy=gN(Q);try{v3.parse(X)}catch(J){console.error("Block diagram parsing error:",J)}return Q}eX();aQ();function hN(Z){switch(Z){case"square":return["[","]"];case"round":return["(",")"];case"circle":return["((","))"];case"doublecircle":return["(((",")))"];case"diamond":return["{","}"];case"hexagon":return["{{","}}"];case"stadium":return["([","])"];case"subroutine":return["[[","]]"];case"cylinder":return["[(",")]"];case"asymmetric":return[">","]"];case"trapezoid":return["[/","\\]"];case"trapezoid-alt":return["[\\","/]"];case"lean-right":return["[/","]"];case"lean-left":return["[\\","]"];case"block-arrow":return["<[","]>"];default:return["[","]"]}}function hz(Z){switch(Z){case"arrow":return"-->";case"open":return"---";case"dotted":return"-.->";case"thick":return"==>";case"invisible":return"~~~";default:return"-->"}}function UH(Z){let[Q,X]=hN(Z.shape),J=Z.label||Z.id,W=`${Z.id}${Q}"${J}"${X}`;if(Z.shape==="block-arrow"&&Z.directions&&Z.directions.length>0)W=`${Z.id}<["${J}"]>(${Z.directions.join(", ")})`;if(Z.widthInColumns>1)W+=`:${Z.widthInColumns}`;return W}function kN(Z){if(Z.width===1)return"space";return`space:${Z.width}`}function mN(Z){if(Z.columns===-1)return"columns auto";return`columns ${Z.columns}`}function uN(Z){return`classDef ${Z.id} ${Z.css}`}function pN(Z){return`class ${Z.id} ${Z.styleClass}`}function yN(Z){return`style ${Z.id} ${Z.stylesStr}`}function dN(Z){let Q=hz(Z.edgeType);if(Z.label){let X=Q.substring(0,2),J=Q.substring(2);return`${Z.start} ${X}"${Z.label}"${J} ${Z.end}`}return`${Z.start} ${Q} ${Z.end}`}function $N(Z,Q){let X=Z.label?`block:${Z.id}["${Z.label}"]`:`block:${Z.id}`,J=Z.children.map((W)=>kz(W,Q));return[X,ZQ(J),"end"]}function kz(Z,Q){if("type"in Z)switch(Z.type){case"space":return kN(Z);case"composite":return $N(Z,Q);case"column-setting":return mN(Z);case"classDef":return uN(Z);case"applyClass":return pN(Z);case"applyStyles":return yN(Z)}if("start"in Z&&"end"in Z)return dN(Z);if("shape"in Z)return UH(Z);return""}function b7(Z,Q){let X=QQ(Q),J=new Map,W=new Set;for(let K of Z.elements)if("start"in K&&"end"in K){let U=K;W.add(U.id);let G=J.get(U.start)||[];G.push(U),J.set(U.start,G)}let H=[],Y=new Set;for(let K of Z.elements){if("start"in K&&"end"in K)continue;if("shape"in K&&!("type"in K)){let U=K,G=J.get(U.id)||[];if(G.length>0)H.push(lN(U,G,Z.elements,Y));else if(!Y.has(U.id))H.push(UH(U));Y.add(U.id)}else H.push(kz(K,X))}let B=["block-beta",KQ(Z.accTitle,`accTitle: ${Z.accTitle}`),KQ(Z.accDescr,`accDescr: ${Z.accDescr}`),ZQ(H)];return xQ(B,X.indent)}function lN(Z,Q,X,J){let W=new Map;for(let Y of X)if("shape"in Y&&!("type"in Y))W.set(Y.id,Y);let H=[UH(Z)];J.add(Z.id);for(let Y of Q){let B=hz(Y.edgeType),K=W.get(Y.end);if(Y.label){let U=B.substring(0,2),G=B.substring(2);H.push(`${U}"${Y.label}"${G}`)}else H.push(B);if(K&&!J.has(Y.end))H.push(UH(K)),J.add(Y.end);else H.push(Y.end)}return H.join(" ")}class g7 extends tZ{constructor(Z){super(Z)}static create(){return new g7(_8())}static from(Z){return new g7(Z)}static parse(Z){return new g7(x7(Z))}render(Z){return b7(this.ast,Z)}clone(){return g7.parse(this.render())}setColumns(Z){this.ast.elements=this.ast.elements.filter((X)=>!(("type"in X)&&X.type==="column-setting"));let Q={type:"column-setting",columns:Z==="auto"?-1:Z};return this.ast.elements.unshift(Q),this}getColumns(){let Z=this.ast.elements.find((Q)=>("type"in Q)&&Q.type==="column-setting");if(!Z)return;return Z.columns===-1?"auto":Z.columns}addNode(Z,Q){let X={id:Z,label:Q?.label,shape:Q?.shape||"square",widthInColumns:Q?.widthInColumns||1,directions:Q?.directions};return this.ast.elements.push(X),this}getNode(Z){return this.findNodes().find((Q)=>Q.id===Z)}findNodes(){let Z=[],Q=(X)=>{for(let J of X)if(x3(J))Z.push(J);else if(HH(J))Q(J.children)};return Q(this.ast.elements),Z}removeNode(Z){return this.ast.elements=this.ast.elements.filter((Q)=>!x3(Q)||Q.id!==Z),this}get nodeCount(){return this.findNodes().length}addEdge(Z,Q,X){let J={id:`${Z}-${Q}`,start:Z,end:Q,label:X?.label,edgeType:X?.edgeType||"arrow"};return this.ast.elements.push(J),this}findEdges(){return this.ast.elements.filter(YH)}removeEdge(Z,Q){if(Q)this.ast.elements=this.ast.elements.filter((X)=>!YH(X)||!(X.start===Z&&X.end===Q));else this.ast.elements=this.ast.elements.filter((X)=>!YH(X)||X.id!==Z);return this}get edgeCount(){return this.findEdges().length}addSpace(Z=1){let Q={id:`space_${Date.now()}`,type:"space",width:Z};return this.ast.elements.push(Q),this}findSpaces(){return this.ast.elements.filter(gz)}addComposite(Z,Q){let X={id:Z,type:"composite",label:Q,children:[]};return this.ast.elements.push(X),this}getComposite(Z){return this.ast.elements.find((Q)=>HH(Q)&&Q.id===Z)}findComposites(){return this.ast.elements.filter(HH)}defineClass(Z,Q){let X={type:"classDef",id:Z,css:Q};return this.ast.classDefs.set(Z,Q),this.ast.elements.push(X),this}applyClass(Z,Q){let J={type:"applyClass",id:Array.isArray(Z)?Z.join(", "):Z,styleClass:Q};for(let W of Array.isArray(Z)?Z:[Z])this.ast.classAssignments.set(W,Q);return this.ast.elements.push(J),this}applyStyles(Z,Q){let J={type:"applyStyles",id:Array.isArray(Z)?Z.join(", "):Z,stylesStr:Q};for(let W of Array.isArray(Z)?Z:[Z])this.ast.styleAssignments.set(W,Q);return this.ast.elements.push(J),this}getClassDefs(){return new Map(this.ast.classDefs)}setAccTitle(Z){return this.ast.accTitle=Z,this}getAccTitle(){return this.ast.accTitle}setAccDescr(Z){return this.ast.accDescr=Z,this}getAccDescr(){return this.ast.accDescr}get elementCount(){return this.ast.elements.length}}var b3=function(){var Z=function(vZ,LZ,GZ,HZ){for(GZ=GZ||{},HZ=vZ.length;HZ--;GZ[vZ[HZ]]=LZ);return GZ},Q=[1,24],X=[1,25],J=[1,26],W=[1,27],H=[1,28],Y=[1,63],B=[1,64],K=[1,65],U=[1,66],G=[1,67],z=[1,68],F=[1,69],q=[1,29],L=[1,30],A=[1,31],k=[1,32],T=[1,33],p=[1,34],s=[1,35],y=[1,36],C=[1,37],P=[1,38],g=[1,39],f=[1,40],O=[1,41],h=[1,42],w=[1,43],$=[1,44],j=[1,45],n=[1,46],d=[1,47],m=[1,48],b=[1,50],u=[1,51],S=[1,52],l=[1,53],I=[1,54],QZ=[1,55],WZ=[1,56],MZ=[1,57],r=[1,58],qZ=[1,59],BZ=[1,60],DZ=[14,42],UZ=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],AZ=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],e=[1,82],ZZ=[1,83],i=[1,84],V=[1,85],o=[12,14,42],N=[12,14,33,42],YZ=[12,14,33,42,76,77,79,80],M=[12,33],mZ=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],a={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:function(LZ,GZ,HZ,t,zZ,x,EZ){var E=x.length-1;switch(zZ){case 3:t.setDirection("TB");break;case 4:t.setDirection("BT");break;case 5:t.setDirection("RL");break;case 6:t.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:t.setC4Type(x[E-3]);break;case 19:t.setTitle(x[E].substring(6)),this.$=x[E].substring(6);break;case 20:t.setAccDescription(x[E].substring(15)),this.$=x[E].substring(15);break;case 21:this.$=x[E].trim(),t.setTitle(this.$);break;case 22:case 23:this.$=x[E].trim(),t.setAccDescription(this.$);break;case 28:x[E].splice(2,0,"ENTERPRISE"),t.addPersonOrSystemBoundary(...x[E]),this.$=x[E];break;case 29:x[E].splice(2,0,"SYSTEM"),t.addPersonOrSystemBoundary(...x[E]),this.$=x[E];break;case 30:t.addPersonOrSystemBoundary(...x[E]),this.$=x[E];break;case 31:x[E].splice(2,0,"CONTAINER"),t.addContainerBoundary(...x[E]),this.$=x[E];break;case 32:t.addDeploymentNode("node",...x[E]),this.$=x[E];break;case 33:t.addDeploymentNode("nodeL",...x[E]),this.$=x[E];break;case 34:t.addDeploymentNode("nodeR",...x[E]),this.$=x[E];break;case 35:t.popBoundaryParseStack();break;case 39:t.addPersonOrSystem("person",...x[E]),this.$=x[E];break;case 40:t.addPersonOrSystem("external_person",...x[E]),this.$=x[E];break;case 41:t.addPersonOrSystem("system",...x[E]),this.$=x[E];break;case 42:t.addPersonOrSystem("system_db",...x[E]),this.$=x[E];break;case 43:t.addPersonOrSystem("system_queue",...x[E]),this.$=x[E];break;case 44:t.addPersonOrSystem("external_system",...x[E]),this.$=x[E];break;case 45:t.addPersonOrSystem("external_system_db",...x[E]),this.$=x[E];break;case 46:t.addPersonOrSystem("external_system_queue",...x[E]),this.$=x[E];break;case 47:t.addContainer("container",...x[E]),this.$=x[E];break;case 48:t.addContainer("container_db",...x[E]),this.$=x[E];break;case 49:t.addContainer("container_queue",...x[E]),this.$=x[E];break;case 50:t.addContainer("external_container",...x[E]),this.$=x[E];break;case 51:t.addContainer("external_container_db",...x[E]),this.$=x[E];break;case 52:t.addContainer("external_container_queue",...x[E]),this.$=x[E];break;case 53:t.addComponent("component",...x[E]),this.$=x[E];break;case 54:t.addComponent("component_db",...x[E]),this.$=x[E];break;case 55:t.addComponent("component_queue",...x[E]),this.$=x[E];break;case 56:t.addComponent("external_component",...x[E]),this.$=x[E];break;case 57:t.addComponent("external_component_db",...x[E]),this.$=x[E];break;case 58:t.addComponent("external_component_queue",...x[E]),this.$=x[E];break;case 60:t.addRel("rel",...x[E]),this.$=x[E];break;case 61:t.addRel("birel",...x[E]),this.$=x[E];break;case 62:t.addRel("rel_u",...x[E]),this.$=x[E];break;case 63:t.addRel("rel_d",...x[E]),this.$=x[E];break;case 64:t.addRel("rel_l",...x[E]),this.$=x[E];break;case 65:t.addRel("rel_r",...x[E]),this.$=x[E];break;case 66:t.addRel("rel_b",...x[E]),this.$=x[E];break;case 67:x[E].splice(0,1),t.addRel("rel",...x[E]),this.$=x[E];break;case 68:t.updateElStyle("update_el_style",...x[E]),this.$=x[E];break;case 69:t.updateRelStyle("update_rel_style",...x[E]),this.$=x[E];break;case 70:t.updateLayoutConfig("update_layout_config",...x[E]),this.$=x[E];break;case 71:this.$=[x[E]];break;case 72:x[E].unshift(x[E-1]),this.$=x[E];break;case 73:case 75:this.$=x[E].trim();break;case 74:let PZ={};PZ[x[E-1].trim()]=x[E].trim(),this.$=PZ;break;case 76:this.$="";break}},table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:Q,23:X,24:J,26:W,28:H,29:49,30:61,32:62,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,43:23,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ},{13:70,19:20,20:21,21:22,22:Q,23:X,24:J,26:W,28:H,29:49,30:61,32:62,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,43:23,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ},{13:71,19:20,20:21,21:22,22:Q,23:X,24:J,26:W,28:H,29:49,30:61,32:62,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,43:23,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ},{13:72,19:20,20:21,21:22,22:Q,23:X,24:J,26:W,28:H,29:49,30:61,32:62,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,43:23,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ},{13:73,19:20,20:21,21:22,22:Q,23:X,24:J,26:W,28:H,29:49,30:61,32:62,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,43:23,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ},{14:[1,74]},Z(DZ,[2,13],{43:23,29:49,30:61,32:62,20:75,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ}),Z(DZ,[2,14]),Z(UZ,[2,16],{12:[1,76]}),Z(DZ,[2,36],{12:[1,77]}),Z(AZ,[2,19]),Z(AZ,[2,20]),{25:[1,78]},{27:[1,79]},Z(AZ,[2,23]),{35:80,75:81,76:e,77:ZZ,79:i,80:V},{35:86,75:81,76:e,77:ZZ,79:i,80:V},{35:87,75:81,76:e,77:ZZ,79:i,80:V},{35:88,75:81,76:e,77:ZZ,79:i,80:V},{35:89,75:81,76:e,77:ZZ,79:i,80:V},{35:90,75:81,76:e,77:ZZ,79:i,80:V},{35:91,75:81,76:e,77:ZZ,79:i,80:V},{35:92,75:81,76:e,77:ZZ,79:i,80:V},{35:93,75:81,76:e,77:ZZ,79:i,80:V},{35:94,75:81,76:e,77:ZZ,79:i,80:V},{35:95,75:81,76:e,77:ZZ,79:i,80:V},{35:96,75:81,76:e,77:ZZ,79:i,80:V},{35:97,75:81,76:e,77:ZZ,79:i,80:V},{35:98,75:81,76:e,77:ZZ,79:i,80:V},{35:99,75:81,76:e,77:ZZ,79:i,80:V},{35:100,75:81,76:e,77:ZZ,79:i,80:V},{35:101,75:81,76:e,77:ZZ,79:i,80:V},{35:102,75:81,76:e,77:ZZ,79:i,80:V},{35:103,75:81,76:e,77:ZZ,79:i,80:V},{35:104,75:81,76:e,77:ZZ,79:i,80:V},Z(o,[2,59]),{35:105,75:81,76:e,77:ZZ,79:i,80:V},{35:106,75:81,76:e,77:ZZ,79:i,80:V},{35:107,75:81,76:e,77:ZZ,79:i,80:V},{35:108,75:81,76:e,77:ZZ,79:i,80:V},{35:109,75:81,76:e,77:ZZ,79:i,80:V},{35:110,75:81,76:e,77:ZZ,79:i,80:V},{35:111,75:81,76:e,77:ZZ,79:i,80:V},{35:112,75:81,76:e,77:ZZ,79:i,80:V},{35:113,75:81,76:e,77:ZZ,79:i,80:V},{35:114,75:81,76:e,77:ZZ,79:i,80:V},{35:115,75:81,76:e,77:ZZ,79:i,80:V},{20:116,29:49,30:61,32:62,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,43:23,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ},{12:[1,118],33:[1,117]},{35:119,75:81,76:e,77:ZZ,79:i,80:V},{35:120,75:81,76:e,77:ZZ,79:i,80:V},{35:121,75:81,76:e,77:ZZ,79:i,80:V},{35:122,75:81,76:e,77:ZZ,79:i,80:V},{35:123,75:81,76:e,77:ZZ,79:i,80:V},{35:124,75:81,76:e,77:ZZ,79:i,80:V},{35:125,75:81,76:e,77:ZZ,79:i,80:V},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},Z(DZ,[2,15]),Z(UZ,[2,17],{21:22,19:130,22:Q,23:X,24:J,26:W,28:H}),Z(DZ,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:Q,23:X,24:J,26:W,28:H,34:Y,36:B,37:K,38:U,39:G,40:z,41:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s,51:y,52:C,53:P,54:g,55:f,56:O,57:h,58:w,59:$,60:j,61:n,62:d,63:m,64:b,65:u,66:S,67:l,68:I,69:QZ,70:WZ,71:MZ,72:r,73:qZ,74:BZ}),Z(AZ,[2,21]),Z(AZ,[2,22]),Z(o,[2,39]),Z(N,[2,71],{75:81,35:132,76:e,77:ZZ,79:i,80:V}),Z(YZ,[2,73]),{78:[1,133]},Z(YZ,[2,75]),Z(YZ,[2,76]),Z(o,[2,40]),Z(o,[2,41]),Z(o,[2,42]),Z(o,[2,43]),Z(o,[2,44]),Z(o,[2,45]),Z(o,[2,46]),Z(o,[2,47]),Z(o,[2,48]),Z(o,[2,49]),Z(o,[2,50]),Z(o,[2,51]),Z(o,[2,52]),Z(o,[2,53]),Z(o,[2,54]),Z(o,[2,55]),Z(o,[2,56]),Z(o,[2,57]),Z(o,[2,58]),Z(o,[2,60]),Z(o,[2,61]),Z(o,[2,62]),Z(o,[2,63]),Z(o,[2,64]),Z(o,[2,65]),Z(o,[2,66]),Z(o,[2,67]),Z(o,[2,68]),Z(o,[2,69]),Z(o,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},Z(M,[2,28]),Z(M,[2,29]),Z(M,[2,30]),Z(M,[2,31]),Z(M,[2,32]),Z(M,[2,33]),Z(M,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},Z(UZ,[2,18]),Z(DZ,[2,38]),Z(N,[2,72]),Z(YZ,[2,74]),Z(o,[2,24]),Z(o,[2,35]),Z(mZ,[2,25]),Z(mZ,[2,26],{12:[1,138]}),Z(mZ,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:function(LZ,GZ){if(GZ.recoverable)this.trace(LZ);else{var HZ=Error(LZ);throw HZ.hash=GZ,HZ}},parse:function(LZ){var GZ=this,HZ=[0],t=[],zZ=[null],x=[],EZ=this.table,E="",PZ=0,R=0,FZ=0,JZ=2,jZ=1,OZ=x.slice.call(arguments,1),KZ=Object.create(this.lexer),GQ={yy:{}};for(var wZ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,wZ))GQ.yy[wZ]=this.yy[wZ];if(KZ.setInput(LZ,GQ.yy),GQ.yy.lexer=KZ,GQ.yy.parser=this,typeof KZ.yylloc>"u")KZ.yylloc={};var FQ=KZ.yylloc;x.push(FQ);var qQ=KZ.options&&KZ.options.ranges;if(typeof GQ.yy.parseError==="function")this.parseError=GQ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function JX(_Z){HZ.length=HZ.length-2*_Z,zZ.length=zZ.length-_Z,x.length=x.length-_Z}function lZ(){var _Z=t.pop()||KZ.lex()||jZ;if(typeof _Z!=="number"){if(_Z instanceof Array)t=_Z,_Z=t.pop();_Z=GZ.symbols_[_Z]||_Z}return _Z}var JQ,EQ,uZ,wQ,OX,dZ,rZ={},$Z,iZ,bZ,VZ;while(!0){if(uZ=HZ[HZ.length-1],this.defaultActions[uZ])wQ=this.defaultActions[uZ];else{if(JQ===null||typeof JQ>"u")JQ=lZ();wQ=EZ[uZ]&&EZ[uZ][JQ]}if(typeof wQ>"u"||!wQ.length||!wQ[0]){var hZ="";VZ=[];for($Z in EZ[uZ])if(this.terminals_[$Z]&&$Z>JZ)VZ.push("'"+this.terminals_[$Z]+"'");if(KZ.showPosition)hZ="Parse error on line "+(PZ+1)+`:
`+KZ.showPosition()+`
Expecting `+VZ.join(", ")+", got '"+(this.terminals_[JQ]||JQ)+"'";else hZ="Parse error on line "+(PZ+1)+": Unexpected "+(JQ==jZ?"end of input":"'"+(this.terminals_[JQ]||JQ)+"'");this.parseError(hZ,{text:KZ.match,token:this.terminals_[JQ]||JQ,line:KZ.yylineno,loc:FQ,expected:VZ})}if(wQ[0]instanceof Array&&wQ.length>1)throw Error("Parse Error: multiple actions possible at state: "+uZ+", token: "+JQ);switch(wQ[0]){case 1:if(HZ.push(JQ),zZ.push(KZ.yytext),x.push(KZ.yylloc),HZ.push(wQ[1]),JQ=null,!EQ){if(R=KZ.yyleng,E=KZ.yytext,PZ=KZ.yylineno,FQ=KZ.yylloc,FZ>0)FZ--}else JQ=EQ,EQ=null;break;case 2:if(iZ=this.productions_[wQ[1]][1],rZ.$=zZ[zZ.length-iZ],rZ._$={first_line:x[x.length-(iZ||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(iZ||1)].first_column,last_column:x[x.length-1].last_column},qQ)rZ._$.range=[x[x.length-(iZ||1)].range[0],x[x.length-1].range[1]];if(dZ=this.performAction.apply(rZ,[E,R,PZ,GQ.yy,wQ[1],zZ,x].concat(OZ)),typeof dZ<"u")return dZ;if(iZ)HZ=HZ.slice(0,-1*iZ*2),zZ=zZ.slice(0,-1*iZ),x=x.slice(0,-1*iZ);HZ.push(this.productions_[wQ[1]][0]),zZ.push(rZ.$),x.push(rZ._$),bZ=EZ[HZ[HZ.length-2]][HZ[HZ.length-1]],HZ.push(bZ);break;case 3:return!0}}return!0}},IZ=function(){var vZ={EOF:1,parseError:function(GZ,HZ){if(this.yy.parser)this.yy.parser.parseError(GZ,HZ);else throw Error(GZ)},setInput:function(LZ,GZ){if(this.yy=GZ||this.yy||{},this._input=LZ,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var LZ=this._input[0];this.yytext+=LZ,this.yyleng++,this.offset++,this.match+=LZ,this.matched+=LZ;var GZ=LZ.match(/(?:\r\n?|\n).*/g);if(GZ)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),LZ},unput:function(LZ){var GZ=LZ.length,HZ=LZ.split(/(?:\r\n?|\n)/g);this._input=LZ+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-GZ),this.offset-=GZ;var t=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),HZ.length-1)this.yylineno-=HZ.length-1;var zZ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:HZ?(HZ.length===t.length?this.yylloc.first_column:0)+t[t.length-HZ.length].length-HZ[0].length:this.yylloc.first_column-GZ},this.options.ranges)this.yylloc.range=[zZ[0],zZ[0]+this.yyleng-GZ];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(LZ){this.unput(this.match.slice(LZ))},pastInput:function(){var LZ=this.matched.substr(0,this.matched.length-this.match.length);return(LZ.length>20?"...":"")+LZ.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var LZ=this.match;if(LZ.length<20)LZ+=this._input.substr(0,20-LZ.length);return(LZ.substr(0,20)+(LZ.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var LZ=this.pastInput(),GZ=Array(LZ.length+1).join("-");return LZ+this.upcomingInput()+`
`+GZ+"^"},test_match:function(LZ,GZ){var HZ,t,zZ;if(this.options.backtrack_lexer){if(zZ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)zZ.yylloc.range=this.yylloc.range.slice(0)}if(t=LZ[0].match(/(?:\r\n?|\n).*/g),t)this.yylineno+=t.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-t[t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+LZ[0].length},this.yytext+=LZ[0],this.match+=LZ[0],this.matches=LZ,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(LZ[0].length),this.matched+=LZ[0],HZ=this.performAction.call(this,this.yy,this,GZ,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(HZ)return HZ;else if(this._backtrack){for(var x in zZ)this[x]=zZ[x];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var LZ,GZ,HZ,t;if(!this._more)this.yytext="",this.match="";var zZ=this._currentRules();for(var x=0;x<zZ.length;x++)if(HZ=this._input.match(this.rules[zZ[x]]),HZ&&(!GZ||HZ[0].length>GZ[0].length)){if(GZ=HZ,t=x,this.options.backtrack_lexer)if(LZ=this.test_match(HZ,zZ[x]),LZ!==!1)return LZ;else if(this._backtrack){GZ=!1;continue}else return!1;else if(!this.options.flex)break}if(GZ){if(LZ=this.test_match(GZ,zZ[t]),LZ!==!1)return LZ;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var GZ=this.next();if(GZ)return GZ;else return this.lex()},begin:function(GZ){this.conditionStack.push(GZ)},popState:function(){var GZ=this.conditionStack.length-1;if(GZ>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(GZ){if(GZ=this.conditionStack.length-1-Math.abs(GZ||0),GZ>=0)return this.conditionStack[GZ];else return"INITIAL"},pushState:function(GZ){this.begin(GZ)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(GZ,HZ,t,zZ){var x=zZ;switch(t){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return vZ}();a.lexer=IZ;function nZ(){this.yy={}}return nZ.prototype=a,a.Parser=nZ,new nZ}();b3.parser=b3;var g3=b3;function GH(Z="C4Context"){return{type:"c4",diagramType:Z,elements:[],relationships:[],elementStyles:[],relationshipStyles:[]}}function zH(Z){return Z.type==="person"||Z.type==="external_person"}function FH(Z){return Z.type==="system"||Z.type==="system_db"||Z.type==="system_queue"||Z.type==="external_system"||Z.type==="external_system_db"||Z.type==="external_system_queue"}function qH(Z){return Z.type==="container"||Z.type==="container_db"||Z.type==="container_queue"||Z.type==="external_container"||Z.type==="external_container_db"||Z.type==="external_container_queue"}function wH(Z){return Z.type==="component"||Z.type==="component_db"||Z.type==="component_queue"||Z.type==="external_component"||Z.type==="external_component_db"||Z.type==="external_component_queue"}function W9(Z){return Z.type==="boundary"||Z.type==="enterprise_boundary"||Z.type==="system_boundary"||Z.type==="container_boundary"}function H9(Z){return Z.type==="node"||Z.type==="nodeL"||Z.type==="nodeR"}function cN(Z){let Q=[],X=Z.elements;return{getLogger:()=>({debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}}),setC4Type:(J)=>{Z.diagramType=J},setTitle:(J)=>{Z.title=J?.trim()},getTitle:()=>Z.title,setAccTitle:(J)=>{Z.accTitle=J?.trim()},getAccTitle:()=>Z.accTitle,setAccDescription:(J)=>{Z.accDescr=J?.trim()},getAccDescription:()=>Z.accDescr,setDirection:(J)=>{Z.direction=J},addPersonOrSystem:(J,...W)=>{let[H,Y,B,K,U,G,...z]=W,F={};for(let q of z)if(typeof q==="object")Object.assign(F,q);if(J==="person"||J==="external_person"){let q={type:J,alias:String(H||""),label:Y?String(Y):void 0,description:B?String(B):void 0,sprite:K?String(K):void 0,tags:U?String(U):void 0,link:G?String(G):void 0,properties:Object.keys(F).length>0?F:void 0};X.push(q)}else{let q={type:J,alias:String(H||""),label:Y?String(Y):void 0,description:B?String(B):void 0,sprite:K?String(K):void 0,tags:U?String(U):void 0,link:G?String(G):void 0,properties:Object.keys(F).length>0?F:void 0};X.push(q)}},addContainer:(J,...W)=>{let[H,Y,B,K,U,G,z,...F]=W,q={};for(let A of F)if(typeof A==="object")Object.assign(q,A);let L={type:J,alias:String(H||""),label:Y?String(Y):void 0,technology:B?String(B):void 0,description:K?String(K):void 0,sprite:U?String(U):void 0,tags:G?String(G):void 0,link:z?String(z):void 0,properties:Object.keys(q).length>0?q:void 0};X.push(L)},addComponent:(J,...W)=>{let[H,Y,B,K,U,G,z,...F]=W,q={};for(let A of F)if(typeof A==="object")Object.assign(q,A);let L={type:J,alias:String(H||""),label:Y?String(Y):void 0,technology:B?String(B):void 0,description:K?String(K):void 0,sprite:U?String(U):void 0,tags:G?String(G):void 0,link:z?String(z):void 0,properties:Object.keys(q).length>0?q:void 0};X.push(L)},addPersonOrSystemBoundary:(...J)=>{let[W,H,Y,B,K,...U]=J,G={};for(let q of U)if(typeof q==="object")Object.assign(G,q);let z="boundary";if(Y==="ENTERPRISE")z="enterprise_boundary";else if(Y==="SYSTEM")z="system_boundary";let F={type:z,alias:String(W||""),label:H?String(H):void 0,tags:B?String(B):void 0,link:K?String(K):void 0,properties:Object.keys(G).length>0?G:void 0,children:[]};X.push(F),Q.push({boundary:F,parent:X}),X=F.children},addContainerBoundary:(...J)=>{let[W,H,Y,B,K,...U]=J,G={};for(let F of U)if(typeof F==="object")Object.assign(G,F);let z={type:"container_boundary",alias:String(W||""),label:H?String(H):void 0,tags:B?String(B):void 0,link:K?String(K):void 0,properties:Object.keys(G).length>0?G:void 0,children:[]};X.push(z),Q.push({boundary:z,parent:X}),X=z.children},addDeploymentNode:(J,...W)=>{let[H,Y,B,K,U,G,z,...F]=W,q={};for(let A of F)if(typeof A==="object")Object.assign(q,A);let L={type:J,alias:String(H||""),label:Y?String(Y):void 0,technology:B?String(B):void 0,description:K?String(K):void 0,sprite:U?String(U):void 0,tags:G?String(G):void 0,link:z?String(z):void 0,properties:Object.keys(q).length>0?q:void 0,children:[]};X.push(L),Q.push({boundary:L,parent:X}),X=L.children},popBoundaryParseStack:()=>{let J=Q.pop();if(J?.parent)X=J.parent;else X=Z.elements},addRel:(J,...W)=>{let[H,Y,B,K,U,G,z,F,...q]=W,L={};for(let k of q)if(typeof k==="object")Object.assign(L,k);let A={type:J,from:String(H||""),to:String(Y||""),label:B?String(B):void 0,technology:K?String(K):void 0,description:U?String(U):void 0,sprite:G?String(G):void 0,tags:z?String(z):void 0,link:F?String(F):void 0,properties:Object.keys(L).length>0?L:void 0};Z.relationships.push(A)},updateElStyle:(J,...W)=>{let[H,Y,B,K,U,G,z,F,q,L]=W,A={elementName:String(H||""),bgColor:Y||void 0,fontColor:B||void 0,borderColor:K||void 0,shadowing:U||void 0,shape:G||void 0,sprite:z||void 0,technology:F||void 0,legendText:q||void 0,legendSprite:L||void 0};Z.elementStyles.push(A)},updateRelStyle:(J,...W)=>{let[H,Y,B,K,U,G]=W,z={from:String(H||""),to:String(Y||""),textColor:B||void 0,lineColor:K||void 0,offsetX:U?Number.parseInt(U,10):void 0,offsetY:G?Number.parseInt(G,10):void 0};Z.relationshipStyles.push(z)},updateLayoutConfig:(J,...W)=>{let H,Y;for(let B of W)if(typeof B==="object"){if("c4ShapeInRow"in B)H=B.c4ShapeInRow;if("c4BoundaryInRow"in B)Y=B.c4BoundaryInRow}if(!H&&!Y&&W.length>0){let[B,K]=W;if(typeof B==="string")H=B;if(typeof K==="string")Y=K}Z.layoutConfig={c4ShapeInRow:H?Number.parseInt(H,10):void 0,c4BoundaryInRow:Y?Number.parseInt(Y,10):void 0}},clear:()=>{Z.elements=[],Z.relationships=[],Z.elementStyles=[],Z.relationshipStyles=[],Z.layoutConfig=void 0,Z.title=void 0,Z.accTitle=void 0,Z.accDescr=void 0,Z.direction=void 0,Q.length=0,X=Z.elements}}}function MH(Z){let Q=Z.trim();return Q.startsWith("C4Context")||Q.startsWith("C4Container")||Q.startsWith("C4Component")||Q.startsWith("C4Dynamic")||Q.startsWith("C4Deployment")}function V7(Z){let Q=Z.trim(),X="C4Context";if(Q.startsWith("C4Context"))X="C4Context";else if(Q.startsWith("C4Container"))X="C4Container";else if(Q.startsWith("C4Component"))X="C4Component";else if(Q.startsWith("C4Dynamic"))X="C4Dynamic";else if(Q.startsWith("C4Deployment"))X="C4Deployment";let J=GH(X),W=Q,H=W.match(/^(C4Context|C4Container|C4Component|C4Dynamic|C4Deployment)/);if(H){let Y=H[1],B=W.slice(Y.length);if(!B.startsWith(`
`)&&!B.startsWith("\r"))W=`${Y}
${B}`}g3.yy=cN(J);try{g3.parse(W)}catch(Y){console.error("C4 diagram parsing error:",Y)}return J}aQ();eX();function S8(Z){return Z.replace(/"/g,"\\\"")}function R9(...Z){let Q=[];for(let X of Z)if(X!==void 0&&X!=="")Q.push(`"${S8(X)}"`);else Q.push('""');while(Q.length>0&&Q[Q.length-1]==='""')Q.pop();return Q.join(", ")}function iN(Z){switch(Z){case"person":return"Person";case"external_person":return"Person_Ext"}}function sN(Z){switch(Z){case"system":return"System";case"system_db":return"SystemDb";case"system_queue":return"SystemQueue";case"external_system":return"System_Ext";case"external_system_db":return"SystemDb_Ext";case"external_system_queue":return"SystemQueue_Ext"}}function nN(Z){switch(Z){case"container":return"Container";case"container_db":return"ContainerDb";case"container_queue":return"ContainerQueue";case"external_container":return"Container_Ext";case"external_container_db":return"ContainerDb_Ext";case"external_container_queue":return"ContainerQueue_Ext"}}function oN(Z){switch(Z){case"component":return"Component";case"component_db":return"ComponentDb";case"component_queue":return"ComponentQueue";case"external_component":return"Component_Ext";case"external_component_db":return"ComponentDb_Ext";case"external_component_queue":return"ComponentQueue_Ext"}}function rN(Z){switch(Z){case"boundary":return"Boundary";case"enterprise_boundary":return"Enterprise_Boundary";case"system_boundary":return"System_Boundary";case"container_boundary":return"Container_Boundary"}}function aN(Z){switch(Z){case"node":return"Deployment_Node";case"nodeL":return"Node_L";case"nodeR":return"Node_R"}}function tN(Z){switch(Z){case"rel":return"Rel";case"birel":return"BiRel";case"rel_u":return"Rel_U";case"rel_d":return"Rel_D";case"rel_l":return"Rel_L";case"rel_r":return"Rel_R";case"rel_b":return"Rel_B"}}function eN(Z){let Q=iN(Z.type),X=R9(Z.alias,Z.label,Z.description,Z.sprite,Z.tags,Z.link);return`${Q}(${X})`}function ZR(Z){let Q=sN(Z.type),X=R9(Z.alias,Z.label,Z.description,Z.sprite,Z.tags,Z.link);return`${Q}(${X})`}function QR(Z){let Q=nN(Z.type),X=R9(Z.alias,Z.label,Z.technology,Z.description,Z.sprite,Z.tags,Z.link);return`${Q}(${X})`}function XR(Z){let Q=oN(Z.type),X=R9(Z.alias,Z.label,Z.technology,Z.description,Z.sprite,Z.tags,Z.link);return`${Q}(${X})`}function JR(Z){let Q=rN(Z.type),X=R9(Z.alias,Z.label,Z.tags,Z.link);return[`${Q}(${X}) {`,ZQ(Z.children.map((J)=>V3(J))),"}"]}function WR(Z){let Q=aN(Z.type),X=R9(Z.alias,Z.label,Z.technology,Z.description,Z.sprite,Z.tags,Z.link);return[`${Q}(${X}) {`,ZQ(Z.children.map((J)=>V3(J))),"}"]}function V3(Z){if(zH(Z))return eN(Z);if(FH(Z))return ZR(Z);if(qH(Z))return QR(Z);if(wH(Z))return XR(Z);if(W9(Z))return JR(Z);if(H9(Z))return WR(Z);return null}function HR(Z){let Q=tN(Z.type),X=R9(Z.from,Z.to,Z.label,Z.technology,Z.description,Z.sprite,Z.tags,Z.link);return`${Q}(${X})`}function YR(Z){return`UpdateElementStyle(${R9(Z.elementName,Z.bgColor,Z.fontColor,Z.borderColor,Z.shadowing,Z.shape,Z.sprite,Z.technology,Z.legendText,Z.legendSprite)})`}function BR(Z){let Q=[`"${S8(Z.from)}"`,`"${S8(Z.to)}"`];if(Z.textColor)Q.push(`"${S8(Z.textColor)}"`);if(Z.lineColor)Q.push(`"${S8(Z.lineColor)}"`);if(Z.offsetX!==void 0)Q.push(String(Z.offsetX));if(Z.offsetY!==void 0)Q.push(String(Z.offsetY));return`UpdateRelStyle(${Q.join(", ")})`}function h7(Z,Q){let X=QQ(Q),J=[Z.diagramType,KQ(Z.direction,`direction ${Z.direction}`),KQ(Z.title,`title ${Z.title}`),KQ(Z.accTitle,`accTitle: ${Z.accTitle}`),KQ(Z.accDescr,`accDescr: ${Z.accDescr}`),ZQ(Z.elements.map((W)=>V3(W))),ZQ(Z.relationships.map((W)=>HR(W))),ZQ(Z.elementStyles.map((W)=>YR(W))),ZQ(Z.relationshipStyles.map((W)=>BR(W))),KQ(Z.layoutConfig,()=>{let W=[];if(Z.layoutConfig?.c4ShapeInRow!==void 0)W.push(String(Z.layoutConfig.c4ShapeInRow));if(Z.layoutConfig?.c4BoundaryInRow!==void 0)W.push(String(Z.layoutConfig.c4BoundaryInRow));return W.length>0?ZQ([`UpdateLayoutConfig(${W.join(", ")})`]):null})];return xQ(J,X.indent)}class k7 extends tZ{constructor(Z){super(Z)}static create(Z="C4Context"){return new k7(GH(Z))}static from(Z){return new k7(Z)}static parse(Z){return new k7(V7(Z))}render(Z){return h7(this.ast,Z)}clone(){return new k7(structuredClone(this.ast))}get diagramType(){return this.ast.diagramType}setDiagramType(Z){return this.ast.diagramType=Z,this}get title(){return this.ast.title}setTitle(Z){return this.ast.title=Z,this}get direction(){return this.ast.direction}setDirection(Z){return this.ast.direction=Z,this}get elements(){return this.ast.elements}get elementCount(){return this.ast.elements.length}addPerson(Z,Q={}){let J={type:Q.external?"external_person":"person",alias:Z,label:Q.label,description:Q.description,sprite:Q.sprite,tags:Q.tags,link:Q.link};return this.ast.elements.push(J),this}addSystem(Z,Q={}){let X,J=Q.variant||"default";if(Q.external||!1)switch(J){case"db":X="external_system_db";break;case"queue":X="external_system_queue";break;default:X="external_system"}else switch(J){case"db":X="system_db";break;case"queue":X="system_queue";break;default:X="system"}let H={type:X,alias:Z,label:Q.label,description:Q.description,sprite:Q.sprite,tags:Q.tags,link:Q.link};return this.ast.elements.push(H),this}addContainer(Z,Q={}){let X,J=Q.variant||"default";if(Q.external||!1)switch(J){case"db":X="external_container_db";break;case"queue":X="external_container_queue";break;default:X="external_container"}else switch(J){case"db":X="container_db";break;case"queue":X="container_queue";break;default:X="container"}let H={type:X,alias:Z,label:Q.label,technology:Q.technology,description:Q.description,sprite:Q.sprite,tags:Q.tags,link:Q.link};return this.ast.elements.push(H),this}addComponent(Z,Q={}){let X,J=Q.variant||"default";if(Q.external||!1)switch(J){case"db":X="external_component_db";break;case"queue":X="external_component_queue";break;default:X="external_component"}else switch(J){case"db":X="component_db";break;case"queue":X="component_queue";break;default:X="component"}let H={type:X,alias:Z,label:Q.label,technology:Q.technology,description:Q.description,sprite:Q.sprite,tags:Q.tags,link:Q.link};return this.ast.elements.push(H),this}addBoundary(Z,Q="boundary",X={}){let J={type:Q,alias:Z,label:X.label,tags:X.tags,link:X.link,children:[]};return this.ast.elements.push(J),this}addDeploymentNode(Z,Q={}){let X;switch(Q.variant){case"left":X="nodeL";break;case"right":X="nodeR";break;default:X="node"}let J={type:X,alias:Z,label:Q.label,technology:Q.technology,description:Q.description,sprite:Q.sprite,tags:Q.tags,link:Q.link,children:[]};return this.ast.elements.push(J),this}addToBoundary(Z,Q){let X=this.findBoundary(Z);if(X)X.children.push(Q);return this}findBoundary(Z){let Q=(X)=>{for(let J of X){if((W9(J)||H9(J))&&J.alias===Z)return J;if(W9(J)||H9(J)){let W=Q(J.children);if(W)return W}}return};return Q(this.ast.elements)}getElement(Z){let Q=(X)=>{for(let J of X){if("alias"in J&&J.alias===Z)return J;if(W9(J)||H9(J)){let W=Q(J.children);if(W)return W}}return};return Q(this.ast.elements)}findElements(Z){let Q=[],X=(J)=>{for(let W of J){let H=!0;if(Z.type&&W.type!==Z.type)H=!1;if(Z.alias&&"alias"in W&&W.alias!==Z.alias)H=!1;if(Z.aliasContains&&"alias"in W&&!W.alias.includes(Z.aliasContains))H=!1;if(Z.labelContains){let Y="label"in W?W.label:void 0;if(!Y||!Y.includes(Z.labelContains))H=!1}if(H)Q.push(W);if(W9(W)||H9(W))X(W.children)}};return X(this.ast.elements),Q}removeElement(Z){let Q=(X)=>{for(let J=0;J<X.length;J++){let W=X[J];if("alias"in W&&W.alias===Z)return X.splice(J,1),!0;if(W9(W)||H9(W)){if(Q(W.children))return!0}}return!1};return Q(this.ast.elements),this}get relationships(){return this.ast.relationships}get relationshipCount(){return this.ast.relationships.length}addRelationship(Z,Q,X={}){let J={type:X.type||"rel",from:Z,to:Q,label:X.label,technology:X.technology,description:X.description,sprite:X.sprite,tags:X.tags,link:X.link};return this.ast.relationships.push(J),this}findRelationships(Z){return this.ast.relationships.filter((Q)=>{if(Z.from&&Q.from!==Z.from)return!1;if(Z.to&&Q.to!==Z.to)return!1;if(Z.type&&Q.type!==Z.type)return!1;if(Z.labelContains&&(!Q.label||!Q.label.includes(Z.labelContains)))return!1;return!0})}getRelationshipsFrom(Z){return this.ast.relationships.filter((Q)=>Q.from===Z)}getRelationshipsTo(Z){return this.ast.relationships.filter((Q)=>Q.to===Z)}removeRelationship(Z,Q){let X=this.ast.relationships.findIndex((J)=>J.from===Z&&J.to===Q);if(X!==-1)this.ast.relationships.splice(X,1);return this}addElementStyle(Z,Q){return this.ast.elementStyles.push({elementName:Z,...Q}),this}addRelationshipStyle(Z,Q,X){return this.ast.relationshipStyles.push({from:Z,to:Q,...X}),this}getPeople(){return this.findElements({}).filter(zH)}getSystems(){return this.findElements({}).filter(FH)}getContainers(){return this.findElements({}).filter(qH)}getComponents(){return this.findElements({}).filter(wH)}getBoundaries(){return this.findElements({}).filter(W9)}getDeploymentNodes(){return this.findElements({}).filter(H9)}}function LH(){return{type:"classDiagram",direction:"TB",classes:new Map,relations:[],namespaces:new Map,notes:[],classDefs:new Map}}var h3=function(){var Z=function(GZ,HZ,t,zZ){for(t=t||{},zZ=GZ.length;zZ--;t[GZ[zZ]]=HZ);return t},Q=[1,18],X=[1,19],J=[1,20],W=[1,41],H=[1,42],Y=[1,26],B=[1,24],K=[1,25],U=[1,32],G=[1,33],z=[1,34],F=[1,45],q=[1,35],L=[1,36],A=[1,37],k=[1,38],T=[1,27],p=[1,28],s=[1,29],y=[1,30],C=[1,31],P=[1,44],g=[1,46],f=[1,43],O=[1,47],h=[1,9],w=[1,8,9],$=[1,58],j=[1,59],n=[1,60],d=[1,61],m=[1,62],b=[1,63],u=[1,64],S=[1,8,9,41],l=[1,76],I=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],QZ=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],WZ=[13,60,86,100,102,103],MZ=[13,60,73,74,86,100,102,103],r=[13,60,68,69,70,71,72,86,100,102,103],qZ=[1,100],BZ=[1,117],DZ=[1,113],UZ=[1,109],AZ=[1,115],e=[1,110],ZZ=[1,111],i=[1,112],V=[1,114],o=[1,116],N=[22,48,60,61,82,86,87,88,89,90],YZ=[1,8,9,39,41,44],M=[1,8,9,22],mZ=[1,145],a=[1,8,9,61],IZ=[1,8,9,22,48,60,61,82,86,87,88,89,90],nZ={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:function(HZ,t,zZ,x,EZ,E,PZ){var R=E.length-1;switch(EZ){case 8:this.$=E[R-1];break;case 9:case 10:case 13:case 15:this.$=E[R];break;case 11:case 14:this.$=E[R-2]+"."+E[R];break;case 12:case 16:this.$=E[R-1]+E[R];break;case 17:case 18:this.$=E[R-1]+"~"+E[R]+"~";break;case 19:x.addRelation(E[R]);break;case 20:E[R-1].title=x.cleanupLabel(E[R]),x.addRelation(E[R-1]);break;case 31:this.$=E[R].trim(),x.setAccTitle(this.$);break;case 32:case 33:this.$=E[R].trim(),x.setAccDescription(this.$);break;case 34:x.addClassesToNamespace(E[R-3],E[R-1]);break;case 35:x.addClassesToNamespace(E[R-4],E[R-1]);break;case 36:this.$=E[R],x.addNamespace(E[R]);break;case 37:this.$=[E[R]];break;case 38:this.$=[E[R-1]];break;case 39:E[R].unshift(E[R-2]),this.$=E[R];break;case 41:x.setCssClass(E[R-2],E[R]);break;case 42:x.addMembers(E[R-3],E[R-1]);break;case 44:x.setCssClass(E[R-5],E[R-3]),x.addMembers(E[R-5],E[R-1]);break;case 45:this.$=E[R],x.addClass(E[R]);break;case 46:this.$=E[R-1],x.addClass(E[R-1]),x.setClassLabel(E[R-1],E[R]);break;case 50:x.addAnnotation(E[R],E[R-2]);break;case 51:case 64:this.$=[E[R]];break;case 52:E[R].push(E[R-1]),this.$=E[R];break;case 53:break;case 54:x.addMember(E[R-1],x.cleanupLabel(E[R]));break;case 55:break;case 56:break;case 57:this.$={id1:E[R-2],id2:E[R],relation:E[R-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:E[R-3],id2:E[R],relation:E[R-1],relationTitle1:E[R-2],relationTitle2:"none"};break;case 59:this.$={id1:E[R-3],id2:E[R],relation:E[R-2],relationTitle1:"none",relationTitle2:E[R-1]};break;case 60:this.$={id1:E[R-4],id2:E[R],relation:E[R-2],relationTitle1:E[R-3],relationTitle2:E[R-1]};break;case 61:x.addNote(E[R],E[R-1]);break;case 62:x.addNote(E[R]);break;case 63:this.$=E[R-2],x.defineClass(E[R-1],E[R]);break;case 65:this.$=E[R-2].concat([E[R]]);break;case 66:x.setDirection("TB");break;case 67:x.setDirection("BT");break;case 68:x.setDirection("RL");break;case 69:x.setDirection("LR");break;case 70:this.$={type1:E[R-2],type2:E[R],lineType:E[R-1]};break;case 71:this.$={type1:"none",type2:E[R],lineType:E[R-1]};break;case 72:this.$={type1:E[R-1],type2:"none",lineType:E[R]};break;case 73:this.$={type1:"none",type2:"none",lineType:E[R]};break;case 74:this.$=x.relationType.AGGREGATION;break;case 75:this.$=x.relationType.EXTENSION;break;case 76:this.$=x.relationType.COMPOSITION;break;case 77:this.$=x.relationType.DEPENDENCY;break;case 78:this.$=x.relationType.LOLLIPOP;break;case 79:this.$=x.lineType.LINE;break;case 80:this.$=x.lineType.DOTTED_LINE;break;case 81:case 87:this.$=E[R-2],x.setClickEvent(E[R-1],E[R]);break;case 82:case 88:this.$=E[R-3],x.setClickEvent(E[R-2],E[R-1]),x.setTooltip(E[R-2],E[R]);break;case 83:this.$=E[R-2],x.setLink(E[R-1],E[R]);break;case 84:this.$=E[R-3],x.setLink(E[R-2],E[R-1],E[R]);break;case 85:this.$=E[R-3],x.setLink(E[R-2],E[R-1]),x.setTooltip(E[R-2],E[R]);break;case 86:this.$=E[R-4],x.setLink(E[R-3],E[R-2],E[R]),x.setTooltip(E[R-3],E[R-1]);break;case 89:this.$=E[R-3],x.setClickEvent(E[R-2],E[R-1],E[R]);break;case 90:this.$=E[R-4],x.setClickEvent(E[R-3],E[R-2],E[R-1]),x.setTooltip(E[R-3],E[R]);break;case 91:this.$=E[R-3],x.setLink(E[R-2],E[R]);break;case 92:this.$=E[R-4],x.setLink(E[R-3],E[R-1],E[R]);break;case 93:this.$=E[R-4],x.setLink(E[R-3],E[R-1]),x.setTooltip(E[R-3],E[R]);break;case 94:this.$=E[R-5],x.setLink(E[R-4],E[R-2],E[R]),x.setTooltip(E[R-4],E[R-1]);break;case 95:this.$=E[R-2],x.setCssStyle(E[R-1],E[R]);break;case 96:x.setCssClass(E[R-1],E[R]);break;case 97:this.$=[E[R]];break;case 98:E[R-2].push(E[R]),this.$=E[R-2];break;case 100:this.$=E[R-1]+E[R];break}},table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:Q,35:X,37:J,38:22,42:W,43:23,46:H,49:Y,51:B,52:K,54:U,56:G,57:z,60:F,62:q,63:L,64:A,65:k,75:T,76:p,78:s,82:y,83:C,86:P,100:g,102:f,103:O},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},Z(h,[2,5],{8:[1,48]}),{8:[1,49]},Z(w,[2,19],{22:[1,50]}),Z(w,[2,21]),Z(w,[2,22]),Z(w,[2,23]),Z(w,[2,24]),Z(w,[2,25]),Z(w,[2,26]),Z(w,[2,27]),Z(w,[2,28]),Z(w,[2,29]),Z(w,[2,30]),{34:[1,51]},{36:[1,52]},Z(w,[2,33]),Z(w,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:$,69:j,70:n,71:d,72:m,73:b,74:u}),{39:[1,65]},Z(S,[2,40],{39:[1,67],44:[1,66]}),Z(w,[2,55]),Z(w,[2,56]),{16:68,60:F,86:P,100:g,102:f},{16:39,17:40,19:69,60:F,86:P,100:g,102:f,103:O},{16:39,17:40,19:70,60:F,86:P,100:g,102:f,103:O},{16:39,17:40,19:71,60:F,86:P,100:g,102:f,103:O},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:F,86:P,100:g,102:f,103:O},{13:l,55:75},{58:77,60:[1,78]},Z(w,[2,66]),Z(w,[2,67]),Z(w,[2,68]),Z(w,[2,69]),Z(I,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:F,86:P,100:g,102:f,103:O}),Z(I,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:F,86:P,100:g,102:f,103:O},{16:39,17:40,19:86,60:F,86:P,100:g,102:f,103:O},Z(QZ,[2,123]),Z(QZ,[2,124]),Z(QZ,[2,125]),Z(QZ,[2,126]),Z([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),Z(h,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:Q,35:X,37:J,42:W,46:H,49:Y,51:B,52:K,54:U,56:G,57:z,60:F,62:q,63:L,64:A,65:k,75:T,76:p,78:s,82:y,83:C,86:P,100:g,102:f,103:O}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:Q,35:X,37:J,38:22,42:W,43:23,46:H,49:Y,51:B,52:K,54:U,56:G,57:z,60:F,62:q,63:L,64:A,65:k,75:T,76:p,78:s,82:y,83:C,86:P,100:g,102:f,103:O},Z(w,[2,20]),Z(w,[2,31]),Z(w,[2,32]),{13:[1,90],16:39,17:40,19:89,60:F,86:P,100:g,102:f,103:O},{53:91,66:56,67:57,68:$,69:j,70:n,71:d,72:m,73:b,74:u},Z(w,[2,54]),{67:92,73:b,74:u},Z(WZ,[2,73],{66:93,68:$,69:j,70:n,71:d,72:m}),Z(MZ,[2,74]),Z(MZ,[2,75]),Z(MZ,[2,76]),Z(MZ,[2,77]),Z(MZ,[2,78]),Z(r,[2,79]),Z(r,[2,80]),{8:[1,95],24:96,40:94,43:23,46:H},{16:97,60:F,86:P,100:g,102:f},{41:[1,99],45:98,51:qZ},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:BZ,48:DZ,59:106,60:UZ,82:AZ,84:107,85:108,86:e,87:ZZ,88:i,89:V,90:o},{60:[1,118]},{13:l,55:119},Z(w,[2,62]),Z(w,[2,128]),{22:BZ,48:DZ,59:120,60:UZ,61:[1,121],82:AZ,84:107,85:108,86:e,87:ZZ,88:i,89:V,90:o},Z(N,[2,64]),{16:39,17:40,19:122,60:F,86:P,100:g,102:f,103:O},Z(I,[2,16]),Z(I,[2,17]),Z(I,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:F,86:P,100:g,102:f,103:O},{39:[2,10]},Z(YZ,[2,45],{11:125,12:[1,126]}),Z(h,[2,7]),{9:[1,127]},Z(M,[2,57]),{16:39,17:40,19:128,60:F,86:P,100:g,102:f,103:O},{13:[1,130],16:39,17:40,19:129,60:F,86:P,100:g,102:f,103:O},Z(WZ,[2,72],{66:131,68:$,69:j,70:n,71:d,72:m}),Z(WZ,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:H},{8:[1,134],41:[2,37]},Z(S,[2,41],{39:[1,135]}),{41:[1,136]},Z(S,[2,43]),{41:[2,51],45:137,51:qZ},{16:39,17:40,19:138,60:F,86:P,100:g,102:f,103:O},Z(w,[2,81],{13:[1,139]}),Z(w,[2,83],{13:[1,141],77:[1,140]}),Z(w,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},Z(w,[2,95],{61:mZ}),Z(a,[2,97],{85:146,22:BZ,48:DZ,60:UZ,82:AZ,86:e,87:ZZ,88:i,89:V,90:o}),Z(IZ,[2,99]),Z(IZ,[2,101]),Z(IZ,[2,102]),Z(IZ,[2,103]),Z(IZ,[2,104]),Z(IZ,[2,105]),Z(IZ,[2,106]),Z(IZ,[2,107]),Z(IZ,[2,108]),Z(IZ,[2,109]),Z(w,[2,96]),Z(w,[2,61]),Z(w,[2,63],{61:mZ}),{60:[1,147]},Z(I,[2,14]),{15:148,16:84,17:85,60:F,86:P,100:g,102:f,103:O},{39:[2,12]},Z(YZ,[2,46]),{13:[1,149]},{1:[2,4]},Z(M,[2,59]),Z(M,[2,58]),{16:39,17:40,19:150,60:F,86:P,100:g,102:f,103:O},Z(WZ,[2,70]),Z(w,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:H},{45:153,51:qZ},Z(S,[2,42]),{41:[2,52]},Z(w,[2,50]),Z(w,[2,82]),Z(w,[2,84]),Z(w,[2,85],{77:[1,154]}),Z(w,[2,88]),Z(w,[2,89],{13:[1,155]}),Z(w,[2,91],{13:[1,157],77:[1,156]}),{22:BZ,48:DZ,60:UZ,82:AZ,84:158,85:108,86:e,87:ZZ,88:i,89:V,90:o},Z(IZ,[2,100]),Z(N,[2,65]),{39:[2,11]},{14:[1,159]},Z(M,[2,60]),Z(w,[2,35]),{41:[2,39]},{41:[1,160]},Z(w,[2,86]),Z(w,[2,90]),Z(w,[2,92]),Z(w,[2,93],{77:[1,161]}),Z(a,[2,98],{85:146,22:BZ,48:DZ,60:UZ,82:AZ,86:e,87:ZZ,88:i,89:V,90:o}),Z(YZ,[2,8]),Z(S,[2,44]),Z(w,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:function(HZ,t){if(t.recoverable)this.trace(HZ);else{var zZ=Error(HZ);throw zZ.hash=t,zZ}},parse:function(HZ){var t=this,zZ=[0],x=[],EZ=[null],E=[],PZ=this.table,R="",FZ=0,JZ=0,jZ=0,OZ=2,KZ=1,GQ=E.slice.call(arguments,1),wZ=Object.create(this.lexer),FQ={yy:{}};for(var qQ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,qQ))FQ.yy[qQ]=this.yy[qQ];if(wZ.setInput(HZ,FQ.yy),FQ.yy.lexer=wZ,FQ.yy.parser=this,typeof wZ.yylloc>"u")wZ.yylloc={};var JX=wZ.yylloc;E.push(JX);var lZ=wZ.options&&wZ.options.ranges;if(typeof FQ.yy.parseError==="function")this.parseError=FQ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function JQ(gZ){zZ.length=zZ.length-2*gZ,EZ.length=EZ.length-gZ,E.length=E.length-gZ}function EQ(){var gZ=x.pop()||wZ.lex()||KZ;if(typeof gZ!=="number"){if(gZ instanceof Array)x=gZ,gZ=x.pop();gZ=t.symbols_[gZ]||gZ}return gZ}var uZ,wQ,OX,dZ,rZ,$Z,iZ={},bZ,VZ,hZ,_Z;while(!0){if(OX=zZ[zZ.length-1],this.defaultActions[OX])dZ=this.defaultActions[OX];else{if(uZ===null||typeof uZ>"u")uZ=EQ();dZ=PZ[OX]&&PZ[OX][uZ]}if(typeof dZ>"u"||!dZ.length||!dZ[0]){var PX="";_Z=[];for(bZ in PZ[OX])if(this.terminals_[bZ]&&bZ>OZ)_Z.push("'"+this.terminals_[bZ]+"'");if(wZ.showPosition)PX="Parse error on line "+(FZ+1)+`:
`+wZ.showPosition()+`
Expecting `+_Z.join(", ")+", got '"+(this.terminals_[uZ]||uZ)+"'";else PX="Parse error on line "+(FZ+1)+": Unexpected "+(uZ==KZ?"end of input":"'"+(this.terminals_[uZ]||uZ)+"'");this.parseError(PX,{text:wZ.match,token:this.terminals_[uZ]||uZ,line:wZ.yylineno,loc:JX,expected:_Z})}if(dZ[0]instanceof Array&&dZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+OX+", token: "+uZ);switch(dZ[0]){case 1:if(zZ.push(uZ),EZ.push(wZ.yytext),E.push(wZ.yylloc),zZ.push(dZ[1]),uZ=null,!wQ){if(JZ=wZ.yyleng,R=wZ.yytext,FZ=wZ.yylineno,JX=wZ.yylloc,jZ>0)jZ--}else uZ=wQ,wQ=null;break;case 2:if(VZ=this.productions_[dZ[1]][1],iZ.$=EZ[EZ.length-VZ],iZ._$={first_line:E[E.length-(VZ||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(VZ||1)].first_column,last_column:E[E.length-1].last_column},lZ)iZ._$.range=[E[E.length-(VZ||1)].range[0],E[E.length-1].range[1]];if($Z=this.performAction.apply(iZ,[R,JZ,FZ,FQ.yy,dZ[1],EZ,E].concat(GQ)),typeof $Z<"u")return $Z;if(VZ)zZ=zZ.slice(0,-1*VZ*2),EZ=EZ.slice(0,-1*VZ),E=E.slice(0,-1*VZ);zZ.push(this.productions_[dZ[1]][0]),EZ.push(iZ.$),E.push(iZ._$),hZ=PZ[zZ[zZ.length-2]][zZ[zZ.length-1]],zZ.push(hZ);break;case 3:return!0}}return!0}},vZ=function(){var GZ={EOF:1,parseError:function(t,zZ){if(this.yy.parser)this.yy.parser.parseError(t,zZ);else throw Error(t)},setInput:function(HZ,t){if(this.yy=t||this.yy||{},this._input=HZ,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var HZ=this._input[0];this.yytext+=HZ,this.yyleng++,this.offset++,this.match+=HZ,this.matched+=HZ;var t=HZ.match(/(?:\r\n?|\n).*/g);if(t)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),HZ},unput:function(HZ){var t=HZ.length,zZ=HZ.split(/(?:\r\n?|\n)/g);this._input=HZ+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var x=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),zZ.length-1)this.yylineno-=zZ.length-1;var EZ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:zZ?(zZ.length===x.length?this.yylloc.first_column:0)+x[x.length-zZ.length].length-zZ[0].length:this.yylloc.first_column-t},this.options.ranges)this.yylloc.range=[EZ[0],EZ[0]+this.yyleng-t];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(HZ){this.unput(this.match.slice(HZ))},pastInput:function(){var HZ=this.matched.substr(0,this.matched.length-this.match.length);return(HZ.length>20?"...":"")+HZ.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var HZ=this.match;if(HZ.length<20)HZ+=this._input.substr(0,20-HZ.length);return(HZ.substr(0,20)+(HZ.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var HZ=this.pastInput(),t=Array(HZ.length+1).join("-");return HZ+this.upcomingInput()+`
`+t+"^"},test_match:function(HZ,t){var zZ,x,EZ;if(this.options.backtrack_lexer){if(EZ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)EZ.yylloc.range=this.yylloc.range.slice(0)}if(x=HZ[0].match(/(?:\r\n?|\n).*/g),x)this.yylineno+=x.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+HZ[0].length},this.yytext+=HZ[0],this.match+=HZ[0],this.matches=HZ,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(HZ[0].length),this.matched+=HZ[0],zZ=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(zZ)return zZ;else if(this._backtrack){for(var E in EZ)this[E]=EZ[E];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var HZ,t,zZ,x;if(!this._more)this.yytext="",this.match="";var EZ=this._currentRules();for(var E=0;E<EZ.length;E++)if(zZ=this._input.match(this.rules[EZ[E]]),zZ&&(!t||zZ[0].length>t[0].length)){if(t=zZ,x=E,this.options.backtrack_lexer)if(HZ=this.test_match(zZ,EZ[E]),HZ!==!1)return HZ;else if(this._backtrack){t=!1;continue}else return!1;else if(!this.options.flex)break}if(t){if(HZ=this.test_match(t,EZ[x]),HZ!==!1)return HZ;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();if(t)return t;else return this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;if(t>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(t){if(t=this.conditionStack.length-1-Math.abs(t||0),t>=0)return this.conditionStack[t];else return"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,zZ,x,EZ){var E=EZ;switch(x){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),35;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;break;case 30:return this.popState(),8;break;case 31:break;case 32:return this.begin("namespace-body"),39;break;case 33:return this.popState(),41;break;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;break;case 39:return this.popState(),8;break;case 40:break;case 41:return this.popState(),this.popState(),41;break;case 42:return this.begin("class-body"),39;break;case 43:return this.popState(),41;break;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return GZ}();nZ.lexer=vZ;function LZ(){this.yy={}}return LZ.prototype=nZ,nZ.Parser=LZ,new LZ}();h3.parser=h3;var k3=h3;function mz(Z){let Q=Z.trim(),X,J=Q;if(Q.startsWith("+"))X="+",J=Q.slice(1).trim();else if(Q.startsWith("-"))X="-",J=Q.slice(1).trim();else if(Q.startsWith("#"))X="#",J=Q.slice(1).trim();else if(Q.startsWith("~"))X="~",J=Q.slice(1).trim();let W=J.includes("(")&&J.includes(")");return{text:J,visibility:X,type:W?"method":"attribute"}}function uz(Z){if(typeof Z==="string")return Z;switch(Z){case 0:return"aggregation";case 1:return"extension";case 2:return"composition";case 3:return"dependency";case 4:return"lollipop";default:return"none"}}function KR(Z){if(typeof Z==="string")return Z;return Z===0?"solid":"dotted"}function UR(Z){function Q(X){let J=Z.classes.get(X);if(!J)J={id:X,members:[],annotations:[],cssClasses:[],styles:[]},Z.classes.set(X,J);return J}return{relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},lineType:{LINE:0,DOTTED_LINE:1},setDirection(X){Z.direction=X},addClass(X){Q(X)},setClassLabel(X,J){let W=Q(X);W.label=J},addMembers(X,J){let W=Q(X);for(let H of J)if(H.trim())W.members.push(mz(H))},addMember(X,J){let W=Q(X);if(J.trim())W.members.push(mz(J))},addRelation(X){Q(X.id1),Q(X.id2);let J={id1:X.id1,id2:X.id2,relation:{type1:uz(X.relation.type1),type2:uz(X.relation.type2),lineType:KR(X.relation.lineType)}};if(X.relationTitle1&&X.relationTitle1!=="none")J.relationTitle1=X.relationTitle1;if(X.relationTitle2&&X.relationTitle2!=="none")J.relationTitle2=X.relationTitle2;if(X.title)J.title=X.title;Z.relations.push(J)},addAnnotation(X,J){Q(X).annotations.push(J)},addNamespace(X){if(!Z.namespaces.has(X))Z.namespaces.set(X,{name:X,classes:[]})},addClassesToNamespace(X,J){let W=Z.namespaces.get(X);if(!W)W={name:X,classes:[]},Z.namespaces.set(X,W);for(let H of J)if(!W.classes.includes(H))W.classes.push(H)},addNote(X,J){let W={text:X};if(J)W.forClass=J;Z.notes.push(W)},setCssClass(X,J){let W=X.split(",").map((H)=>H.trim()).filter((H)=>H.length>0);for(let H of W){let Y=Q(H);if(!Y.cssClasses.includes(J))Y.cssClasses.push(J)}},setCssStyle(X,J){Q(X).styles.push(...J)},defineClass(X,J){for(let W of X)Z.classDefs.set(W,{name:W,styles:J})},setClickEvent(X,J,W){let H=Q(X);if(H.callback=J,W)H.callbackArgs=W},setLink(X,J,W){let H=Q(X);if(H.link=J,W)H.linkTarget=W},setTooltip(X,J){let W=Q(X);W.tooltip=J},cleanupLabel(X){let J=X;if(J.startsWith(":"))J=J.slice(1);if(J=J.trim(),J.startsWith('"')&&J.endsWith('"')||J.startsWith("'")&&J.endsWith("'"))J=J.slice(1,-1);return J},setAccTitle(X){Z.accTitle=X},setAccDescription(X){Z.accDescription=X},getTooltip:()=>{return},lookUpDomId:(X)=>X,setDiagramTitle:()=>{},getDiagramTitle:()=>"",getConfig:()=>({}),clear:()=>{}}}function m7(Z){let Q=LH(),X=UR(Q);k3.yy=X;try{k3.parse(Z)}catch(J){if(J instanceof Error)throw Error(`Failed to parse class diagram: ${J.message}`);throw J}for(let[,J]of Q.classes)J.members.reverse();return Q}function DH(Z){let X=Z.trim().split(`
`)[0].trim().toLowerCase();return X.startsWith("classdiagram")||X.startsWith("classdiagram-v2")}aQ();eX();function pz(Z,Q){switch(Z){case"aggregation":return"o";case"extension":return Q?"<|":"|>";case"composition":return"*";case"dependency":return Q?"<":">";case"lollipop":return"()";case"none":return"";default:return M0(Z)}}function GR(Z){switch(Z){case"dotted":return"..";case"solid":return"--";default:return M0(Z)}}function zR(Z){let{id1:Q,id2:X,relation:J,relationTitle1:W,relationTitle2:H,title:Y}=Z,B=pz(J.type1,!0),K=pz(J.type2,!1),U=GR(J.lineType),G=`${B}${U}${K}`,z=Q;if(W)z+=` "${W}"`;if(z+=` ${G}`,H)z+=` "${H}"`;if(z+=` ${X}`,Y)z+=` : ${Y}`;return z}function FR(Z){return`${Z.visibility||""}${Z.text}`}function yz(Z,Q){let X=Z.members.length>0,J=Z.label&&Z.label!==Z.id;if(X){let W=J?`class ${Z.id}["${Z.label}"] {`:`class ${Z.id} {`;return NX(W,Z.members.map(FR),"}")}if(J)return`class ${Z.id}["${Z.label}"]`;if(!Q)return`class ${Z.id}`;return null}function qR(Z){return Z.annotations.map((Q)=>`<<${Q}>> ${Z.id}`)}function wR(Z,Q,X,J){let W=Q.map((H)=>{let Y=X.classes.get(H);if(!Y)return null;return yz(Y,J.has(H))}).filter(Boolean);return NX(`namespace ${Z} {`,W,"}")}function MR(Z){return Z.map((Q)=>Q.forClass?`note for ${Q.forClass} "${Q.text}"`:`note "${Q.text}"`)}function LR(Z){return[...Z.classDefs.entries()].map(([X,J])=>{let W=J.styles.join(",");return`classDef ${X} ${W}`})}function DR(Z){let Q=[];for(let[,X]of Z.classes)for(let J of X.cssClasses)Q.push(`cssClass "${X.id}" ${J}`);return Q}function ER(Z){let Q=[];for(let[,X]of Z.classes)if(X.link){let J=X.linkTarget?` ${X.linkTarget}`:"",W=X.tooltip?` "${X.tooltip}"`:"";Q.push(`link ${X.id} "${X.link}"${W}${J}`)}else if(X.callback){let J=X.callbackArgs?`("${X.callbackArgs}")`:"",W=X.tooltip?` "${X.tooltip}"`:"";Q.push(`callback ${X.id} "${X.callback}"${J}${W}`)}return Q}function u7(Z,Q){let X=QQ(Q),J=new Set;for(let[,B]of Z.namespaces)for(let K of B.classes)J.add(K);let W=new Set;for(let B of Z.relations)W.add(B.id1),W.add(B.id2);let H=[...Z.classes.entries()];if(X.sortNodes)H.sort((B,K)=>B[0].localeCompare(K[0]));let Y=["classDiagram",ZQ([KQ(Z.direction&&Z.direction!=="TB",`direction ${Z.direction}`),...[...Z.namespaces.entries()].map(([B,K])=>wR(B,K.classes,Z,W)),...H.filter(([,B])=>B.annotations.length>0).map(([,B])=>qR(B)),...H.filter(([B])=>!J.has(B)).map(([B,K])=>yz(K,W.has(B))),...Z.relations.map(zR),MR(Z.notes),LR(Z),DR(Z),ER(Z)])];return xQ(Y,X.indent)}class p7 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=LH();if(Z)Q.direction=Z;return new p7(Q)}static from(Z){return new p7(structuredClone(Z))}static parse(Z){return new p7(m7(Z))}render(Z){return u7(this.ast,Z)}clone(){return new p7(structuredClone(this.ast))}get direction(){return this.ast.direction}get classCount(){return this.ast.classes.size}get relationCount(){return this.ast.relations.length}get classes(){return new Map(Array.from(this.ast.classes.entries()).map(([Z,Q])=>[Z,{id:Q.id,label:Q.label,memberCount:Q.members.length}]))}setDirection(Z){return this.ast.direction=Z,this}addClass(Z,Q){let X={id:Z,label:Q?.label,members:[],annotations:Q?.annotation?[Q.annotation]:[],cssClasses:[],styles:[]};return this.ast.classes.set(Z,X),this}removeClass(Z,Q){if(this.ast.classes.delete(Z),Q?.removeRelations)this.ast.relations=this.ast.relations.filter((X)=>X.id1!==Z&&X.id2!==Z);return this}renameClass(Z,Q){let X=this.ast.classes.get(Z);if(X){X.id=Q,this.ast.classes.delete(Z),this.ast.classes.set(Q,X);for(let J of this.ast.relations){if(J.id1===Z)J.id1=Q;if(J.id2===Z)J.id2=Q}for(let J of this.ast.namespaces.values()){let W=J.classes.indexOf(Z);if(W>=0)J.classes[W]=Q}}return this}getClass(Z){return this.ast.classes.get(Z)}hasClass(Z){return this.ast.classes.has(Z)}setClassLabel(Z,Q){let X=this.ast.classes.get(Z);if(X)X.label=Q;return this}addAnnotation(Z,Q){let X=this.ast.classes.get(Z);if(X&&!X.annotations.includes(Q))X.annotations.push(Q);return this}removeAnnotation(Z,Q){let X=this.ast.classes.get(Z);if(X)X.annotations=X.annotations.filter((J)=>J!==Q);return this}addMember(Z,Q,X){let J=this.ast.classes.get(Z);if(!J)return this.addClass(Z),this.addMember(Z,Q,X);let W={text:Q,visibility:X?.visibility,type:X?.type};return J.members.push(W),this}addAttribute(Z,Q,X){return this.addMember(Z,Q,{visibility:X,type:"attribute"})}addMethod(Z,Q,X){return this.addMember(Z,Q,{visibility:X,type:"method"})}getMembers(Z){return this.ast.classes.get(Z)?.members??[]}removeMember(Z,Q){let X=this.ast.classes.get(Z);if(X)X.members=X.members.filter((J)=>J.text!==Q);return this}addRelation(Z,Q,X,J){if(!this.ast.classes.has(Z))this.addClass(Z);if(!this.ast.classes.has(Q))this.addClass(Q);let W={id1:Z,id2:Q,relation:{type1:X,type2:"none",lineType:J?.lineType??"solid"},title:J?.label,relationTitle1:J?.labelFrom,relationTitle2:J?.labelTo};return this.ast.relations.push(W),this}addInheritance(Z,Q,X){return this.addRelation(Q,Z,"extension",X)}addComposition(Z,Q,X){return this.addRelation(Z,Q,"composition",X)}addAggregation(Z,Q,X){return this.addRelation(Z,Q,"aggregation",X)}addDependency(Z,Q,X){return this.addRelation(Z,Q,"dependency",X)}addAssociation(Z,Q,X){return this.addRelation(Z,Q,"none",X)}getRelations(){return this.ast.relations}getRelationsFor(Z){return this.ast.relations.filter((Q)=>Q.id1===Z||Q.id2===Z)}removeRelation(Z,Q){return this.ast.relations=this.ast.relations.filter((X)=>!(X.id1===Z&&X.id2===Q)&&!(X.id1===Q&&X.id2===Z)),this}addNamespace(Z,Q){return this.ast.namespaces.set(Z,{name:Z,classes:Q??[]}),this}addToNamespace(Z,Q){let X=this.ast.namespaces.get(Z);if(!X)this.addNamespace(Z),X=this.ast.namespaces.get(Z);if(!X.classes.includes(Q))X.classes.push(Q);return this}removeFromNamespace(Z,Q){let X=this.ast.namespaces.get(Z);if(X)X.classes=X.classes.filter((J)=>J!==Q);return this}getNamespaceFor(Z){for(let[Q,X]of this.ast.namespaces)if(X.classes.includes(Z))return Q;return}addNote(Z,Q){return this.ast.notes.push({text:Z,forClass:Q}),this}getNotes(){return this.ast.notes}defineStyle(Z,Q){return this.ast.classDefs.set(Z,{name:Z,styles:Q}),this}applyStyle(Z,Q){let X=this.ast.classes.get(Z);if(X&&!X.cssClasses.includes(Q))X.cssClasses.push(Q);return this}findClasses(Z){let Q=[];for(let X of this.ast.classes.values()){if(Z.hasAnnotation&&!X.annotations.includes(Z.hasAnnotation))continue;if(Z.hasStyle&&!X.cssClasses.includes(Z.hasStyle))continue;if(Z.inNamespace){let J=this.ast.namespaces.get(Z.inNamespace);if(!J||!J.classes.includes(X.id))continue}Q.push(X)}return Q}getSubclasses(Z){return this.ast.relations.filter((Q)=>Q.id1===Z&&Q.relation.type1==="extension").map((Q)=>Q.id2)}getParentClass(Z){return this.ast.relations.find((X)=>X.id2===Z&&X.relation.type1==="extension")?.id1}getAncestors(Z){let Q=[],X=this.getParentClass(Z);while(X)Q.push(X),X=this.getParentClass(X);return Q}getDescendants(Z){let Q=[],X=this.getSubclasses(Z);while(X.length>0){let J=X.shift();Q.push(J),X.push(...this.getSubclasses(J))}return Q}}function EH(){return{type:"erDiagram",direction:"TB",entities:new Map,relationships:[],classDefs:new Map,classes:new Map,styles:new Map}}var m3=function(){var Z=function(ZZ,i,V,o){for(V=V||{},o=ZZ.length;o--;V[ZZ[o]]=i);return V},Q=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],X=[1,10],J=[1,11],W=[1,12],H=[1,13],Y=[1,20],B=[1,21],K=[1,22],U=[1,23],G=[1,24],z=[1,19],F=[1,25],q=[1,26],L=[1,18],A=[1,33],k=[1,34],T=[1,35],p=[1,36],s=[1,37],y=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],C=[1,42],P=[1,43],g=[1,52],f=[40,50,68,69],O=[1,63],h=[1,61],w=[1,58],$=[1,62],j=[1,64],n=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],d=[63,64,65,66,67],m=[1,81],b=[1,80],u=[1,78],S=[1,79],l=[6,10,42,47],I=[6,10,13,41,42,47,48,49],QZ=[1,89],WZ=[1,88],MZ=[1,87],r=[19,56],qZ=[1,98],BZ=[1,97],DZ=[19,56,58,60],UZ={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:function(i,V,o,N,YZ,M,mZ){var a=M.length-1;switch(YZ){case 1:break;case 2:this.$=[];break;case 3:M[a-1].push(M[a]),this.$=M[a-1];break;case 4:case 5:this.$=M[a];break;case 6:case 7:this.$=[];break;case 8:N.addEntity(M[a-4]),N.addEntity(M[a-2]),N.addRelationship(M[a-4],M[a],M[a-2],M[a-3]);break;case 9:N.addEntity(M[a-8]),N.addEntity(M[a-4]),N.addRelationship(M[a-8],M[a],M[a-4],M[a-5]),N.setClass([M[a-8]],M[a-6]),N.setClass([M[a-4]],M[a-2]);break;case 10:N.addEntity(M[a-6]),N.addEntity(M[a-2]),N.addRelationship(M[a-6],M[a],M[a-2],M[a-3]),N.setClass([M[a-6]],M[a-4]);break;case 11:N.addEntity(M[a-6]),N.addEntity(M[a-4]),N.addRelationship(M[a-6],M[a],M[a-4],M[a-5]),N.setClass([M[a-4]],M[a-2]);break;case 12:N.addEntity(M[a-3]),N.addAttributes(M[a-3],M[a-1]);break;case 13:N.addEntity(M[a-5]),N.addAttributes(M[a-5],M[a-1]),N.setClass([M[a-5]],M[a-3]);break;case 14:N.addEntity(M[a-2]);break;case 15:N.addEntity(M[a-4]),N.setClass([M[a-4]],M[a-2]);break;case 16:N.addEntity(M[a]);break;case 17:N.addEntity(M[a-2]),N.setClass([M[a-2]],M[a]);break;case 18:N.addEntity(M[a-6],M[a-4]),N.addAttributes(M[a-6],M[a-1]);break;case 19:N.addEntity(M[a-8],M[a-6]),N.addAttributes(M[a-8],M[a-1]),N.setClass([M[a-8]],M[a-3]);break;case 20:N.addEntity(M[a-5],M[a-3]);break;case 21:N.addEntity(M[a-7],M[a-5]),N.setClass([M[a-7]],M[a-2]);break;case 22:N.addEntity(M[a-3],M[a-1]);break;case 23:N.addEntity(M[a-5],M[a-3]),N.setClass([M[a-5]],M[a]);break;case 24:case 25:this.$=M[a].trim(),N.setAccTitle(this.$);break;case 26:case 27:this.$=M[a].trim(),N.setAccDescription(this.$);break;case 32:N.setDirection("TB");break;case 33:N.setDirection("BT");break;case 34:N.setDirection("RL");break;case 35:N.setDirection("LR");break;case 36:this.$=M[a-3],N.addClass(M[a-2],M[a-1]);break;case 37:case 38:case 56:case 64:this.$=[M[a]];break;case 39:case 40:this.$=M[a-2].concat([M[a]]);break;case 41:this.$=M[a-2],N.setClass(M[a-1],M[a]);break;case 42:this.$=M[a-3],N.addCssStyles(M[a-2],M[a-1]);break;case 43:this.$=[M[a]];break;case 44:M[a-2].push(M[a]),this.$=M[a-2];break;case 46:this.$=M[a-1]+M[a];break;case 54:case 76:case 77:this.$=M[a].replace(/"/g,"");break;case 55:case 78:this.$=M[a];break;case 57:M[a].push(M[a-1]),this.$=M[a];break;case 58:this.$={type:M[a-1],name:M[a]};break;case 59:this.$={type:M[a-2],name:M[a-1],keys:M[a]};break;case 60:this.$={type:M[a-2],name:M[a-1],comment:M[a]};break;case 61:this.$={type:M[a-3],name:M[a-2],keys:M[a-1],comment:M[a]};break;case 62:case 63:case 66:this.$=M[a];break;case 65:M[a-2].push(M[a]),this.$=M[a-2];break;case 67:this.$=M[a].replace(/"/g,"");break;case 68:this.$={cardA:M[a],relType:M[a-1],cardB:M[a-2]};break;case 69:this.$=N.Cardinality.ZERO_OR_ONE;break;case 70:this.$=N.Cardinality.ZERO_OR_MORE;break;case 71:this.$=N.Cardinality.ONE_OR_MORE;break;case 72:this.$=N.Cardinality.ONLY_ONE;break;case 73:this.$=N.Cardinality.MD_PARENT;break;case 74:this.$=N.Identification.NON_IDENTIFYING;break;case 75:this.$=N.Identification.IDENTIFYING;break}},table:[{3:1,4:[1,2]},{1:[3]},Z(Q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:X,24:J,26:W,28:H,29:14,30:15,31:16,32:17,33:Y,34:B,35:K,36:U,37:G,40:z,43:F,44:q,50:L},Z(Q,[2,7],{1:[2,1]}),Z(Q,[2,3]),{9:27,11:9,22:X,24:J,26:W,28:H,29:14,30:15,31:16,32:17,33:Y,34:B,35:K,36:U,37:G,40:z,43:F,44:q,50:L},Z(Q,[2,5]),Z(Q,[2,6]),Z(Q,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:A,64:k,65:T,66:p,67:s}),{23:[1,38]},{25:[1,39]},{27:[1,40]},Z(Q,[2,27]),Z(Q,[2,28]),Z(Q,[2,29]),Z(Q,[2,30]),Z(Q,[2,31]),Z(y,[2,54]),Z(y,[2,55]),Z(Q,[2,32]),Z(Q,[2,33]),Z(Q,[2,34]),Z(Q,[2,35]),{16:41,40:C,41:P},{16:44,40:C,41:P},{16:45,40:C,41:P},Z(Q,[2,4]),{11:46,40:z,50:L},{16:47,40:C,41:P},{18:48,19:[1,49],51:50,52:51,56:g},{11:53,40:z,50:L},{62:54,68:[1,55],69:[1,56]},Z(f,[2,69]),Z(f,[2,70]),Z(f,[2,71]),Z(f,[2,72]),Z(f,[2,73]),Z(Q,[2,24]),Z(Q,[2,25]),Z(Q,[2,26]),{13:O,38:57,41:h,42:w,45:59,46:60,48:$,49:j},Z(n,[2,37]),Z(n,[2,38]),{16:65,40:C,41:P,42:w},{13:O,38:66,41:h,42:w,45:59,46:60,48:$,49:j},{13:[1,67],15:[1,68]},Z(Q,[2,17],{61:32,12:69,17:[1,70],42:w,63:A,64:k,65:T,66:p,67:s}),{19:[1,71]},Z(Q,[2,14]),{18:72,19:[2,56],51:50,52:51,56:g},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:A,64:k,65:T,66:p,67:s},Z(d,[2,74]),Z(d,[2,75]),{6:m,10:b,39:77,42:u,47:S},{40:[1,82],41:[1,83]},Z(l,[2,43],{46:84,13:O,41:h,48:$,49:j}),Z(I,[2,45]),Z(I,[2,50]),Z(I,[2,51]),Z(I,[2,52]),Z(I,[2,53]),Z(Q,[2,41],{42:w}),{6:m,10:b,39:85,42:u,47:S},{14:86,40:QZ,50:WZ,70:MZ},{16:90,40:C,41:P},{11:91,40:z,50:L},{18:92,19:[1,93],51:50,52:51,56:g},Z(Q,[2,12]),{19:[2,57]},Z(r,[2,58],{54:94,55:95,57:96,59:qZ,60:BZ}),Z([19,56,59,60],[2,63]),Z(Q,[2,22],{15:[1,100],17:[1,99]}),Z([40,50],[2,68]),Z(Q,[2,36]),{13:O,41:h,45:101,46:60,48:$,49:j},Z(Q,[2,47]),Z(Q,[2,48]),Z(Q,[2,49]),Z(n,[2,39]),Z(n,[2,40]),Z(I,[2,46]),Z(Q,[2,42]),Z(Q,[2,8]),Z(Q,[2,76]),Z(Q,[2,77]),Z(Q,[2,78]),{13:[1,102],42:w},{13:[1,104],15:[1,103]},{19:[1,105]},Z(Q,[2,15]),Z(r,[2,59],{55:106,58:[1,107],60:BZ}),Z(r,[2,60]),Z(DZ,[2,64]),Z(r,[2,67]),Z(DZ,[2,66]),{18:108,19:[1,109],51:50,52:51,56:g},{16:110,40:C,41:P},Z(l,[2,44],{46:84,13:O,41:h,48:$,49:j}),{14:111,40:QZ,50:WZ,70:MZ},{16:112,40:C,41:P},{14:113,40:QZ,50:WZ,70:MZ},Z(Q,[2,13]),Z(r,[2,61]),{57:114,59:qZ},{19:[1,115]},Z(Q,[2,20]),Z(Q,[2,23],{17:[1,116],42:w}),Z(Q,[2,11]),{13:[1,117],42:w},Z(Q,[2,10]),Z(DZ,[2,65]),Z(Q,[2,18]),{18:118,19:[1,119],51:50,52:51,56:g},{14:120,40:QZ,50:WZ,70:MZ},{19:[1,121]},Z(Q,[2,21]),Z(Q,[2,9]),Z(Q,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:function(i,V){if(V.recoverable)this.trace(i);else{var o=Error(i);throw o.hash=V,o}},parse:function(i){var V=this,o=[0],N=[],YZ=[null],M=[],mZ=this.table,a="",IZ=0,nZ=0,vZ=0,LZ=2,GZ=1,HZ=M.slice.call(arguments,1),t=Object.create(this.lexer),zZ={yy:{}};for(var x in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,x))zZ.yy[x]=this.yy[x];if(t.setInput(i,zZ.yy),zZ.yy.lexer=t,zZ.yy.parser=this,typeof t.yylloc>"u")t.yylloc={};var EZ=t.yylloc;M.push(EZ);var E=t.options&&t.options.ranges;if(typeof zZ.yy.parseError==="function")this.parseError=zZ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function PZ(EQ){o.length=o.length-2*EQ,YZ.length=YZ.length-EQ,M.length=M.length-EQ}function R(){var EQ=N.pop()||t.lex()||GZ;if(typeof EQ!=="number"){if(EQ instanceof Array)N=EQ,EQ=N.pop();EQ=V.symbols_[EQ]||EQ}return EQ}var FZ,JZ,jZ,OZ,KZ,GQ,wZ={},FQ,qQ,JX,lZ;while(!0){if(jZ=o[o.length-1],this.defaultActions[jZ])OZ=this.defaultActions[jZ];else{if(FZ===null||typeof FZ>"u")FZ=R();OZ=mZ[jZ]&&mZ[jZ][FZ]}if(typeof OZ>"u"||!OZ.length||!OZ[0]){var JQ="";lZ=[];for(FQ in mZ[jZ])if(this.terminals_[FQ]&&FQ>LZ)lZ.push("'"+this.terminals_[FQ]+"'");if(t.showPosition)JQ="Parse error on line "+(IZ+1)+`:
`+t.showPosition()+`
Expecting `+lZ.join(", ")+", got '"+(this.terminals_[FZ]||FZ)+"'";else JQ="Parse error on line "+(IZ+1)+": Unexpected "+(FZ==GZ?"end of input":"'"+(this.terminals_[FZ]||FZ)+"'");this.parseError(JQ,{text:t.match,token:this.terminals_[FZ]||FZ,line:t.yylineno,loc:EZ,expected:lZ})}if(OZ[0]instanceof Array&&OZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+jZ+", token: "+FZ);switch(OZ[0]){case 1:if(o.push(FZ),YZ.push(t.yytext),M.push(t.yylloc),o.push(OZ[1]),FZ=null,!JZ){if(nZ=t.yyleng,a=t.yytext,IZ=t.yylineno,EZ=t.yylloc,vZ>0)vZ--}else FZ=JZ,JZ=null;break;case 2:if(qQ=this.productions_[OZ[1]][1],wZ.$=YZ[YZ.length-qQ],wZ._$={first_line:M[M.length-(qQ||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(qQ||1)].first_column,last_column:M[M.length-1].last_column},E)wZ._$.range=[M[M.length-(qQ||1)].range[0],M[M.length-1].range[1]];if(GQ=this.performAction.apply(wZ,[a,nZ,IZ,zZ.yy,OZ[1],YZ,M].concat(HZ)),typeof GQ<"u")return GQ;if(qQ)o=o.slice(0,-1*qQ*2),YZ=YZ.slice(0,-1*qQ),M=M.slice(0,-1*qQ);o.push(this.productions_[OZ[1]][0]),YZ.push(wZ.$),M.push(wZ._$),JX=mZ[o[o.length-2]][o[o.length-1]],o.push(JX);break;case 3:return!0}}return!0}},AZ=function(){var ZZ={EOF:1,parseError:function(V,o){if(this.yy.parser)this.yy.parser.parseError(V,o);else throw Error(V)},setInput:function(i,V){if(this.yy=V||this.yy||{},this._input=i,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var i=this._input[0];this.yytext+=i,this.yyleng++,this.offset++,this.match+=i,this.matched+=i;var V=i.match(/(?:\r\n?|\n).*/g);if(V)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),i},unput:function(i){var V=i.length,o=i.split(/(?:\r\n?|\n)/g);this._input=i+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-V),this.offset-=V;var N=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1)this.yylineno-=o.length-1;var YZ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===N.length?this.yylloc.first_column:0)+N[N.length-o.length].length-o[0].length:this.yylloc.first_column-V},this.options.ranges)this.yylloc.range=[YZ[0],YZ[0]+this.yyleng-V];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(i){this.unput(this.match.slice(i))},pastInput:function(){var i=this.matched.substr(0,this.matched.length-this.match.length);return(i.length>20?"...":"")+i.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var i=this.match;if(i.length<20)i+=this._input.substr(0,20-i.length);return(i.substr(0,20)+(i.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var i=this.pastInput(),V=Array(i.length+1).join("-");return i+this.upcomingInput()+`
`+V+"^"},test_match:function(i,V){var o,N,YZ;if(this.options.backtrack_lexer){if(YZ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)YZ.yylloc.range=this.yylloc.range.slice(0)}if(N=i[0].match(/(?:\r\n?|\n).*/g),N)this.yylineno+=N.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+i[0].length},this.yytext+=i[0],this.match+=i[0],this.matches=i,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(i[0].length),this.matched+=i[0],o=this.performAction.call(this,this.yy,this,V,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(o)return o;else if(this._backtrack){for(var M in YZ)this[M]=YZ[M];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var i,V,o,N;if(!this._more)this.yytext="",this.match="";var YZ=this._currentRules();for(var M=0;M<YZ.length;M++)if(o=this._input.match(this.rules[YZ[M]]),o&&(!V||o[0].length>V[0].length)){if(V=o,N=M,this.options.backtrack_lexer)if(i=this.test_match(o,YZ[M]),i!==!1)return i;else if(this._backtrack){V=!1;continue}else return!1;else if(!this.options.flex)break}if(V){if(i=this.test_match(V,YZ[N]),i!==!1)return i;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var V=this.next();if(V)return V;else return this.lex()},begin:function(V){this.conditionStack.push(V)},popState:function(){var V=this.conditionStack.length-1;if(V>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(V){if(V=this.conditionStack.length-1-Math.abs(V||0),V>=0)return this.conditionStack[V];else return"INITIAL"},pushState:function(V){this.begin(V)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(V,o,N,YZ){var M=YZ;switch(N){case 0:return this.begin("acc_title"),24;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),26;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;break;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;break;case 30:return o.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;break;case 34:return this.popState(),10;break;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;break;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return o.yytext[0];case 74:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return ZZ}();UZ.lexer=AZ;function e(){this.yy={}}return e.prototype=UZ,UZ.Parser=e,new e}();m3.parser=m3;var u3=m3;var AR={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},OR={IDENTIFYING:"IDENTIFYING",NON_IDENTIFYING:"NON_IDENTIFYING"};function PR(Z){return{Cardinality:AR,Identification:OR,addEntity(Q,X){if(!Z.entities.has(Q))Z.entities.set(Q,{name:Q,alias:X,attributes:[]});else if(X&&!Z.entities.get(Q).alias)Z.entities.get(Q).alias=X},addAttributes(Q,X){let J=Z.entities.get(Q);if(J){let W=[...X].reverse();for(let H of W)J.attributes.push({type:H.type,name:H.name,keys:H.keys,comment:H.comment})}},addRelationship(Q,X,J,W){Z.relationships.push({entityA:Q,entityB:J,relSpec:W,role:X})},setClass(Q,X){for(let J of Q){let W=Z.classes.get(J)||[];Z.classes.set(J,[...W,...X])}},addClass(Q,X){for(let J of Q)Z.classDefs.set(J,{name:J,styles:X})},addCssStyles(Q,X){for(let J of Q){let W=Z.styles.get(J)||[];Z.styles.set(J,[...W,...X])}},setDirection(Q){Z.direction=Q},setAccTitle(Q){Z.accTitle=Q},setAccDescription(Q){Z.accDescription=Q},clear(){},setDiagramTitle(){}}}function j8(Z){let Q=EH(),X=Z.trim();if(!X.toLowerCase().startsWith("erdiagram"))X=`erDiagram
${X}`;return u3.yy=PR(Q),u3.parse(X),Q}function dz(Z){let X=Z.trim().split(`
`)[0].trim().toLowerCase();return X.startsWith("erdiagram")||X.startsWith("er-diagram")}aQ();function $z(Z,Q){switch(Z){case"ZERO_OR_ONE":return Q==="left"?"|o":"o|";case"ZERO_OR_MORE":return Q==="left"?"}o":"o{";case"ONE_OR_MORE":return Q==="left"?"}|":"|{";case"ONLY_ONE":return"||";case"MD_PARENT":return Q==="left"?"":"";default:return"||"}}function NR(Z){switch(Z){case"IDENTIFYING":return"--";case"NON_IDENTIFYING":return"..";default:return"--"}}function RR(Z){let Q=$z(Z.relSpec.cardB,"left"),X=NR(Z.relSpec.relType),J=$z(Z.relSpec.cardA,"right");return`${Q}${X}${J}`}function CR(Z,Q){let X=`${Q}${Z.type} ${Z.name}`;if(Z.keys&&Z.keys.length>0)X+=` ${Z.keys.join(",")}`;if(Z.comment)X+=` "${Z.comment}"`;return X}function p3(Z){if(/\s|[^a-zA-Z0-9_-]/.test(Z))return`"${Z}"`;return Z}function f8(Z,Q){let J=QQ(Q).indent,W=[];if(W.push("erDiagram"),Z.direction&&Z.direction!=="TB")W.push(`${J}direction ${Z.direction}`);if(Z.accTitle)W.push(`${J}accTitle: ${Z.accTitle}`);if(Z.accDescription)W.push(`${J}accDescr: ${Z.accDescription}`);for(let[H,Y]of Z.classDefs)if(Y.styles.length>0)W.push(`${J}classDef ${H} ${Y.styles.join(",")}`);for(let[H,Y]of Z.entities){let B=p3(H),K=Z.classes.get(H),U=K?`:::${K.join(",")}`:"",G=Y.alias?`["${Y.alias}"]`:"";if(Y.attributes.length>0){W.push(`${J}${B}${G}${U} {`);for(let z of Y.attributes)W.push(CR(z,J+J));W.push(`${J}}`)}else if(G||U)W.push(`${J}${B}${G}${U}`)}for(let H of Z.relationships){let Y=p3(H.entityA),B=p3(H.entityB),K=RR(H),U=H.role.includes(" ")?`"${H.role}"`:H.role;W.push(`${J}${Y} ${K} ${B} : ${U}`)}for(let[H,Y]of Z.styles)if(Y.length>0)W.push(`${J}style ${H} ${Y.join(",")}`);return W.join(`
`)}class y7 extends tZ{constructor(Z){super(Z)}static create(Z="TB"){let Q=EH();return Q.direction=Z,new y7(Q)}static from(Z){return new y7(Z)}static parse(Z){let Q=j8(Z);return new y7(Q)}render(Z){return f8(this.ast,Z)}clone(){let Z={type:"erDiagram",direction:this.ast.direction,entities:new Map([...this.ast.entities].map(([Q,X])=>[Q,{...X,attributes:[...X.attributes.map((J)=>({...J,keys:J.keys?[...J.keys]:void 0}))]}])),relationships:[...this.ast.relationships.map((Q)=>({...Q,relSpec:{...Q.relSpec}}))],classDefs:new Map([...this.ast.classDefs].map(([Q,X])=>[Q,{...X,styles:[...X.styles]}])),classes:new Map([...this.ast.classes].map(([Q,X])=>[Q,[...X]])),styles:new Map([...this.ast.styles].map(([Q,X])=>[Q,[...X]])),accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new y7(Z)}get direction(){return this.ast.direction}set direction(Z){this.ast.direction=Z}get entityNames(){return[...this.ast.entities.keys()]}get entities(){return[...this.ast.entities.values()]}get relationships(){return this.ast.relationships}get entityCount(){return this.ast.entities.size}get relationshipCount(){return this.ast.relationships.length}hasEntity(Z){return this.ast.entities.has(Z)}getEntity(Z){return this.ast.entities.get(Z)}addEntity(Z,Q){if(!this.ast.entities.has(Z))this.ast.entities.set(Z,{name:Z,alias:Q,attributes:[]});else if(Q)this.ast.entities.get(Z).alias=Q;return this}removeEntity(Z){return this.ast.entities.delete(Z),this.ast.relationships=this.ast.relationships.filter((Q)=>Q.entityA!==Z&&Q.entityB!==Z),this.ast.classes.delete(Z),this.ast.styles.delete(Z),this}setEntityAlias(Z,Q){let X=this.ast.entities.get(Z);if(X)X.alias=Q;return this}addAttribute(Z,Q,X,J){let W=this.ast.entities.get(Z);if(!W)W={name:Z,attributes:[]},this.ast.entities.set(Z,W);let H={type:Q,name:X};if(J?.keys)H.keys=J.keys;if(J?.comment)H.comment=J.comment;return W.attributes.push(H),this}removeAttribute(Z,Q){let X=this.ast.entities.get(Z);if(X)X.attributes=X.attributes.filter((J)=>J.name!==Q);return this}getAttributes(Z){return this.ast.entities.get(Z)?.attributes||[]}addRelationship(Z,Q,X,J){if(!this.ast.entities.has(Z))this.addEntity(Z);if(!this.ast.entities.has(Q))this.addEntity(Q);let W={cardA:J?.cardA??"ONLY_ONE",cardB:J?.cardB??"ONLY_ONE",relType:J?.relType??"IDENTIFYING"};return this.ast.relationships.push({entityA:Z,entityB:Q,role:X,relSpec:W}),this}removeRelationship(Z){if(Z>=0&&Z<this.ast.relationships.length)this.ast.relationships.splice(Z,1);return this}removeRelationshipsBetween(Z,Q){return this.ast.relationships=this.ast.relationships.filter((X)=>!(X.entityA===Z&&X.entityB===Q||X.entityA===Q&&X.entityB===Z)),this}getRelationshipsFor(Z){return this.ast.relationships.filter((Q)=>Q.entityA===Z||Q.entityB===Z)}addClass(Z,Q){let X=this.ast.classes.get(Z)||[];if(!X.includes(Q))X.push(Q),this.ast.classes.set(Z,X);return this}removeClass(Z,Q){let X=this.ast.classes.get(Z);if(X){let J=X.indexOf(Q);if(J!==-1){if(X.splice(J,1),X.length===0)this.ast.classes.delete(Z)}}return this}getClasses(Z){return this.ast.classes.get(Z)||[]}findEntities(Z){let Q=[];for(let[X,J]of this.ast.entities){if(Z.class){if(!(this.ast.classes.get(X)||[]).includes(Z.class))continue}if(Z.nameContains&&!X.includes(Z.nameContains))continue;if(Z.hasAttribute){if(!J.attributes.some((H)=>H.name===Z.hasAttribute))continue}if(Z.relatedTo){if(!this.ast.relationships.some((H)=>H.entityA===X&&H.entityB===Z.relatedTo||H.entityB===X&&H.entityA===Z.relatedTo))continue}Q.push(X)}return Q}getRelatedEntities(Z){let Q=new Set;for(let X of this.ast.relationships)if(X.entityA===Z)Q.add(X.entityB);else if(X.entityB===Z)Q.add(X.entityA);return[...Q]}}l3();function RH(){return{type:"gantt",inclusiveEndDates:!1,topAxis:!1,sections:[],tasks:[],clickEvents:[]}}var c3=function(){var Z=function(j,n,d,m){for(d=d||{},m=j.length;m--;d[j[m]]=n);return d},Q=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],X=[1,26],J=[1,27],W=[1,28],H=[1,29],Y=[1,30],B=[1,31],K=[1,32],U=[1,33],G=[1,34],z=[1,9],F=[1,10],q=[1,11],L=[1,12],A=[1,13],k=[1,14],T=[1,15],p=[1,16],s=[1,19],y=[1,20],C=[1,21],P=[1,22],g=[1,23],f=[1,25],O=[1,35],h={trace:function(){},yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:function(n,d,m,b,u,S,l){var I=S.length-1;switch(u){case 1:return S[I-1];case 2:this.$=[];break;case 3:S[I-1].push(S[I]),this.$=S[I-1];break;case 4:case 5:this.$=S[I];break;case 6:case 7:this.$=[];break;case 8:b.setWeekday("monday");break;case 9:b.setWeekday("tuesday");break;case 10:b.setWeekday("wednesday");break;case 11:b.setWeekday("thursday");break;case 12:b.setWeekday("friday");break;case 13:b.setWeekday("saturday");break;case 14:b.setWeekday("sunday");break;case 15:b.setWeekend("friday");break;case 16:b.setWeekend("saturday");break;case 17:b.setDateFormat(S[I].substr(11)),this.$=S[I].substr(11);break;case 18:b.enableInclusiveEndDates(),this.$=S[I].substr(18);break;case 19:b.TopAxis(),this.$=S[I].substr(8);break;case 20:b.setAxisFormat(S[I].substr(11)),this.$=S[I].substr(11);break;case 21:b.setTickInterval(S[I].substr(13)),this.$=S[I].substr(13);break;case 22:b.setExcludes(S[I].substr(9)),this.$=S[I].substr(9);break;case 23:b.setIncludes(S[I].substr(9)),this.$=S[I].substr(9);break;case 24:b.setTodayMarker(S[I].substr(12)),this.$=S[I].substr(12);break;case 27:b.setDiagramTitle(S[I].substr(6)),this.$=S[I].substr(6);break;case 28:this.$=S[I].trim(),b.setAccTitle(this.$);break;case 29:case 30:this.$=S[I].trim(),b.setAccDescription(this.$);break;case 31:b.addSection(S[I].substr(8)),this.$=S[I].substr(8);break;case 33:b.addTask(S[I-1],S[I]),this.$="task";break;case 34:this.$=S[I-1],b.setClickEvent(S[I-1],S[I],null);break;case 35:this.$=S[I-2],b.setClickEvent(S[I-2],S[I-1],S[I]);break;case 36:this.$=S[I-2],b.setClickEvent(S[I-2],S[I-1],null),b.setLink(S[I-2],S[I]);break;case 37:this.$=S[I-3],b.setClickEvent(S[I-3],S[I-2],S[I-1]),b.setLink(S[I-3],S[I]);break;case 38:this.$=S[I-2],b.setClickEvent(S[I-2],S[I],null),b.setLink(S[I-2],S[I-1]);break;case 39:this.$=S[I-3],b.setClickEvent(S[I-3],S[I-1],S[I]),b.setLink(S[I-3],S[I-2]);break;case 40:this.$=S[I-1],b.setLink(S[I-1],S[I]);break;case 41:case 47:this.$=S[I-1]+" "+S[I];break;case 42:case 43:case 45:this.$=S[I-2]+" "+S[I-1]+" "+S[I];break;case 44:case 46:this.$=S[I-3]+" "+S[I-2]+" "+S[I-1]+" "+S[I];break}},table:[{3:1,4:[1,2]},{1:[3]},Z(Q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:X,13:J,14:W,15:H,16:Y,17:B,18:K,19:18,20:U,21:G,22:z,23:F,24:q,25:L,26:A,27:k,28:T,29:p,30:s,31:y,33:C,35:P,36:g,37:24,38:f,40:O},Z(Q,[2,7],{1:[2,1]}),Z(Q,[2,3]),{9:36,11:17,12:X,13:J,14:W,15:H,16:Y,17:B,18:K,19:18,20:U,21:G,22:z,23:F,24:q,25:L,26:A,27:k,28:T,29:p,30:s,31:y,33:C,35:P,36:g,37:24,38:f,40:O},Z(Q,[2,5]),Z(Q,[2,6]),Z(Q,[2,17]),Z(Q,[2,18]),Z(Q,[2,19]),Z(Q,[2,20]),Z(Q,[2,21]),Z(Q,[2,22]),Z(Q,[2,23]),Z(Q,[2,24]),Z(Q,[2,25]),Z(Q,[2,26]),Z(Q,[2,27]),{32:[1,37]},{34:[1,38]},Z(Q,[2,30]),Z(Q,[2,31]),Z(Q,[2,32]),{39:[1,39]},Z(Q,[2,8]),Z(Q,[2,9]),Z(Q,[2,10]),Z(Q,[2,11]),Z(Q,[2,12]),Z(Q,[2,13]),Z(Q,[2,14]),Z(Q,[2,15]),Z(Q,[2,16]),{41:[1,40],43:[1,41]},Z(Q,[2,4]),Z(Q,[2,28]),Z(Q,[2,29]),Z(Q,[2,33]),Z(Q,[2,34],{42:[1,42],43:[1,43]}),Z(Q,[2,40],{41:[1,44]}),Z(Q,[2,35],{43:[1,45]}),Z(Q,[2,36]),Z(Q,[2,38],{42:[1,46]}),Z(Q,[2,37]),Z(Q,[2,39])],defaultActions:{},parseError:function(n,d){if(d.recoverable)this.trace(n);else{var m=Error(n);throw m.hash=d,m}},parse:function(n){var d=this,m=[0],b=[],u=[null],S=[],l=this.table,I="",QZ=0,WZ=0,MZ=0,r=2,qZ=1,BZ=S.slice.call(arguments,1),DZ=Object.create(this.lexer),UZ={yy:{}};for(var AZ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,AZ))UZ.yy[AZ]=this.yy[AZ];if(DZ.setInput(n,UZ.yy),UZ.yy.lexer=DZ,UZ.yy.parser=this,typeof DZ.yylloc>"u")DZ.yylloc={};var e=DZ.yylloc;S.push(e);var ZZ=DZ.options&&DZ.options.ranges;if(typeof UZ.yy.parseError==="function")this.parseError=UZ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function i(t){m.length=m.length-2*t,u.length=u.length-t,S.length=S.length-t}function V(){var t=b.pop()||DZ.lex()||qZ;if(typeof t!=="number"){if(t instanceof Array)b=t,t=b.pop();t=d.symbols_[t]||t}return t}var o,N,YZ,M,mZ,a,IZ={},nZ,vZ,LZ,GZ;while(!0){if(YZ=m[m.length-1],this.defaultActions[YZ])M=this.defaultActions[YZ];else{if(o===null||typeof o>"u")o=V();M=l[YZ]&&l[YZ][o]}if(typeof M>"u"||!M.length||!M[0]){var HZ="";GZ=[];for(nZ in l[YZ])if(this.terminals_[nZ]&&nZ>r)GZ.push("'"+this.terminals_[nZ]+"'");if(DZ.showPosition)HZ="Parse error on line "+(QZ+1)+`:
`+DZ.showPosition()+`
Expecting `+GZ.join(", ")+", got '"+(this.terminals_[o]||o)+"'";else HZ="Parse error on line "+(QZ+1)+": Unexpected "+(o==qZ?"end of input":"'"+(this.terminals_[o]||o)+"'");this.parseError(HZ,{text:DZ.match,token:this.terminals_[o]||o,line:DZ.yylineno,loc:e,expected:GZ})}if(M[0]instanceof Array&&M.length>1)throw Error("Parse Error: multiple actions possible at state: "+YZ+", token: "+o);switch(M[0]){case 1:if(m.push(o),u.push(DZ.yytext),S.push(DZ.yylloc),m.push(M[1]),o=null,!N){if(WZ=DZ.yyleng,I=DZ.yytext,QZ=DZ.yylineno,e=DZ.yylloc,MZ>0)MZ--}else o=N,N=null;break;case 2:if(vZ=this.productions_[M[1]][1],IZ.$=u[u.length-vZ],IZ._$={first_line:S[S.length-(vZ||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(vZ||1)].first_column,last_column:S[S.length-1].last_column},ZZ)IZ._$.range=[S[S.length-(vZ||1)].range[0],S[S.length-1].range[1]];if(a=this.performAction.apply(IZ,[I,WZ,QZ,UZ.yy,M[1],u,S].concat(BZ)),typeof a<"u")return a;if(vZ)m=m.slice(0,-1*vZ*2),u=u.slice(0,-1*vZ),S=S.slice(0,-1*vZ);m.push(this.productions_[M[1]][0]),u.push(IZ.$),S.push(IZ._$),LZ=l[m[m.length-2]][m[m.length-1]],m.push(LZ);break;case 3:return!0}}return!0}},w=function(){var j={EOF:1,parseError:function(d,m){if(this.yy.parser)this.yy.parser.parseError(d,m);else throw Error(d)},setInput:function(n,d){if(this.yy=d||this.yy||{},this._input=n,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var n=this._input[0];this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n;var d=n.match(/(?:\r\n?|\n).*/g);if(d)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),n},unput:function(n){var d=n.length,m=n.split(/(?:\r\n?|\n)/g);this._input=n+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-d),this.offset-=d;var b=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1)this.yylineno-=m.length-1;var u=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===b.length?this.yylloc.first_column:0)+b[b.length-m.length].length-m[0].length:this.yylloc.first_column-d},this.options.ranges)this.yylloc.range=[u[0],u[0]+this.yyleng-d];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;if(n.length<20)n+=this._input.substr(0,20-n.length);return(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),d=Array(n.length+1).join("-");return n+this.upcomingInput()+`
`+d+"^"},test_match:function(n,d){var m,b,u;if(this.options.backtrack_lexer){if(u={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)u.yylloc.range=this.yylloc.range.slice(0)}if(b=n[0].match(/(?:\r\n?|\n).*/g),b)this.yylineno+=b.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],m=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(m)return m;else if(this._backtrack){for(var S in u)this[S]=u[S];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var n,d,m,b;if(!this._more)this.yytext="",this.match="";var u=this._currentRules();for(var S=0;S<u.length;S++)if(m=this._input.match(this.rules[u[S]]),m&&(!d||m[0].length>d[0].length)){if(d=m,b=S,this.options.backtrack_lexer)if(n=this.test_match(m,u[S]),n!==!1)return n;else if(this._backtrack){d=!1;continue}else return!1;else if(!this.options.flex)break}if(d){if(n=this.test_match(d,u[b]),n!==!1)return n;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var d=this.next();if(d)return d;else return this.lex()},begin:function(d){this.conditionStack.push(d)},popState:function(){var d=this.conditionStack.length-1;if(d>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(d){if(d=this.conditionStack.length-1-Math.abs(d||0),d>=0)return this.conditionStack[d];else return"INITIAL"},pushState:function(d){this.begin(d)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(d,m,b,u){var S=u;switch(b){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return j}();h.lexer=w;function $(){this.yy={}}return $.prototype=h,h.Parser=$,new $}();c3.parser=c3;var i3=c3;function kR(Z){let Q={},J=(Z.startsWith(":")?Z.slice(1).trim():Z.trim()).split(",").map((W)=>W.trim());for(let W of J)if(W==="done")Q.status="done";else if(W==="active")Q.status="active";else if(W==="crit")Q.status="crit";else if(W==="milestone")Q.status="milestone";else if(W.startsWith("after "))Q.start=W;else if(/^\d{4}-\d{2}-\d{2}/.test(W))if(!Q.start)Q.start=W;else Q.end=W;else if(/^\d+[dwmyhms]$/.test(W))Q.end=W;else if(W&&!Q.id)Q.id=W;return Q}function mR(Z){let Q=null;return{setDateFormat(X){Z.dateFormat=X.trim()},setAxisFormat(X){Z.axisFormat=X.trim()},setTickInterval(X){Z.tickInterval=X.trim()},enableInclusiveEndDates(){Z.inclusiveEndDates=!0},TopAxis(){Z.topAxis=!0},setExcludes(X){Z.excludes=X.trim()},setIncludes(X){Z.includes=X.trim()},setTodayMarker(X){Z.todayMarker=X.trim()},setWeekday(X){Z.weekday=X},setWeekend(X){Z.weekend=X},setDiagramTitle(X){Z.title=X.trim()},setAccTitle(X){Z.accTitle=X.trim()},setAccDescription(X){Z.accDescription=X.trim()},addSection(X){Q={name:X.trim(),tasks:[]},Z.sections.push(Q)},addTask(X,J){let W=kR(J),H={name:X.trim(),...W,rawData:J};if(Q)H.section=Q.name,Q.tasks.push(H);else Z.tasks.push(H)},setClickEvent(X,J,W){let H=Z.clickEvents.find((Y)=>Y.taskId===X);if(H){if(J)H.callback=J;if(W)H.callbackArgs=W}else Z.clickEvents.push({taskId:X,callback:J||void 0,callbackArgs:W||void 0})},setLink(X,J){let W=Z.clickEvents.find((H)=>H.taskId===X);if(W)W.href=J;else Z.clickEvents.push({taskId:X,href:J})},clear(){},getAxisFormat(){return""},getDateFormat(){return""},getTasks(){return[]},getSections(){return[]}}}function CH(Z){let Q=RH(),X=Z.trim();if(!X.toLowerCase().startsWith("gantt"))X=`gantt
${X}`;return i3.yy=mR(Q),i3.parse(X),Q}function WF(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("gantt")}aQ();function HF(Z,Q){if(Z.rawData)return`${Q}${Z.name}${Z.rawData}`;let X=[];if(Z.status)X.push(Z.status);if(Z.id)X.push(Z.id);if(Z.start)X.push(Z.start);if(Z.end)X.push(Z.end);let J=X.length>0?`: ${X.join(", ")}`:"";return`${Q}${Z.name}${J}`}function IH(Z,Q){let J=QQ(Q).indent,W=[];if(W.push("gantt"),Z.title)W.push(`${J}title ${Z.title}`);if(Z.accTitle)W.push(`${J}accTitle: ${Z.accTitle}`);if(Z.accDescription)W.push(`${J}accDescr: ${Z.accDescription}`);if(Z.dateFormat)W.push(`${J}dateFormat ${Z.dateFormat}`);if(Z.axisFormat)W.push(`${J}axisFormat ${Z.axisFormat}`);if(Z.tickInterval)W.push(`${J}tickInterval ${Z.tickInterval}`);if(Z.inclusiveEndDates)W.push(`${J}inclusiveEndDates`);if(Z.topAxis)W.push(`${J}topAxis`);if(Z.excludes)W.push(`${J}excludes ${Z.excludes}`);if(Z.includes)W.push(`${J}includes ${Z.includes}`);if(Z.todayMarker)W.push(`${J}todayMarker ${Z.todayMarker}`);if(Z.weekday)W.push(`${J}weekday ${Z.weekday}`);if(Z.weekend)W.push(`${J}weekend ${Z.weekend}`);for(let H of Z.tasks)W.push(HF(H,J));for(let H of Z.sections){W.push(`${J}section ${H.name}`);for(let Y of H.tasks)W.push(HF(Y,J))}for(let H of Z.clickEvents){let Y=`${J}click ${H.taskId}`;if(H.callback)if(Y+=` call ${H.callback}`,H.callbackArgs)Y+=`(${H.callbackArgs})`;else Y+="()";if(H.href)Y+=` href "${H.href}"`;if(Y!==`${J}click ${H.taskId}`)W.push(Y)}return W.join(`
`)}class c7 extends tZ{constructor(Z){super(Z)}static create(){return new c7(RH())}static from(Z){return new c7(Z)}static parse(Z){let Q=CH(Z);return new c7(Q)}render(Z){return IH(this.ast,Z)}clone(){let Z={type:"gantt",title:this.ast.title,dateFormat:this.ast.dateFormat,axisFormat:this.ast.axisFormat,tickInterval:this.ast.tickInterval,inclusiveEndDates:this.ast.inclusiveEndDates,topAxis:this.ast.topAxis,excludes:this.ast.excludes,includes:this.ast.includes,todayMarker:this.ast.todayMarker,weekday:this.ast.weekday,weekend:this.ast.weekend,sections:this.ast.sections.map((Q)=>({...Q,tasks:Q.tasks.map((X)=>({...X}))})),tasks:this.ast.tasks.map((Q)=>({...Q})),clickEvents:this.ast.clickEvents.map((Q)=>({...Q})),accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new c7(Z)}get title(){return this.ast.title}set title(Z){this.ast.title=Z}get dateFormat(){return this.ast.dateFormat}set dateFormat(Z){this.ast.dateFormat=Z}get axisFormat(){return this.ast.axisFormat}set axisFormat(Z){this.ast.axisFormat=Z}get sections(){return this.ast.sections}get taskCount(){return this.ast.tasks.length+this.ast.sections.reduce((Z,Q)=>Z+Q.tasks.length,0)}get sectionCount(){return this.ast.sections.length}setTitle(Z){return this.ast.title=Z,this}setDateFormat(Z){return this.ast.dateFormat=Z,this}setAxisFormat(Z){return this.ast.axisFormat=Z,this}setTickInterval(Z){return this.ast.tickInterval=Z,this}enableInclusiveEndDates(){return this.ast.inclusiveEndDates=!0,this}disableInclusiveEndDates(){return this.ast.inclusiveEndDates=!1,this}enableTopAxis(){return this.ast.topAxis=!0,this}setExcludes(Z){return this.ast.excludes=Z,this}setIncludes(Z){return this.ast.includes=Z,this}setTodayMarker(Z){return this.ast.todayMarker=Z,this}setWeekday(Z){return this.ast.weekday=Z,this}setWeekend(Z){return this.ast.weekend=Z,this}addSection(Z){return this.ast.sections.push({name:Z,tasks:[]}),this}getSection(Z){return this.ast.sections.find((Q)=>Q.name===Z)}removeSection(Z){let Q=this.ast.sections.findIndex((X)=>X.name===Z);if(Q!==-1)this.ast.sections.splice(Q,1);return this}renameSection(Z,Q){let X=this.ast.sections.find((J)=>J.name===Z);if(X){X.name=Q;for(let J of X.tasks)J.section=Q}return this}addTask(Z,Q,X){let J={name:Z,section:Q,...X};if(Q){let W=this.ast.sections.find((H)=>H.name===Q);if(!W)W={name:Q,tasks:[]},this.ast.sections.push(W);W.tasks.push(J)}else this.ast.tasks.push(J);return this}getTask(Z){let Q=this.ast.tasks.find((X)=>X.id===Z);if(Q)return Q;for(let X of this.ast.sections){let J=X.tasks.find((W)=>W.id===Z);if(J)return J}return}removeTask(Z){let Q=this.ast.tasks.findIndex((X)=>X.id===Z);if(Q!==-1)return this.ast.tasks.splice(Q,1),this;for(let X of this.ast.sections){let J=X.tasks.findIndex((W)=>W.id===Z);if(J!==-1)return X.tasks.splice(J,1),this}return this}setTaskStatus(Z,Q){let X=this.getTask(Z);if(X)X.status=Q;return this}setMilestone(Z){return this.setTaskStatus(Z,"milestone")}setCritical(Z){return this.setTaskStatus(Z,"crit")}setDone(Z){return this.setTaskStatus(Z,"done")}setActive(Z){return this.setTaskStatus(Z,"active")}moveTask(Z,Q){let X,J=this.ast.tasks.findIndex((W)=>W.id===Z);if(J!==-1)X=this.ast.tasks.splice(J,1)[0];else for(let W of this.ast.sections){let H=W.tasks.findIndex((Y)=>Y.id===Z);if(H!==-1){X=W.tasks.splice(H,1)[0];break}}if(X){X.section=Q;let W=this.ast.sections.find((H)=>H.name===Q);if(!W)W={name:Q,tasks:[]},this.ast.sections.push(W);W.tasks.push(X)}return this}setClickCallback(Z,Q,X){let J=this.ast.clickEvents.find((W)=>W.taskId===Z);if(J)J.callback=Q,J.callbackArgs=X;else this.ast.clickEvents.push({taskId:Z,callback:Q,callbackArgs:X});return this}setLink(Z,Q){let X=this.ast.clickEvents.find((J)=>J.taskId===Z);if(X)X.href=Q;else this.ast.clickEvents.push({taskId:Z,href:Q});return this}getAllTasks(){let Z=[...this.ast.tasks];for(let Q of this.ast.sections)Z.push(...Q.tasks);return Z}findTasks(Z){return this.getAllTasks().filter((X)=>{if(Z.section&&X.section!==Z.section)return!1;if(Z.status&&X.status!==Z.status)return!1;if(Z.nameContains&&!X.name.includes(Z.nameContains))return!1;if(Z.id&&X.id!==Z.id)return!1;return!0})}getTasksInSection(Z){let Q=this.ast.sections.find((X)=>X.name===Z);return Q?Q.tasks:[]}getCriticalTasks(){return this.findTasks({status:"crit"})}getMilestones(){return this.findTasks({status:"milestone"})}}nG();oG();rG();aG();tG();eG();Zz();fX();var O9={},Fg={info:NZ(async()=>{let{createInfoServices:Z}=await Promise.resolve().then(() => (TP(),fP)),Q=Z().Info.parser.LangiumParser;O9.info=Q},"info"),packet:NZ(async()=>{let{createPacketServices:Z}=await Promise.resolve().then(() => (xP(),vP)),Q=Z().Packet.parser.LangiumParser;O9.packet=Q},"packet"),pie:NZ(async()=>{let{createPieServices:Z}=await Promise.resolve().then(() => (gP(),bP)),Q=Z().Pie.parser.LangiumParser;O9.pie=Q},"pie"),architecture:NZ(async()=>{let{createArchitectureServices:Z}=await Promise.resolve().then(() => (hP(),VP)),Q=Z().Architecture.parser.LangiumParser;O9.architecture=Q},"architecture"),gitGraph:NZ(async()=>{let{createGitGraphServices:Z}=await Promise.resolve().then(() => (mP(),kP)),Q=Z().GitGraph.parser.LangiumParser;O9.gitGraph=Q},"gitGraph"),radar:NZ(async()=>{let{createRadarServices:Z}=await Promise.resolve().then(() => (pP(),uP)),Q=Z().Radar.parser.LangiumParser;O9.radar=Q},"radar"),treemap:NZ(async()=>{let{createTreemapServices:Z}=await Promise.resolve().then(() => (dP(),yP)),Q=Z().Treemap.parser.LangiumParser;O9.treemap=Q},"treemap")};async function tW(Z,Q){let X=Fg[Z];if(!X)throw Error(`Unknown diagram type: ${Z}`);if(!O9[Z])await X();let W=O9[Z].parse(Q);if(W.lexerErrors.length>0||W.parserErrors.length>0)throw new qg(W);return W.value}NZ(tW,"parse");var qg=class extends Error{constructor(Z){let Q=Z.lexerErrors.map((J)=>J.message).join(`
`),X=Z.parserErrors.map((J)=>J.message).join(`
`);super(`Parsing failed: ${Q} ${X}`);this.result=Z}static{NZ(this,"MermaidParseError")}};function nY(){return{type:"gitGraph",statements:[]}}function oY(Z){let Q=Z.trim();return/^gitGraph(\s|:|$)/i.test(Q)}function wg(Z){let Q=nY();if(!Z)return Q;let X=Z;if(X.dir)Q.direction=X.dir;if(X.statements)for(let J of X.statements){let W=Mg(J);if(W)Q.statements.push(W)}return Q}function Mg(Z){switch(Z.$type){case"Commit":{let Q={type:"commit"};if(Z.id)Q.id=Z.id;if(Z.message)Q.message=Z.message;if(Z.tags&&Z.tags.length>0)Q.tag=Z.tags[0];if(Z.type)Q.commitType=Z.type;return Q}case"Branch":{let Q={type:"branch",name:Z.name||""};if(Z.order!==void 0)Q.order=Z.order;return Q}case"Checkout":return{type:"checkout",branch:Z.branch||""};case"Merge":{let Q={type:"merge",branch:Z.branch||""};if(Z.id)Q.id=Z.id;if(Z.tags&&Z.tags.length>0)Q.tag=Z.tags[0];if(Z.type)Q.commitType=Z.type;return Q}case"CherryPicking":{let Q={type:"cherry-pick",id:Z.id||""};if(Z.tags&&Z.tags.length>0)Q.tag=Z.tags[0];if(Z.parent)Q.parent=Z.parent;return Q}default:return null}}async function W8(Z){let Q=await tW("gitGraph",Z),X=Q;if(X.lexerErrors&&Array.isArray(X.lexerErrors)&&X.lexerErrors.length>0)throw Error(`Lexer error: ${X.lexerErrors[0].message}`);if(X.parserErrors&&Array.isArray(X.parserErrors)&&X.parserErrors.length>0)throw Error(`Parser error: ${X.parserErrors[0].message}`);return wg(Q)}aQ();eX();function Lg(Z){let Q=["commit"];if(Z.id)Q.push(`id: "${Z.id}"`);if(Z.message)Q.push(`msg: "${Z.message}"`);if(Z.tag)Q.push(`tag: "${Z.tag}"`);if(Z.commitType&&Z.commitType!=="NORMAL")Q.push(`type: ${Z.commitType}`);return Q.join(" ")}function Dg(Z){let Q=[`branch ${Z.name}`];if(Z.order!==void 0)Q.push(`order: ${Z.order}`);return Q.join(" ")}function Eg(Z){return`checkout ${Z.branch}`}function Ag(Z){let Q=[`merge ${Z.branch}`];if(Z.id)Q.push(`id: "${Z.id}"`);if(Z.tag)Q.push(`tag: "${Z.tag}"`);if(Z.commitType&&Z.commitType!=="NORMAL")Q.push(`type: ${Z.commitType}`);return Q.join(" ")}function Og(Z){let Q=[`cherry-pick id: "${Z.id}"`];if(Z.tag)Q.push(`tag: "${Z.tag}"`);if(Z.parent)Q.push(`parent: "${Z.parent}"`);return Q.join(" ")}function Pg(Z){switch(Z.type){case"commit":return Lg(Z);case"branch":return Dg(Z);case"checkout":return Eg(Z);case"merge":return Ag(Z);case"cherry-pick":return Og(Z)}}function H8(Z,Q){let X=QQ(Q),J="gitGraph";if(Z.direction)J+=` ${Z.direction}:`;let W=[J,KQ(Z.accTitle,()=>`accTitle: ${Z.accTitle}`),KQ(Z.accDescr,()=>`accDescr: ${Z.accDescr}`),KQ(Z.title,()=>`title ${Z.title}`),ZQ(Z.statements.map(Pg))];return xQ(W,X.indent)}class Y8 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=nY();if(Z)Q.direction=Z;return new Y8(Q)}static from(Z){return new Y8(structuredClone(Z))}static async parse(Z){let Q=await W8(Z);return new Y8(Q)}render(Z){return H8(this.ast,Z)}clone(){return Y8.from(this.ast)}setDirection(Z){return this.ast.direction=Z,this}getDirection(){return this.ast.direction}setTitle(Z){return this.ast.title=Z,this}getTitle(){return this.ast.title}removeTitle(){return this.ast.title=void 0,this}setAccTitle(Z){return this.ast.accTitle=Z,this}getAccTitle(){return this.ast.accTitle}setAccDescr(Z){return this.ast.accDescr=Z,this}getAccDescr(){return this.ast.accDescr}commit(Z){let Q={type:"commit"};if(Z?.id)Q.id=Z.id;if(Z?.message)Q.message=Z.message;if(Z?.tag)Q.tag=Z.tag;if(Z?.commitType)Q.commitType=Z.commitType;return this.ast.statements.push(Q),this}get commitCount(){return this.ast.statements.filter((Z)=>Z.type==="commit").length}findCommits(Z){let Q=this.ast.statements.filter((X)=>X.type==="commit");if(!Z)return Q;return Q.filter((X)=>{if(Z.id&&X.id!==Z.id)return!1;if(Z.tag&&X.tag!==Z.tag)return!1;if(Z.commitType&&X.commitType!==Z.commitType)return!1;return!0})}getCommit(Z){return this.ast.statements.find((Q)=>Q.type==="commit"&&Q.id===Z)}branch(Z,Q){let X={type:"branch",name:Z};if(Q?.order!==void 0)X.order=Q.order;return this.ast.statements.push(X),this}checkout(Z){let Q={type:"checkout",branch:Z};return this.ast.statements.push(Q),this}get branchCount(){return this.ast.statements.filter((Z)=>Z.type==="branch").length}findBranches(Z){let Q=this.ast.statements.filter((X)=>X.type==="branch");if(!Z)return Q;return Q.filter((X)=>{if(Z.name&&X.name!==Z.name)return!1;return!0})}getBranch(Z){return this.ast.statements.find((Q)=>Q.type==="branch"&&Q.name===Z)}merge(Z,Q){let X={type:"merge",branch:Z};if(Q?.id)X.id=Q.id;if(Q?.tag)X.tag=Q.tag;if(Q?.commitType)X.commitType=Q.commitType;return this.ast.statements.push(X),this}get mergeCount(){return this.ast.statements.filter((Z)=>Z.type==="merge").length}cherryPick(Z,Q){let X={type:"cherry-pick",id:Z};if(Q?.tag)X.tag=Q.tag;if(Q?.parent)X.parent=Q.parent;return this.ast.statements.push(X),this}getStatements(){return[...this.ast.statements]}get statementCount(){return this.ast.statements.length}}function rY(){return{type:"journey",sections:[]}}var Qz=function(){var Z=function(z,F,q,L){for(q=q||{},L=z.length;L--;q[z[L]]=F);return q},Q=[6,8,10,11,12,14,16,17,18],X=[1,9],J=[1,10],W=[1,11],H=[1,12],Y=[1,13],B=[1,14],K={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:function(F,q,L,A,k,T,p){var s=T.length-1;switch(k){case 1:return T[s-1];case 2:this.$=[];break;case 3:T[s-1].push(T[s]),this.$=T[s-1];break;case 4:case 5:this.$=T[s];break;case 6:case 7:this.$=[];break;case 8:A.setDiagramTitle(T[s].substr(6)),this.$=T[s].substr(6);break;case 9:this.$=T[s].trim(),A.setAccTitle(this.$);break;case 10:case 11:this.$=T[s].trim(),A.setAccDescription(this.$);break;case 12:A.addSection(T[s].substr(8)),this.$=T[s].substr(8);break;case 13:A.addTask(T[s-1],T[s]),this.$="task";break}},table:[{3:1,4:[1,2]},{1:[3]},Z(Q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:X,12:J,14:W,16:H,17:Y,18:B},Z(Q,[2,7],{1:[2,1]}),Z(Q,[2,3]),{9:15,11:X,12:J,14:W,16:H,17:Y,18:B},Z(Q,[2,5]),Z(Q,[2,6]),Z(Q,[2,8]),{13:[1,16]},{15:[1,17]},Z(Q,[2,11]),Z(Q,[2,12]),{19:[1,18]},Z(Q,[2,4]),Z(Q,[2,9]),Z(Q,[2,10]),Z(Q,[2,13])],defaultActions:{},parseError:function(F,q){if(q.recoverable)this.trace(F);else{var L=Error(F);throw L.hash=q,L}},parse:function(F){var q=this,L=[0],A=[],k=[null],T=[],p=this.table,s="",y=0,C=0,P=0,g=2,f=1,O=T.slice.call(arguments,1),h=Object.create(this.lexer),w={yy:{}};for(var $ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,$))w.yy[$]=this.yy[$];if(h.setInput(F,w.yy),w.yy.lexer=h,w.yy.parser=this,typeof h.yylloc>"u")h.yylloc={};var j=h.yylloc;T.push(j);var n=h.options&&h.options.ranges;if(typeof w.yy.parseError==="function")this.parseError=w.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function d(UZ){L.length=L.length-2*UZ,k.length=k.length-UZ,T.length=T.length-UZ}function m(){var UZ=A.pop()||h.lex()||f;if(typeof UZ!=="number"){if(UZ instanceof Array)A=UZ,UZ=A.pop();UZ=q.symbols_[UZ]||UZ}return UZ}var b,u,S,l,I,QZ,WZ={},MZ,r,qZ,BZ;while(!0){if(S=L[L.length-1],this.defaultActions[S])l=this.defaultActions[S];else{if(b===null||typeof b>"u")b=m();l=p[S]&&p[S][b]}if(typeof l>"u"||!l.length||!l[0]){var DZ="";BZ=[];for(MZ in p[S])if(this.terminals_[MZ]&&MZ>g)BZ.push("'"+this.terminals_[MZ]+"'");if(h.showPosition)DZ="Parse error on line "+(y+1)+`:
`+h.showPosition()+`
Expecting `+BZ.join(", ")+", got '"+(this.terminals_[b]||b)+"'";else DZ="Parse error on line "+(y+1)+": Unexpected "+(b==f?"end of input":"'"+(this.terminals_[b]||b)+"'");this.parseError(DZ,{text:h.match,token:this.terminals_[b]||b,line:h.yylineno,loc:j,expected:BZ})}if(l[0]instanceof Array&&l.length>1)throw Error("Parse Error: multiple actions possible at state: "+S+", token: "+b);switch(l[0]){case 1:if(L.push(b),k.push(h.yytext),T.push(h.yylloc),L.push(l[1]),b=null,!u){if(C=h.yyleng,s=h.yytext,y=h.yylineno,j=h.yylloc,P>0)P--}else b=u,u=null;break;case 2:if(r=this.productions_[l[1]][1],WZ.$=k[k.length-r],WZ._$={first_line:T[T.length-(r||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(r||1)].first_column,last_column:T[T.length-1].last_column},n)WZ._$.range=[T[T.length-(r||1)].range[0],T[T.length-1].range[1]];if(QZ=this.performAction.apply(WZ,[s,C,y,w.yy,l[1],k,T].concat(O)),typeof QZ<"u")return QZ;if(r)L=L.slice(0,-1*r*2),k=k.slice(0,-1*r),T=T.slice(0,-1*r);L.push(this.productions_[l[1]][0]),k.push(WZ.$),T.push(WZ._$),qZ=p[L[L.length-2]][L[L.length-1]],L.push(qZ);break;case 3:return!0}}return!0}},U=function(){var z={EOF:1,parseError:function(q,L){if(this.yy.parser)this.yy.parser.parseError(q,L);else throw Error(q)},setInput:function(F,q){if(this.yy=q||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var q=F.match(/(?:\r\n?|\n).*/g);if(q)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),F},unput:function(F){var q=F.length,L=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var A=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1)this.yylineno-=L.length-1;var k=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===A.length?this.yylloc.first_column:0)+A[A.length-L.length].length-L[0].length:this.yylloc.first_column-q},this.options.ranges)this.yylloc.range=[k[0],k[0]+this.yyleng-q];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(F){this.unput(this.match.slice(F))},pastInput:function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var F=this.match;if(F.length<20)F+=this._input.substr(0,20-F.length);return(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var F=this.pastInput(),q=Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+q+"^"},test_match:function(F,q){var L,A,k;if(this.options.backtrack_lexer){if(k={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)k.yylloc.range=this.yylloc.range.slice(0)}if(A=F[0].match(/(?:\r\n?|\n).*/g),A)this.yylineno+=A.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-A[A.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],L=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(L)return L;else if(this._backtrack){for(var T in k)this[T]=k[T];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var F,q,L,A;if(!this._more)this.yytext="",this.match="";var k=this._currentRules();for(var T=0;T<k.length;T++)if(L=this._input.match(this.rules[k[T]]),L&&(!q||L[0].length>q[0].length)){if(q=L,A=T,this.options.backtrack_lexer)if(F=this.test_match(L,k[T]),F!==!1)return F;else if(this._backtrack){q=!1;continue}else return!1;else if(!this.options.flex)break}if(q){if(F=this.test_match(q,k[A]),F!==!1)return F;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var q=this.next();if(q)return q;else return this.lex()},begin:function(q){this.conditionStack.push(q)},popState:function(){var q=this.conditionStack.length-1;if(q>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(q){if(q=this.conditionStack.length-1-Math.abs(q||0),q>=0)return this.conditionStack[q];else return"INITIAL"},pushState:function(q){this.begin(q)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(q,L,A,k){var T=k;switch(A){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return z}();K.lexer=U;function G(){this.yy={}}return G.prototype=K,K.Parser=G,new G}();Qz.parser=Qz;var Xz=Qz;function Ng(Z){let X=Z.replace(/^:\s*/,"").trim().split(":"),J=Number.parseInt(X[0].trim(),10)||5,W=[];if(X.length>1){let H=X.slice(1).join(":").trim();if(H)W.push(...H.split(",").map((Y)=>Y.trim()).filter((Y)=>Y))}return{score:J,actors:W}}function Rg(Z){let Q=null;return{setDiagramTitle(X){Z.title=X},addSection(X){Q={name:X,tasks:[]},Z.sections.push(Q)},addTask(X,J){let{score:W,actors:H}=Ng(J),Y={name:X.trim(),score:W,actors:H};if(!Q)Q={name:"",tasks:[]},Z.sections.push(Q);Q.tasks.push(Y)},setAccTitle(X){Z.accTitle=X},setAccDescription(X){Z.accDescription=X},clear(){},getTitle(){return Z.title??""},getSections(){return Z.sections},getTasks(){return Z.sections.flatMap((X)=>X.tasks)}}}function aY(Z){let Q=rY(),X=Z.trim();if(!X.toLowerCase().startsWith("journey"))X=`journey
${X}`;return Xz.yy=Rg(Q),Xz.parse(X),Q}function $P(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("journey")}aQ();function Cg(Z){let Q=`${Z.name}: ${Z.score}`;if(Z.actors.length>0)Q+=`: ${Z.actors.join(", ")}`;return Q}function tY(Z,Q){let J=QQ(Q).indent,W=[];if(W.push("journey"),Z.title)W.push(`${J}title ${Z.title}`);for(let H of Z.sections){if(H.name)W.push(`${J}section ${H.name}`);for(let Y of H.tasks)W.push(`${J}${J}${Cg(Y)}`)}return W.join(`
`)}class B8 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=rY();if(Z)Q.title=Z;return new B8(Q)}static from(Z){return new B8(Z)}static parse(Z){let Q=aY(Z);return new B8(Q)}render(Z){return tY(this.ast,Z)}clone(){let Z={type:"journey",title:this.ast.title,sections:this.ast.sections.map((Q)=>({...Q,tasks:Q.tasks.map((X)=>({...X,actors:[...X.actors]}))})),accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new B8(Z)}get title(){return this.ast.title}get sections(){return this.ast.sections}get sectionCount(){return this.ast.sections.length}get taskCount(){return this.ast.sections.reduce((Z,Q)=>Z+Q.tasks.length,0)}get actors(){let Z=new Set;for(let Q of this.ast.sections)for(let X of Q.tasks)for(let J of X.actors)Z.add(J);return Array.from(Z)}setTitle(Z){return this.ast.title=Z,this}addSection(Z){return this.ast.sections.push({name:Z,tasks:[]}),this}getSection(Z){return this.ast.sections.find((Q)=>Q.name===Z)}removeSection(Z){let Q=this.ast.sections.findIndex((X)=>X.name===Z);if(Q!==-1)this.ast.sections.splice(Q,1);return this}renameSection(Z,Q){let X=this.getSection(Z);if(X)X.name=Q;return this}addTask(Z,Q,X){let J=this.getSection(Z);if(!J)this.addSection(Z),J=this.getSection(Z);return J.tasks.push({name:Q,score:X?.score??5,actors:X?.actors??[]}),this}removeTask(Z,Q){let X=this.getSection(Z);if(X){let J=X.tasks.findIndex((W)=>W.name===Q);if(J!==-1)X.tasks.splice(J,1)}return this}getTask(Z){for(let Q of this.ast.sections){let X=Q.tasks.find((J)=>J.name===Z);if(X)return X}return}setScore(Z,Q){let X=this.getTask(Z);if(X)X.score=Math.max(1,Math.min(5,Q));return this}addActor(Z,Q){let X=this.getTask(Z);if(X&&!X.actors.includes(Q))X.actors.push(Q);return this}removeActor(Z,Q){let X=this.getTask(Z);if(X){let J=X.actors.indexOf(Q);if(J!==-1)X.actors.splice(J,1)}return this}moveTask(Z,Q){let X;for(let J of this.ast.sections){let W=J.tasks.findIndex((H)=>H.name===Z);if(W!==-1){X=J.tasks.splice(W,1)[0];break}}if(X){let J=this.getSection(Q);if(!J)this.addSection(Q),J=this.getSection(Q);J.tasks.push(X)}return this}getAllTasks(){return this.ast.sections.flatMap((Z)=>Z.tasks)}findTasks(Z){let Q=this.getAllTasks();if(Z.section){let X=this.getSection(Z.section);Q=X?X.tasks:[]}return Q.filter((X)=>{if(Z.score!==void 0&&X.score!==Z.score)return!1;if(Z.minScore!==void 0&&X.score<Z.minScore)return!1;if(Z.maxScore!==void 0&&X.score>Z.maxScore)return!1;if(Z.actor&&!X.actors.includes(Z.actor))return!1;if(Z.nameContains&&!X.name.includes(Z.nameContains))return!1;return!0})}getPainPoints(Z=2){return this.findTasks({maxScore:Z})}getHighlights(Z=4){return this.findTasks({minScore:Z})}getAverageScore(){let Z=this.getAllTasks();if(Z.length===0)return 0;return Z.reduce((X,J)=>X+J.score,0)/Z.length}getTasksForActor(Z){return this.findTasks({actor:Z})}}var XX;(function(Z){Z[Z.ROUND=0]="ROUND",Z[Z.SQUARE=1]="SQUARE",Z[Z.DIAMOND=2]="DIAMOND",Z[Z.HEXAGON=3]="HEXAGON",Z[Z.ODD=4]="ODD",Z[Z.CIRCLE=5]="CIRCLE",Z[Z.ASYMMETRIC=6]="ASYMMETRIC",Z[Z.RHOMBUS=7]="RHOMBUS",Z[Z.CYLINDER=8]="CYLINDER",Z[Z.ROUND_EDGE=9]="ROUND_EDGE",Z[Z.SUBROUTINE=10]="SUBROUTINE",Z[Z.STADIUM=11]="STADIUM",Z[Z.DOUBLE_CIRCLE=12]="DOUBLE_CIRCLE"})(XX||(XX={}));function eY(){return{type:"kanban",nodes:[]}}var Jz=function(){var Z=function(g,f,O,h){for(O=O||{},h=g.length;h--;O[g[h]]=f);return O},Q=[1,4],X=[1,13],J=[1,12],W=[1,15],H=[1,16],Y=[1,20],B=[1,19],K=[6,7,8],U=[1,26],G=[1,24],z=[1,25],F=[6,7,11],q=[1,31],L=[6,7,11,24],A=[1,6,13,16,17,20,23],k=[1,35],T=[1,36],p=[1,6,7,11,13,16,17,20,23],s=[1,38],y={trace:function(){},yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:function(f,O,h,w,$,j,n){var d=j.length-1;switch($){case 6:case 7:return w;case 8:w.getLogger().trace("Stop NL ");break;case 9:w.getLogger().trace("Stop EOF ");break;case 11:w.getLogger().trace("Stop NL2 ");break;case 12:w.getLogger().trace("Stop EOF2 ");break;case 15:w.getLogger().info("Node: ",j[d-1].id),w.addNode(j[d-2].length,j[d-1].id,j[d-1].descr,j[d-1].type,j[d]);break;case 16:w.getLogger().info("Node: ",j[d].id),w.addNode(j[d-1].length,j[d].id,j[d].descr,j[d].type);break;case 17:w.getLogger().trace("Icon: ",j[d]),w.decorateNode({icon:j[d]});break;case 18:case 23:w.decorateNode({class:j[d]});break;case 19:w.getLogger().trace("SPACELIST");break;case 20:w.getLogger().trace("Node: ",j[d-1].id),w.addNode(0,j[d-1].id,j[d-1].descr,j[d-1].type,j[d]);break;case 21:w.getLogger().trace("Node: ",j[d].id),w.addNode(0,j[d].id,j[d].descr,j[d].type);break;case 22:w.decorateNode({icon:j[d]});break;case 27:w.getLogger().trace("node found ..",j[d-2]),this.$={id:j[d-1],descr:j[d-1],type:w.getType(j[d-2],j[d])};break;case 28:this.$={id:j[d],descr:j[d],type:0};break;case 29:w.getLogger().trace("node found ..",j[d-3]),this.$={id:j[d-3],descr:j[d-1],type:w.getType(j[d-2],j[d])};break;case 30:this.$=j[d-1]+j[d];break;case 31:this.$=j[d];break}},table:[{3:1,4:2,5:3,6:[1,5],8:Q},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:Q},{6:X,7:[1,10],9:9,12:11,13:J,14:14,16:W,17:H,18:17,19:18,20:Y,23:B},Z(K,[2,3]),{1:[2,2]},Z(K,[2,4]),Z(K,[2,5]),{1:[2,6],6:X,12:21,13:J,14:14,16:W,17:H,18:17,19:18,20:Y,23:B},{6:X,9:22,12:11,13:J,14:14,16:W,17:H,18:17,19:18,20:Y,23:B},{6:U,7:G,10:23,11:z},Z(F,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:Y,23:B}),Z(F,[2,19]),Z(F,[2,21],{15:30,24:q}),Z(F,[2,22]),Z(F,[2,23]),Z(L,[2,25]),Z(L,[2,26]),Z(L,[2,28],{20:[1,32]}),{21:[1,33]},{6:U,7:G,10:34,11:z},{1:[2,7],6:X,12:21,13:J,14:14,16:W,17:H,18:17,19:18,20:Y,23:B},Z(A,[2,14],{7:k,11:T}),Z(p,[2,8]),Z(p,[2,9]),Z(p,[2,10]),Z(F,[2,16],{15:37,24:q}),Z(F,[2,17]),Z(F,[2,18]),Z(F,[2,20],{24:s}),Z(L,[2,31]),{21:[1,39]},{22:[1,40]},Z(A,[2,13],{7:k,11:T}),Z(p,[2,11]),Z(p,[2,12]),Z(F,[2,15],{24:s}),Z(L,[2,30]),{22:[1,41]},Z(L,[2,27]),Z(L,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:function(f,O){if(O.recoverable)this.trace(f);else{var h=Error(f);throw h.hash=O,h}},parse:function(f){var O=this,h=[0],w=[],$=[null],j=[],n=this.table,d="",m=0,b=0,u=0,S=2,l=1,I=j.slice.call(arguments,1),QZ=Object.create(this.lexer),WZ={yy:{}};for(var MZ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,MZ))WZ.yy[MZ]=this.yy[MZ];if(QZ.setInput(f,WZ.yy),WZ.yy.lexer=QZ,WZ.yy.parser=this,typeof QZ.yylloc>"u")QZ.yylloc={};var r=QZ.yylloc;j.push(r);var qZ=QZ.options&&QZ.options.ranges;if(typeof WZ.yy.parseError==="function")this.parseError=WZ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function BZ(IZ){h.length=h.length-2*IZ,$.length=$.length-IZ,j.length=j.length-IZ}function DZ(){var IZ=w.pop()||QZ.lex()||l;if(typeof IZ!=="number"){if(IZ instanceof Array)w=IZ,IZ=w.pop();IZ=O.symbols_[IZ]||IZ}return IZ}var UZ,AZ,e,ZZ,i,V,o={},N,YZ,M,mZ;while(!0){if(e=h[h.length-1],this.defaultActions[e])ZZ=this.defaultActions[e];else{if(UZ===null||typeof UZ>"u")UZ=DZ();ZZ=n[e]&&n[e][UZ]}if(typeof ZZ>"u"||!ZZ.length||!ZZ[0]){var a="";mZ=[];for(N in n[e])if(this.terminals_[N]&&N>S)mZ.push("'"+this.terminals_[N]+"'");if(QZ.showPosition)a="Parse error on line "+(m+1)+`:
`+QZ.showPosition()+`
Expecting `+mZ.join(", ")+", got '"+(this.terminals_[UZ]||UZ)+"'";else a="Parse error on line "+(m+1)+": Unexpected "+(UZ==l?"end of input":"'"+(this.terminals_[UZ]||UZ)+"'");this.parseError(a,{text:QZ.match,token:this.terminals_[UZ]||UZ,line:QZ.yylineno,loc:r,expected:mZ})}if(ZZ[0]instanceof Array&&ZZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+e+", token: "+UZ);switch(ZZ[0]){case 1:if(h.push(UZ),$.push(QZ.yytext),j.push(QZ.yylloc),h.push(ZZ[1]),UZ=null,!AZ){if(b=QZ.yyleng,d=QZ.yytext,m=QZ.yylineno,r=QZ.yylloc,u>0)u--}else UZ=AZ,AZ=null;break;case 2:if(YZ=this.productions_[ZZ[1]][1],o.$=$[$.length-YZ],o._$={first_line:j[j.length-(YZ||1)].first_line,last_line:j[j.length-1].last_line,first_column:j[j.length-(YZ||1)].first_column,last_column:j[j.length-1].last_column},qZ)o._$.range=[j[j.length-(YZ||1)].range[0],j[j.length-1].range[1]];if(V=this.performAction.apply(o,[d,b,m,WZ.yy,ZZ[1],$,j].concat(I)),typeof V<"u")return V;if(YZ)h=h.slice(0,-1*YZ*2),$=$.slice(0,-1*YZ),j=j.slice(0,-1*YZ);h.push(this.productions_[ZZ[1]][0]),$.push(o.$),j.push(o._$),M=n[h[h.length-2]][h[h.length-1]],h.push(M);break;case 3:return!0}}return!0}},C=function(){var g={EOF:1,parseError:function(O,h){if(this.yy.parser)this.yy.parser.parseError(O,h);else throw Error(O)},setInput:function(f,O){if(this.yy=O||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var O=f.match(/(?:\r\n?|\n).*/g);if(O)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),f},unput:function(f){var O=f.length,h=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var w=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1)this.yylineno-=h.length-1;var $=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===w.length?this.yylloc.first_column:0)+w[w.length-h.length].length-h[0].length:this.yylloc.first_column-O},this.options.ranges)this.yylloc.range=[$[0],$[0]+this.yyleng-O];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(f){this.unput(this.match.slice(f))},pastInput:function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var f=this.match;if(f.length<20)f+=this._input.substr(0,20-f.length);return(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var f=this.pastInput(),O=Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+O+"^"},test_match:function(f,O){var h,w,$;if(this.options.backtrack_lexer){if($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)$.yylloc.range=this.yylloc.range.slice(0)}if(w=f[0].match(/(?:\r\n?|\n).*/g),w)this.yylineno+=w.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],h=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(h)return h;else if(this._backtrack){for(var j in $)this[j]=$[j];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var f,O,h,w;if(!this._more)this.yytext="",this.match="";var $=this._currentRules();for(var j=0;j<$.length;j++)if(h=this._input.match(this.rules[$[j]]),h&&(!O||h[0].length>O[0].length)){if(O=h,w=j,this.options.backtrack_lexer)if(f=this.test_match(h,$[j]),f!==!1)return f;else if(this._backtrack){O=!1;continue}else return!1;else if(!this.options.flex)break}if(O){if(f=this.test_match(O,$[w]),f!==!1)return f;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var O=this.next();if(O)return O;else return this.lex()},begin:function(O){this.conditionStack.push(O)},popState:function(){var O=this.conditionStack.length-1;if(O>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(O){if(O=this.conditionStack.length-1-Math.abs(O||0),O>=0)return this.conditionStack[O];else return"INITIAL"},pushState:function(O){this.begin(O)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(O,h,w,$){var j=$;switch(w){case 0:return this.pushState("shapeData"),h.yytext="",24;break;case 1:return this.pushState("shapeDataStr"),24;break;case 2:return this.popState(),24;break;case 3:let n=/\n\s*/g;return h.yytext=h.yytext.replace(n,"<br/>"),24;break;case 4:return 24;case 5:this.popState();break;case 6:return O.getLogger().trace("Found comment",h.yytext),6;break;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;break;case 10:this.popState();break;case 11:O.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return O.getLogger().trace("SPACELINE"),6;break;case 13:return 7;case 14:return 16;case 15:O.getLogger().trace("end icon"),this.popState();break;case 16:return O.getLogger().trace("Exploding node"),this.begin("NODE"),20;break;case 17:return O.getLogger().trace("Cloud"),this.begin("NODE"),20;break;case 18:return O.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;break;case 19:return O.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;break;case 20:return this.begin("NODE"),20;break;case 21:return this.begin("NODE"),20;break;case 22:return this.begin("NODE"),20;break;case 23:return this.begin("NODE"),20;break;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:O.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return O.getLogger().trace("description:",h.yytext),"NODE_DESCR";break;case 32:this.popState();break;case 33:return this.popState(),O.getLogger().trace("node end ))"),"NODE_DEND";break;case 34:return this.popState(),O.getLogger().trace("node end )"),"NODE_DEND";break;case 35:return this.popState(),O.getLogger().trace("node end ...",h.yytext),"NODE_DEND";break;case 36:return this.popState(),O.getLogger().trace("node end (("),"NODE_DEND";break;case 37:return this.popState(),O.getLogger().trace("node end (-"),"NODE_DEND";break;case 38:return this.popState(),O.getLogger().trace("node end (-"),"NODE_DEND";break;case 39:return this.popState(),O.getLogger().trace("node end (("),"NODE_DEND";break;case 40:return this.popState(),O.getLogger().trace("node end (("),"NODE_DEND";break;case 41:return O.getLogger().trace("Long description:",h.yytext),21;break;case 42:return O.getLogger().trace("Long description:",h.yytext),21;break}},rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return g}();y.lexer=C;function P(){this.yy={}}return P.prototype=y,y.Parser=P,new P}();Jz.parser=Jz;var Wz=Jz;function Ig(Z,Q){switch(`${Z}${Q}`){case"()":return XX.ROUND;case"[]":return XX.SQUARE;case"{{}}":return XX.DIAMOND;case"(())":return XX.STADIUM;case"([-])":return XX.SUBROUTINE;case"(-)-)":return XX.ASYMMETRIC;default:return XX.SQUARE}}function _g(Z){let Q=[],X=null;return{addNode(J,W,H,Y,B){while(Q.length>0&&Q[Q.length-1].indent>=J)Q.pop();let K=Q.length,U={id:W,descr:H,type:Y,indent:K,children:[]};if(B)U.shapeData=B;if(Q.length===0)Z.nodes.push(U);else Q[Q.length-1].node.children.push(U);Q.push({node:U,indent:J}),X=U},decorateNode(J){if(X){if(J.icon!==void 0)X.icon=J.icon;if(J.class!==void 0)X.class=J.class}},getType(J,W){return Ig(J,W)},getLogger(){return{trace:()=>{},info:()=>{},debug:()=>{},warn:()=>{},error:()=>{}}}}}function Z3(Z){let Q=eY(),X=Z.trim();if(!X.toLowerCase().startsWith("kanban"))X=`kanban
${X}`;if(X.toLowerCase()==="kanban")X=`kanban
`;return Wz.yy=_g(Q),Wz.parse(X),Q}function lP(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("kanban")}aQ();eX();function Sg(Z){switch(Z){case XX.ROUND:return["(",")"];case XX.SQUARE:return["[","]"];case XX.DIAMOND:return["{{","}}"];case XX.STADIUM:return["((","))"];case XX.SUBROUTINE:return["([-","-])"];case XX.ASYMMETRIC:return["(-)","-)"];default:return["[","]"]}}function jg(Z){let[Q,X]=Sg(Z.type);if(Z.id===Z.descr)return Z.id;return`${Z.id}${Q}${Z.descr}${X}`}function cP(Z){return Z.map((Q)=>{let X=jg(Q);if(Q.shapeData)X+=`@{${Q.shapeData}}`;let J=[X];if(Q.icon)J.push(`::icon(${Q.icon})`);if(Q.class)J.push(`:::${Q.class}`);if(Q.children.length>0)J.push(ZQ(cP(Q.children)));return J})}function Q3(Z,Q){let X=QQ(Q),J=["kanban",ZQ(cP(Z.nodes))];return xQ(J,X.indent)}class K8 extends tZ{constructor(Z){super(Z)}static create(){let Z=eY();return new K8(Z)}static from(Z){return new K8(Z)}static parse(Z){let Q=Z3(Z);return new K8(Q)}render(Z){return Q3(this.ast,Z)}clone(){let Z=(X)=>({...X,children:X.children.map(Z)}),Q={type:"kanban",nodes:this.ast.nodes.map(Z)};return new K8(Q)}get nodes(){return this.ast.nodes}get nodeCount(){let Z=(Q)=>{return Q.reduce((X,J)=>X+1+Z(J.children),0)};return Z(this.ast.nodes)}addNode(Z,Q,X){let J={id:Z,descr:Q??Z,type:X?.type??XX.SQUARE,indent:0,children:[]};if(X?.icon)J.icon=X.icon;if(X?.class)J.class=X.class;if(X?.shapeData)J.shapeData=X.shapeData;return this.ast.nodes.push(J),this}addChild(Z,Q,X,J){let W=this.findNodeById(Z);if(!W)throw Error(`Parent node with id "${Z}" not found`);let H={id:Q,descr:X??Q,type:J?.type??XX.SQUARE,indent:W.indent+1,children:[]};if(J?.icon)H.icon=J.icon;if(J?.class)H.class=J.class;if(J?.shapeData)H.shapeData=J.shapeData;return W.children.push(H),this}findNodeById(Z){let Q=(X)=>{for(let J of X){if(J.id===Z)return J;let W=Q(J.children);if(W)return W}return};return Q(this.ast.nodes)}removeNode(Z){let Q=(X)=>{for(let J=0;J<X.length;J++){if(X[J].id===Z)return X.splice(J,1),!0;if(Q(X[J].children))return!0}return!1};return Q(this.ast.nodes),this}setNodeDescr(Z,Q){let X=this.findNodeById(Z);if(X)X.descr=Q;return this}setNodeType(Z,Q){let X=this.findNodeById(Z);if(X)X.type=Q;return this}setNodeIcon(Z,Q){let X=this.findNodeById(Z);if(X)X.icon=Q;return this}removeNodeIcon(Z){let Q=this.findNodeById(Z);if(Q)delete Q.icon;return this}setNodeClass(Z,Q){let X=this.findNodeById(Z);if(X)X.class=Q;return this}removeNodeClass(Z){let Q=this.findNodeById(Z);if(Q)delete Q.class;return this}getAllNodes(){let Z=(Q)=>{return Q.flatMap((X)=>[X,...Z(X.children)])};return Z(this.ast.nodes)}findNodes(Z){return this.getAllNodes().filter((X)=>{if(Z.type!==void 0&&X.type!==Z.type)return!1;if(Z.icon!==void 0&&X.icon!==Z.icon)return!1;if(Z.class!==void 0&&X.class!==Z.class)return!1;if(Z.descrContains&&!X.descr.includes(Z.descrContains))return!1;if(Z.indent!==void 0&&X.indent!==Z.indent)return!1;return!0})}getChildren(Z){let Q=this.findNodeById(Z);return Q?Q.children:[]}getParent(Z){let Q=(X,J)=>{for(let W of X){if(W.children.some((Y)=>Y.id===J))return W;let H=Q(W.children,J);if(H)return H}return};return Q(this.ast.nodes,Z)}getLeafNodes(){return this.getAllNodes().filter((Z)=>Z.children.length===0)}getDepth(){let Z=(Q,X)=>{if(Q.length===0)return X;return Math.max(...Q.map((J)=>Z(J.children,X+1)))};return Z(this.ast.nodes,0)}}function X3(){return{type:"mindmap"}}var Hz=function(){var Z=function(y,C,P,g){for(P=P||{},g=y.length;g--;P[y[g]]=C);return P},Q=[1,4],X=[1,13],J=[1,12],W=[1,15],H=[1,16],Y=[1,20],B=[1,19],K=[6,7,8],U=[1,26],G=[1,24],z=[1,25],F=[6,7,11],q=[1,6,13,15,16,19,22],L=[1,33],A=[1,34],k=[1,6,7,11,13,15,16,19,22],T={trace:function(){},yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:function(C,P,g,f,O,h,w){var $=h.length-1;switch(O){case 6:case 7:return f;case 8:f.getLogger().trace("Stop NL ");break;case 9:f.getLogger().trace("Stop EOF ");break;case 11:f.getLogger().trace("Stop NL2 ");break;case 12:f.getLogger().trace("Stop EOF2 ");break;case 15:f.getLogger().info("Node: ",h[$].id),f.addNode(h[$-1].length,h[$].id,h[$].descr,h[$].type);break;case 16:f.getLogger().trace("Icon: ",h[$]),f.decorateNode({icon:h[$]});break;case 17:case 21:f.decorateNode({class:h[$]});break;case 18:f.getLogger().trace("SPACELIST");break;case 19:f.getLogger().trace("Node: ",h[$].id),f.addNode(0,h[$].id,h[$].descr,h[$].type);break;case 20:f.decorateNode({icon:h[$]});break;case 25:f.getLogger().trace("node found ..",h[$-2]),this.$={id:h[$-1],descr:h[$-1],type:f.getType(h[$-2],h[$])};break;case 26:this.$={id:h[$],descr:h[$],type:f.nodeType.DEFAULT};break;case 27:f.getLogger().trace("node found ..",h[$-3]),this.$={id:h[$-3],descr:h[$-1],type:f.getType(h[$-2],h[$])};break}},table:[{3:1,4:2,5:3,6:[1,5],8:Q},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:Q},{6:X,7:[1,10],9:9,12:11,13:J,14:14,15:W,16:H,17:17,18:18,19:Y,22:B},Z(K,[2,3]),{1:[2,2]},Z(K,[2,4]),Z(K,[2,5]),{1:[2,6],6:X,12:21,13:J,14:14,15:W,16:H,17:17,18:18,19:Y,22:B},{6:X,9:22,12:11,13:J,14:14,15:W,16:H,17:17,18:18,19:Y,22:B},{6:U,7:G,10:23,11:z},Z(F,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:Y,22:B}),Z(F,[2,18]),Z(F,[2,19]),Z(F,[2,20]),Z(F,[2,21]),Z(F,[2,23]),Z(F,[2,24]),Z(F,[2,26],{19:[1,30]}),{20:[1,31]},{6:U,7:G,10:32,11:z},{1:[2,7],6:X,12:21,13:J,14:14,15:W,16:H,17:17,18:18,19:Y,22:B},Z(q,[2,14],{7:L,11:A}),Z(k,[2,8]),Z(k,[2,9]),Z(k,[2,10]),Z(F,[2,15]),Z(F,[2,16]),Z(F,[2,17]),{20:[1,35]},{21:[1,36]},Z(q,[2,13],{7:L,11:A}),Z(k,[2,11]),Z(k,[2,12]),{21:[1,37]},Z(F,[2,25]),Z(F,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:function(C,P){if(P.recoverable)this.trace(C);else{var g=Error(C);throw g.hash=P,g}},parse:function(C){var P=this,g=[0],f=[],O=[null],h=[],w=this.table,$="",j=0,n=0,d=0,m=2,b=1,u=h.slice.call(arguments,1),S=Object.create(this.lexer),l={yy:{}};for(var I in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,I))l.yy[I]=this.yy[I];if(S.setInput(C,l.yy),l.yy.lexer=S,l.yy.parser=this,typeof S.yylloc>"u")S.yylloc={};var QZ=S.yylloc;h.push(QZ);var WZ=S.options&&S.options.ranges;if(typeof l.yy.parseError==="function")this.parseError=l.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function MZ(M){g.length=g.length-2*M,O.length=O.length-M,h.length=h.length-M}function r(){var M=f.pop()||S.lex()||b;if(typeof M!=="number"){if(M instanceof Array)f=M,M=f.pop();M=P.symbols_[M]||M}return M}var qZ,BZ,DZ,UZ,AZ,e,ZZ={},i,V,o,N;while(!0){if(DZ=g[g.length-1],this.defaultActions[DZ])UZ=this.defaultActions[DZ];else{if(qZ===null||typeof qZ>"u")qZ=r();UZ=w[DZ]&&w[DZ][qZ]}if(typeof UZ>"u"||!UZ.length||!UZ[0]){var YZ="";N=[];for(i in w[DZ])if(this.terminals_[i]&&i>m)N.push("'"+this.terminals_[i]+"'");if(S.showPosition)YZ="Parse error on line "+(j+1)+`:
`+S.showPosition()+`
Expecting `+N.join(", ")+", got '"+(this.terminals_[qZ]||qZ)+"'";else YZ="Parse error on line "+(j+1)+": Unexpected "+(qZ==b?"end of input":"'"+(this.terminals_[qZ]||qZ)+"'");this.parseError(YZ,{text:S.match,token:this.terminals_[qZ]||qZ,line:S.yylineno,loc:QZ,expected:N})}if(UZ[0]instanceof Array&&UZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+DZ+", token: "+qZ);switch(UZ[0]){case 1:if(g.push(qZ),O.push(S.yytext),h.push(S.yylloc),g.push(UZ[1]),qZ=null,!BZ){if(n=S.yyleng,$=S.yytext,j=S.yylineno,QZ=S.yylloc,d>0)d--}else qZ=BZ,BZ=null;break;case 2:if(V=this.productions_[UZ[1]][1],ZZ.$=O[O.length-V],ZZ._$={first_line:h[h.length-(V||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(V||1)].first_column,last_column:h[h.length-1].last_column},WZ)ZZ._$.range=[h[h.length-(V||1)].range[0],h[h.length-1].range[1]];if(e=this.performAction.apply(ZZ,[$,n,j,l.yy,UZ[1],O,h].concat(u)),typeof e<"u")return e;if(V)g=g.slice(0,-1*V*2),O=O.slice(0,-1*V),h=h.slice(0,-1*V);g.push(this.productions_[UZ[1]][0]),O.push(ZZ.$),h.push(ZZ._$),o=w[g[g.length-2]][g[g.length-1]],g.push(o);break;case 3:return!0}}return!0}},p=function(){var y={EOF:1,parseError:function(P,g){if(this.yy.parser)this.yy.parser.parseError(P,g);else throw Error(P)},setInput:function(C,P){if(this.yy=P||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var P=C.match(/(?:\r\n?|\n).*/g);if(P)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),C},unput:function(C){var P=C.length,g=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var f=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1)this.yylineno-=g.length-1;var O=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===f.length?this.yylloc.first_column:0)+f[f.length-g.length].length-g[0].length:this.yylloc.first_column-P},this.options.ranges)this.yylloc.range=[O[0],O[0]+this.yyleng-P];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(C){this.unput(this.match.slice(C))},pastInput:function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var C=this.match;if(C.length<20)C+=this._input.substr(0,20-C.length);return(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var C=this.pastInput(),P=Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+P+"^"},test_match:function(C,P){var g,f,O;if(this.options.backtrack_lexer){if(O={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)O.yylloc.range=this.yylloc.range.slice(0)}if(f=C[0].match(/(?:\r\n?|\n).*/g),f)this.yylineno+=f.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],g=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(g)return g;else if(this._backtrack){for(var h in O)this[h]=O[h];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var C,P,g,f;if(!this._more)this.yytext="",this.match="";var O=this._currentRules();for(var h=0;h<O.length;h++)if(g=this._input.match(this.rules[O[h]]),g&&(!P||g[0].length>P[0].length)){if(P=g,f=h,this.options.backtrack_lexer)if(C=this.test_match(g,O[h]),C!==!1)return C;else if(this._backtrack){P=!1;continue}else return!1;else if(!this.options.flex)break}if(P){if(C=this.test_match(P,O[f]),C!==!1)return C;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var P=this.next();if(P)return P;else return this.lex()},begin:function(P){this.conditionStack.push(P)},popState:function(){var P=this.conditionStack.length-1;if(P>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(P){if(P=this.conditionStack.length-1-Math.abs(P||0),P>=0)return this.conditionStack[P];else return"INITIAL"},pushState:function(P){this.begin(P)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(P,g,f,O){var h=O;switch(f){case 0:return P.getLogger().trace("Found comment",g.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:P.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return P.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:P.getLogger().trace("end icon"),this.popState();break;case 10:return P.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return P.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return P.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return P.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:P.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return P.getLogger().trace("description:",g.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),P.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),P.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),P.getLogger().trace("node end ...",g.yytext),"NODE_DEND";break;case 30:return this.popState(),P.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),P.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),P.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),P.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),P.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return P.getLogger().trace("Long description:",g.yytext),20;break;case 36:return P.getLogger().trace("Long description:",g.yytext),20;break}},rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return y}();T.lexer=p;function s(){this.yy={}}return s.prototype=T,T.Parser=s,new s}();Hz.parser=Hz;var Yz=Hz;var TX={DEFAULT:0,SQUARE:1,ROUNDED:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6};function fg(Z){switch(Z){case TX.SQUARE:return"square";case TX.ROUNDED:return"rounded";case TX.CIRCLE:return"circle";case TX.CLOUD:return"cloud";case TX.BANG:return"bang";case TX.HEXAGON:return"hexagon";default:return"default"}}function Tg(Z,Q){switch(Z){case"[":return TX.SQUARE;case"(":return Q===")"?TX.ROUNDED:TX.DEFAULT;case"((":return TX.CIRCLE;case"))":return TX.BANG;case")":return TX.CLOUD;case"(-":return TX.CLOUD;case"{{":return TX.HEXAGON;default:return TX.DEFAULT}}function vg(Z){let Q=[],X=new Map,J=null,W=!0,H=0;return{nodeType:TX,getType(Y,B){return Tg(Y,B)},addNode(Y,B,K,U){let G;if(W)W=!1,H=Y,G=0,X.clear(),X.set(Y,0);else if(X.has(Y))G=X.get(Y);else{let F=Array.from(X.keys()).sort((A,k)=>A-k),q=0;for(let A of F)if(A<Y)q=A;else break;G=(X.get(q)??0)+1,X.set(Y,G);for(let[A,k]of X)if(A>Y)X.delete(A)}let z={id:B,description:K||B,shape:fg(U),level:G,children:[]};if(G===0)Z.root=z,Q.length=0,Q.push(z);else{while(Q.length>G)Q.pop();let F=Q[Q.length-1];if(F)F.children.push(z);if(Q.length<=G)Q.push(z);else Q[G]=z}J=z},decorateNode(Y){if(J){if(Y.icon)J.icon=Y.icon;if(Y.class)J.cssClass=Y.class}},setAccTitle(Y){Z.accTitle=Y},setAccDescription(Y){Z.accDescription=Y},clear(){},setDiagramTitle(){},getLogger(){return{trace:()=>{},info:()=>{}}}}}function J3(Z){let Q=X3(),X=Z.trim();if(!X.toLowerCase().startsWith("mindmap"))X=`mindmap
${X}`;return Yz.yy=vg(Q),Yz.parse(X),Q}function iP(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("mindmap")}aQ();function xg(Z){switch(Z){case"square":return"[";case"rounded":return"(";case"circle":return"((";case"bang":return"))";case"cloud":return")";case"hexagon":return"{{";default:return""}}function bg(Z){switch(Z){case"square":return"]";case"rounded":return")";case"circle":return"))";case"bang":return"((";case"cloud":return"(";case"hexagon":return"}}";default:return""}}function sP(Z,Q,X){let J=Q.repeat(Z.level),W=xg(Z.shape),H=bg(Z.shape),Y=J;if(Z.shape==="default")Y+=Z.id;else if(Z.id===Z.description)Y+=`${Z.id}${W}${Z.description}${H}`;else Y+=`${Z.id}${W}${Z.description}${H}`;if(X.push(Y),Z.icon)X.push(`${J}::icon(${Z.icon})`);if(Z.cssClass)X.push(`${J}:::${Z.cssClass}`);for(let B of Z.children)sP(B,Q,X)}function W3(Z,Q){let J=QQ(Q).indent,W=[];if(W.push("mindmap"),Z.root)sP(Z.root,J,W);return W.join(`
`)}class U8 extends tZ{constructor(Z){super(Z)}static create(Z,Q,X){let J=X3();return J.root={id:Z,description:Q??Z,shape:X?.shape??"default",icon:X?.icon,cssClass:X?.cssClass,level:0,children:[]},new U8(J)}static from(Z){return new U8(Z)}static parse(Z){let Q=J3(Z);return new U8(Q)}render(Z){return W3(this.ast,Z)}clone(){let Z=(X)=>({...X,children:X.children.map(Z)}),Q={type:"mindmap",root:this.ast.root?Z(this.ast.root):void 0,accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new U8(Q)}get root(){return this.ast.root}get nodeCount(){if(!this.ast.root)return 0;let Z=(Q)=>{return 1+Q.children.reduce((X,J)=>X+Z(J),0)};return Z(this.ast.root)}get maxDepth(){if(!this.ast.root)return 0;let Z=(Q)=>{if(Q.children.length===0)return 1;return 1+Math.max(...Q.children.map(Z))};return Z(this.ast.root)}getNode(Z){if(!this.ast.root)return;let Q=(X)=>{if(X.id===Z)return X;for(let J of X.children){let W=Q(J);if(W)return W}return};return Q(this.ast.root)}getParent(Z){if(!this.ast.root)return;let Q=(X,J)=>{for(let W of X.children){if(W.id===J)return X;let H=Q(W,J);if(H)return H}return};return Q(this.ast.root,Z)}addChild(Z,Q,X,J){let W=this.getNode(Z);if(W)W.children.push({id:Q,description:X??Q,shape:J?.shape??"default",icon:J?.icon,cssClass:J?.cssClass,level:W.level+1,children:[]});return this}removeNode(Z){if(!this.ast.root)return this;if(this.ast.root.id===Z)return this.ast.root=void 0,this;let Q=this.getParent(Z);if(Q){let X=Q.children.findIndex((J)=>J.id===Z);if(X!==-1)Q.children.splice(X,1)}return this}setDescription(Z,Q){let X=this.getNode(Z);if(X)X.description=Q;return this}setShape(Z,Q){let X=this.getNode(Z);if(X)X.shape=Q;return this}setIcon(Z,Q){let X=this.getNode(Z);if(X)X.icon=Q;return this}removeIcon(Z){let Q=this.getNode(Z);if(Q)Q.icon=void 0;return this}setClass(Z,Q){let X=this.getNode(Z);if(X)X.cssClass=Q;return this}removeClass(Z){let Q=this.getNode(Z);if(Q)Q.cssClass=void 0;return this}moveNode(Z,Q){if(!this.ast.root||Z===this.ast.root.id)return this;let X=this.getNode(Z),J=this.getNode(Q),W=this.getParent(Z);if(X&&J&&W){let H=W.children.findIndex((B)=>B.id===Z);if(H!==-1)W.children.splice(H,1);let Y=(B,K)=>{B.level=K;for(let U of B.children)Y(U,K+1)};X.level=J.level+1,Y(X,X.level),J.children.push(X)}return this}getAllNodes(){if(!this.ast.root)return[];let Z=[],Q=(X)=>{Z.push(X);for(let J of X.children)Q(J)};return Q(this.ast.root),Z}findNodes(Z){return this.getAllNodes().filter((Q)=>{if(Z.shape&&Q.shape!==Z.shape)return!1;if(Z.textContains&&!Q.description.includes(Z.textContains))return!1;if(Z.icon&&Q.icon!==Z.icon)return!1;if(Z.cssClass&&Q.cssClass!==Z.cssClass)return!1;if(Z.level!==void 0&&Q.level!==Z.level)return!1;return!0})}getNodesAtLevel(Z){return this.findNodes({level:Z})}getLeafNodes(){return this.getAllNodes().filter((Z)=>Z.children.length===0)}getPath(Z){if(!this.ast.root)return[];let Q=(X,J,W)=>{if(W.push(X),X.id===J)return W;for(let H of X.children){let Y=Q(H,J,[...W]);if(Y)return Y}return null};return Q(this.ast.root,Z,[])??[]}getSiblings(Z){let Q=this.getParent(Z);if(!Q)return[];return Q.children.filter((X)=>X.id!==Z)}}function H3(){return{type:"pie",showData:!1,sections:[]}}function Y3(Z){let Q=Z.trim();return/^pie\b/i.test(Q)}async function G8(Z){let Q=H3(),X=await tW("pie",Z);if(X.title)Q.title=X.title;if(X.showData)Q.showData=X.showData;if(X.accTitle)Q.accTitle=X.accTitle;if(X.accDescr)Q.accDescr=X.accDescr;if(X.sections&&Array.isArray(X.sections))Q.sections=X.sections.map((J)=>({label:J.label,value:J.value}));return Q}aQ();eX();function z8(Z,Q){let X=QQ(Q),J=[Z.showData?"pie showData":"pie",KQ(Z.accTitle,()=>`accTitle: ${Z.accTitle}`),KQ(Z.accDescr,()=>`accDescr: ${Z.accDescr}`),KQ(Z.title,()=>`title ${Z.title}`),...Z.sections.map((W)=>`"${W.label}" : ${W.value}`)];return xQ(J,X.indent)}class F8 extends tZ{constructor(Z){super(Z)}static create(){return new F8(H3())}static from(Z){return new F8(structuredClone(Z))}static async parse(Z){let Q=await G8(Z);return new F8(Q)}render(Z){return z8(this.ast,Z)}clone(){return new F8(structuredClone(this.ast))}setTitle(Z){return this.ast.title=Z,this}getTitle(){return this.ast.title}removeTitle(){return this.ast.title=void 0,this}setShowData(Z){return this.ast.showData=Z,this}getShowData(){return this.ast.showData}addSection(Z,Q){return this.ast.sections.push({label:Z,value:Q}),this}removeSection(Z){return this.ast.sections=this.ast.sections.filter((Q)=>Q.label!==Z),this}updateSection(Z,Q){let X=this.ast.sections.find((J)=>J.label===Z);if(X)X.value=Q;return this}getSection(Z){return this.ast.sections.find((Q)=>Q.label===Z)}getSections(){return[...this.ast.sections]}get sectionCount(){return this.ast.sections.length}findSections(Z){return this.ast.sections.filter((Q)=>{if(Z.label!==void 0&&Q.label!==Z.label)return!1;if(Z.minValue!==void 0&&Q.value<Z.minValue)return!1;if(Z.maxValue!==void 0&&Q.value>Z.maxValue)return!1;return!0})}getTotal(){return this.ast.sections.reduce((Z,Q)=>Z+Q.value,0)}getPercentage(Z){let Q=this.getSection(Z);if(!Q)return;let X=this.getTotal();if(X===0)return 0;return Q.value/X*100}getLargestSection(){if(this.ast.sections.length===0)return;return this.ast.sections.reduce((Z,Q)=>Q.value>Z.value?Q:Z)}getSmallestSection(){if(this.ast.sections.length===0)return;return this.ast.sections.reduce((Z,Q)=>Q.value<Z.value?Q:Z)}setAccTitle(Z){return this.ast.accTitle=Z,this}getAccTitle(){return this.ast.accTitle}setAccDescr(Z){return this.ast.accDescr=Z,this}getAccDescr(){return this.ast.accDescr}}PH();function B3(){return{type:"quadrant",points:[],classes:new Map}}var Bz=function(){var Z=function(PZ,R,FZ,JZ){for(FZ=FZ||{},JZ=PZ.length;JZ--;FZ[PZ[JZ]]=R);return FZ},Q=[1,3],X=[1,4],J=[1,5],W=[1,6],H=[1,7],Y=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],B=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],K=[55,56,57],U=[2,36],G=[1,37],z=[1,36],F=[1,38],q=[1,35],L=[1,43],A=[1,41],k=[1,14],T=[1,23],p=[1,18],s=[1,19],y=[1,20],C=[1,21],P=[1,22],g=[1,24],f=[1,25],O=[1,26],h=[1,27],w=[1,28],$=[1,29],j=[1,32],n=[1,33],d=[1,34],m=[1,39],b=[1,40],u=[1,42],S=[1,44],l=[1,62],I=[1,61],QZ=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],WZ=[1,65],MZ=[1,66],r=[1,67],qZ=[1,68],BZ=[1,69],DZ=[1,70],UZ=[1,71],AZ=[1,72],e=[1,73],ZZ=[1,74],i=[1,75],V=[1,76],o=[4,5,6,7,8,9,10,11,12,13,14,15,18],N=[1,90],YZ=[1,91],M=[1,92],mZ=[1,99],a=[1,93],IZ=[1,96],nZ=[1,94],vZ=[1,95],LZ=[1,97],GZ=[1,98],HZ=[1,102],t=[10,55,56,57],zZ=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],x={trace:function(){},yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:function(R,FZ,JZ,jZ,OZ,KZ,GQ){var wZ=KZ.length-1;switch(OZ){case 23:this.$=KZ[wZ];break;case 24:this.$=KZ[wZ-1]+""+KZ[wZ];break;case 26:this.$=KZ[wZ-1]+KZ[wZ];break;case 27:this.$=[KZ[wZ].trim()];break;case 28:KZ[wZ-2].push(KZ[wZ].trim()),this.$=KZ[wZ-2];break;case 29:this.$=KZ[wZ-4],jZ.addClass(KZ[wZ-2],KZ[wZ]);break;case 37:this.$=[];break;case 42:this.$=KZ[wZ].trim(),jZ.setDiagramTitle(this.$);break;case 43:this.$=KZ[wZ].trim(),jZ.setAccTitle(this.$);break;case 44:case 45:this.$=KZ[wZ].trim(),jZ.setAccDescription(this.$);break;case 46:jZ.addSection(KZ[wZ].substr(8)),this.$=KZ[wZ].substr(8);break;case 47:jZ.addPoint(KZ[wZ-3],"",KZ[wZ-1],KZ[wZ],[]);break;case 48:jZ.addPoint(KZ[wZ-4],KZ[wZ-3],KZ[wZ-1],KZ[wZ],[]);break;case 49:jZ.addPoint(KZ[wZ-4],"",KZ[wZ-2],KZ[wZ-1],KZ[wZ]);break;case 50:jZ.addPoint(KZ[wZ-5],KZ[wZ-4],KZ[wZ-2],KZ[wZ-1],KZ[wZ]);break;case 51:jZ.setXAxisLeftText(KZ[wZ-2]),jZ.setXAxisRightText(KZ[wZ]);break;case 52:KZ[wZ-1].text+="  ",jZ.setXAxisLeftText(KZ[wZ-1]);break;case 53:jZ.setXAxisLeftText(KZ[wZ]);break;case 54:jZ.setYAxisBottomText(KZ[wZ-2]),jZ.setYAxisTopText(KZ[wZ]);break;case 55:KZ[wZ-1].text+="  ",jZ.setYAxisBottomText(KZ[wZ-1]);break;case 56:jZ.setYAxisBottomText(KZ[wZ]);break;case 57:jZ.setQuadrant1Text(KZ[wZ]);break;case 58:jZ.setQuadrant2Text(KZ[wZ]);break;case 59:jZ.setQuadrant3Text(KZ[wZ]);break;case 60:jZ.setQuadrant4Text(KZ[wZ]);break;case 64:this.$={text:KZ[wZ],type:"text"};break;case 65:this.$={text:KZ[wZ-1].text+""+KZ[wZ],type:KZ[wZ-1].type};break;case 66:this.$={text:KZ[wZ],type:"text"};break;case 67:this.$={text:KZ[wZ],type:"markdown"};break;case 68:this.$=KZ[wZ];break;case 69:this.$=KZ[wZ-1]+""+KZ[wZ];break}},table:[{18:Q,26:1,27:2,28:X,55:J,56:W,57:H},{1:[3]},{18:Q,26:8,27:2,28:X,55:J,56:W,57:H},{18:Q,26:9,27:2,28:X,55:J,56:W,57:H},Z(Y,[2,33],{29:10}),Z(B,[2,61]),Z(B,[2,62]),Z(B,[2,63]),{1:[2,30]},{1:[2,31]},Z(K,U,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:G,5:z,10:F,12:q,13:L,14:A,18:k,25:T,35:p,37:s,39:y,41:C,42:P,48:g,50:f,51:O,52:h,53:w,54:$,60:j,61:n,63:d,64:m,65:b,66:u,67:S}),Z(Y,[2,34]),{27:45,55:J,56:W,57:H},Z(K,[2,37]),Z(K,U,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:G,5:z,10:F,12:q,13:L,14:A,18:k,25:T,35:p,37:s,39:y,41:C,42:P,48:g,50:f,51:O,52:h,53:w,54:$,60:j,61:n,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,39]),Z(K,[2,40]),Z(K,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},Z(K,[2,45]),Z(K,[2,46]),{18:[1,50]},{4:G,5:z,10:F,12:q,13:L,14:A,43:51,58:31,60:j,61:n,63:d,64:m,65:b,66:u,67:S},{4:G,5:z,10:F,12:q,13:L,14:A,43:52,58:31,60:j,61:n,63:d,64:m,65:b,66:u,67:S},{4:G,5:z,10:F,12:q,13:L,14:A,43:53,58:31,60:j,61:n,63:d,64:m,65:b,66:u,67:S},{4:G,5:z,10:F,12:q,13:L,14:A,43:54,58:31,60:j,61:n,63:d,64:m,65:b,66:u,67:S},{4:G,5:z,10:F,12:q,13:L,14:A,43:55,58:31,60:j,61:n,63:d,64:m,65:b,66:u,67:S},{4:G,5:z,10:F,12:q,13:L,14:A,43:56,58:31,60:j,61:n,63:d,64:m,65:b,66:u,67:S},{4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,44:[1,57],47:[1,58],58:60,59:59,63:d,64:m,65:b,66:u,67:S},Z(QZ,[2,64]),Z(QZ,[2,66]),Z(QZ,[2,67]),Z(QZ,[2,70]),Z(QZ,[2,71]),Z(QZ,[2,72]),Z(QZ,[2,73]),Z(QZ,[2,74]),Z(QZ,[2,75]),Z(QZ,[2,76]),Z(QZ,[2,77]),Z(QZ,[2,78]),Z(QZ,[2,79]),Z(QZ,[2,80]),Z(Y,[2,35]),Z(K,[2,38]),Z(K,[2,42]),Z(K,[2,43]),Z(K,[2,44]),{3:64,4:WZ,5:MZ,6:r,7:qZ,8:BZ,9:DZ,10:UZ,11:AZ,12:e,13:ZZ,14:i,15:V,21:63},Z(K,[2,53],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,49:[1,77],63:d,64:m,65:b,66:u,67:S}),Z(K,[2,56],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,49:[1,78],63:d,64:m,65:b,66:u,67:S}),Z(K,[2,57],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,58],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,59],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,60],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,63:d,64:m,65:b,66:u,67:S}),{45:[1,79]},{44:[1,80]},Z(QZ,[2,65]),Z(QZ,[2,81]),Z(QZ,[2,82]),Z(QZ,[2,83]),{3:82,4:WZ,5:MZ,6:r,7:qZ,8:BZ,9:DZ,10:UZ,11:AZ,12:e,13:ZZ,14:i,15:V,18:[1,81]},Z(o,[2,23]),Z(o,[2,1]),Z(o,[2,2]),Z(o,[2,3]),Z(o,[2,4]),Z(o,[2,5]),Z(o,[2,6]),Z(o,[2,7]),Z(o,[2,8]),Z(o,[2,9]),Z(o,[2,10]),Z(o,[2,11]),Z(o,[2,12]),Z(K,[2,52],{58:31,43:83,4:G,5:z,10:F,12:q,13:L,14:A,60:j,61:n,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,55],{58:31,43:84,4:G,5:z,10:F,12:q,13:L,14:A,60:j,61:n,63:d,64:m,65:b,66:u,67:S}),{46:[1,85]},{45:[1,86]},{4:N,5:YZ,6:M,8:mZ,11:a,13:IZ,16:89,17:nZ,18:vZ,19:LZ,20:GZ,22:88,23:87},Z(o,[2,24]),Z(K,[2,51],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,54],{59:59,58:60,4:G,5:z,8:l,10:F,12:q,13:L,14:A,18:I,63:d,64:m,65:b,66:u,67:S}),Z(K,[2,47],{22:88,16:89,23:100,4:N,5:YZ,6:M,8:mZ,11:a,13:IZ,17:nZ,18:vZ,19:LZ,20:GZ}),{46:[1,101]},Z(K,[2,29],{10:HZ}),Z(t,[2,27],{16:103,4:N,5:YZ,6:M,8:mZ,11:a,13:IZ,17:nZ,18:vZ,19:LZ,20:GZ}),Z(zZ,[2,25]),Z(zZ,[2,13]),Z(zZ,[2,14]),Z(zZ,[2,15]),Z(zZ,[2,16]),Z(zZ,[2,17]),Z(zZ,[2,18]),Z(zZ,[2,19]),Z(zZ,[2,20]),Z(zZ,[2,21]),Z(zZ,[2,22]),Z(K,[2,49],{10:HZ}),Z(K,[2,48],{22:88,16:89,23:104,4:N,5:YZ,6:M,8:mZ,11:a,13:IZ,17:nZ,18:vZ,19:LZ,20:GZ}),{4:N,5:YZ,6:M,8:mZ,11:a,13:IZ,16:89,17:nZ,18:vZ,19:LZ,20:GZ,22:105},Z(zZ,[2,26]),Z(K,[2,50],{10:HZ}),Z(t,[2,28],{16:103,4:N,5:YZ,6:M,8:mZ,11:a,13:IZ,17:nZ,18:vZ,19:LZ,20:GZ})],defaultActions:{8:[2,30],9:[2,31]},parseError:function(R,FZ){if(FZ.recoverable)this.trace(R);else{var JZ=Error(R);throw JZ.hash=FZ,JZ}},parse:function(R){var FZ=this,JZ=[0],jZ=[],OZ=[null],KZ=[],GQ=this.table,wZ="",FQ=0,qQ=0,JX=0,lZ=2,JQ=1,EQ=KZ.slice.call(arguments,1),uZ=Object.create(this.lexer),wQ={yy:{}};for(var OX in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,OX))wQ.yy[OX]=this.yy[OX];if(uZ.setInput(R,wQ.yy),wQ.yy.lexer=uZ,wQ.yy.parser=this,typeof uZ.yylloc>"u")uZ.yylloc={};var dZ=uZ.yylloc;KZ.push(dZ);var rZ=uZ.options&&uZ.options.ranges;if(typeof wQ.yy.parseError==="function")this.parseError=wQ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function $Z($Q){JZ.length=JZ.length-2*$Q,OZ.length=OZ.length-$Q,KZ.length=KZ.length-$Q}function iZ(){var $Q=jZ.pop()||uZ.lex()||JQ;if(typeof $Q!=="number"){if($Q instanceof Array)jZ=$Q,$Q=jZ.pop();$Q=FZ.symbols_[$Q]||$Q}return $Q}var bZ,VZ,hZ,_Z,PX,gZ,W0={},YX,kQ,_Q,pX;while(!0){if(hZ=JZ[JZ.length-1],this.defaultActions[hZ])_Z=this.defaultActions[hZ];else{if(bZ===null||typeof bZ>"u")bZ=iZ();_Z=GQ[hZ]&&GQ[hZ][bZ]}if(typeof _Z>"u"||!_Z.length||!_Z[0]){var tX="";pX=[];for(YX in GQ[hZ])if(this.terminals_[YX]&&YX>lZ)pX.push("'"+this.terminals_[YX]+"'");if(uZ.showPosition)tX="Parse error on line "+(FQ+1)+`:
`+uZ.showPosition()+`
Expecting `+pX.join(", ")+", got '"+(this.terminals_[bZ]||bZ)+"'";else tX="Parse error on line "+(FQ+1)+": Unexpected "+(bZ==JQ?"end of input":"'"+(this.terminals_[bZ]||bZ)+"'");this.parseError(tX,{text:uZ.match,token:this.terminals_[bZ]||bZ,line:uZ.yylineno,loc:dZ,expected:pX})}if(_Z[0]instanceof Array&&_Z.length>1)throw Error("Parse Error: multiple actions possible at state: "+hZ+", token: "+bZ);switch(_Z[0]){case 1:if(JZ.push(bZ),OZ.push(uZ.yytext),KZ.push(uZ.yylloc),JZ.push(_Z[1]),bZ=null,!VZ){if(qQ=uZ.yyleng,wZ=uZ.yytext,FQ=uZ.yylineno,dZ=uZ.yylloc,JX>0)JX--}else bZ=VZ,VZ=null;break;case 2:if(kQ=this.productions_[_Z[1]][1],W0.$=OZ[OZ.length-kQ],W0._$={first_line:KZ[KZ.length-(kQ||1)].first_line,last_line:KZ[KZ.length-1].last_line,first_column:KZ[KZ.length-(kQ||1)].first_column,last_column:KZ[KZ.length-1].last_column},rZ)W0._$.range=[KZ[KZ.length-(kQ||1)].range[0],KZ[KZ.length-1].range[1]];if(gZ=this.performAction.apply(W0,[wZ,qQ,FQ,wQ.yy,_Z[1],OZ,KZ].concat(EQ)),typeof gZ<"u")return gZ;if(kQ)JZ=JZ.slice(0,-1*kQ*2),OZ=OZ.slice(0,-1*kQ),KZ=KZ.slice(0,-1*kQ);JZ.push(this.productions_[_Z[1]][0]),OZ.push(W0.$),KZ.push(W0._$),_Q=GQ[JZ[JZ.length-2]][JZ[JZ.length-1]],JZ.push(_Q);break;case 3:return!0}}return!0}},EZ=function(){var PZ={EOF:1,parseError:function(FZ,JZ){if(this.yy.parser)this.yy.parser.parseError(FZ,JZ);else throw Error(FZ)},setInput:function(R,FZ){if(this.yy=FZ||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var FZ=R.match(/(?:\r\n?|\n).*/g);if(FZ)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),R},unput:function(R){var FZ=R.length,JZ=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-FZ),this.offset-=FZ;var jZ=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),JZ.length-1)this.yylineno-=JZ.length-1;var OZ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:JZ?(JZ.length===jZ.length?this.yylloc.first_column:0)+jZ[jZ.length-JZ.length].length-JZ[0].length:this.yylloc.first_column-FZ},this.options.ranges)this.yylloc.range=[OZ[0],OZ[0]+this.yyleng-FZ];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;if(R.length<20)R+=this._input.substr(0,20-R.length);return(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),FZ=Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+FZ+"^"},test_match:function(R,FZ){var JZ,jZ,OZ;if(this.options.backtrack_lexer){if(OZ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)OZ.yylloc.range=this.yylloc.range.slice(0)}if(jZ=R[0].match(/(?:\r\n?|\n).*/g),jZ)this.yylineno+=jZ.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:jZ?jZ[jZ.length-1].length-jZ[jZ.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],JZ=this.performAction.call(this,this.yy,this,FZ,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(JZ)return JZ;else if(this._backtrack){for(var KZ in OZ)this[KZ]=OZ[KZ];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var R,FZ,JZ,jZ;if(!this._more)this.yytext="",this.match="";var OZ=this._currentRules();for(var KZ=0;KZ<OZ.length;KZ++)if(JZ=this._input.match(this.rules[OZ[KZ]]),JZ&&(!FZ||JZ[0].length>FZ[0].length)){if(FZ=JZ,jZ=KZ,this.options.backtrack_lexer)if(R=this.test_match(JZ,OZ[KZ]),R!==!1)return R;else if(this._backtrack){FZ=!1;continue}else return!1;else if(!this.options.flex)break}if(FZ){if(R=this.test_match(FZ,OZ[jZ]),R!==!1)return R;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var FZ=this.next();if(FZ)return FZ;else return this.lex()},begin:function(FZ){this.conditionStack.push(FZ)},popState:function(){var FZ=this.conditionStack.length-1;if(FZ>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(FZ){if(FZ=this.conditionStack.length-1-Math.abs(FZ||0),FZ>=0)return this.conditionStack[FZ];else return"INITIAL"},pushState:function(FZ){this.begin(FZ)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(FZ,JZ,jZ,OZ){var KZ=OZ;switch(jZ){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return PZ}();x.lexer=EZ;function E(){this.yy={}}return E.prototype=x,x.Parser=E,new E}();Bz.parser=Bz;var Kz=Bz;function gg(Z){return{addClass(Q,X){if(!Z.classes)Z.classes=new Map;Z.classes.set(Q,{name:Q,styles:X})},setDiagramTitle(Q){Z.title=Q},setAccTitle(Q){Z.accTitle=Q},setAccDescription(Q){Z.accDescription=Q},addPoint(Q,X,J,W,H){let Y={name:typeof Q==="string"?Q:Q.text,x:J,y:W};if(X)Y.className=X;if(H&&H.length>0)Y.styles=H;Z.points.push(Y)},setXAxisLeftText(Q){Z.xAxisLeft=Q.text},setXAxisRightText(Q){Z.xAxisRight=Q.text},setYAxisBottomText(Q){Z.yAxisBottom=Q.text},setYAxisTopText(Q){Z.yAxisTop=Q.text},setQuadrant1Text(Q){Z.quadrant1=Q.text},setQuadrant2Text(Q){Z.quadrant2=Q.text},setQuadrant3Text(Q){Z.quadrant3=Q.text},setQuadrant4Text(Q){Z.quadrant4=Q.text}}}function K3(Z){let Q=Z.trim();return/^quadrantChart(\s|$)/i.test(Q)}function q8(Z){let Q=B3(),X=Z.trim();if(!X.toLowerCase().startsWith("quadrantchart"))X=`quadrantChart
${X}`;return Kz.yy=gg(Q),Kz.parse(X),Q}function U3(){return{type:"requirement",direction:"TB",requirements:new Map,elements:new Map,relationships:[],classDefs:new Map,classes:new Map,styles:new Map}}var Uz=function(){var Z=function(x,EZ,E,PZ){for(E=E||{},PZ=x.length;PZ--;E[x[PZ]]=EZ);return E},Q=[1,3],X=[1,4],J=[1,5],W=[1,6],H=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],Y=[1,22],B=[2,7],K=[1,26],U=[1,27],G=[1,28],z=[1,29],F=[1,33],q=[1,34],L=[1,35],A=[1,36],k=[1,37],T=[1,38],p=[1,24],s=[1,31],y=[1,32],C=[1,30],P=[1,39],g=[1,40],f=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],O=[1,61],h=[89,90],w=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],$=[27,29],j=[1,70],n=[1,71],d=[1,72],m=[1,73],b=[1,74],u=[1,75],S=[1,76],l=[1,83],I=[1,80],QZ=[1,84],WZ=[1,85],MZ=[1,86],r=[1,87],qZ=[1,88],BZ=[1,89],DZ=[1,90],UZ=[1,91],AZ=[1,92],e=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],ZZ=[63,64],i=[1,101],V=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],o=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],N=[1,110],YZ=[1,106],M=[1,107],mZ=[1,108],a=[1,109],IZ=[1,111],nZ=[1,116],vZ=[1,117],LZ=[1,114],GZ=[1,115],HZ={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:function(EZ,E,PZ,R,FZ,JZ,jZ){var OZ=JZ.length-1;switch(FZ){case 4:this.$=JZ[OZ].trim(),R.setAccTitle(this.$);break;case 5:case 6:this.$=JZ[OZ].trim(),R.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:R.setDirection("TB");break;case 18:R.setDirection("BT");break;case 19:R.setDirection("RL");break;case 20:R.setDirection("LR");break;case 21:R.addRequirement(JZ[OZ-3],JZ[OZ-4]);break;case 22:R.addRequirement(JZ[OZ-5],JZ[OZ-6]),R.setClass([JZ[OZ-5]],JZ[OZ-3]);break;case 23:R.setNewReqId(JZ[OZ-2]);break;case 24:R.setNewReqText(JZ[OZ-2]);break;case 25:R.setNewReqRisk(JZ[OZ-2]);break;case 26:R.setNewReqVerifyMethod(JZ[OZ-2]);break;case 29:this.$=R.RequirementType.REQUIREMENT;break;case 30:this.$=R.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=R.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=R.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=R.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=R.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=R.RiskLevel.LOW_RISK;break;case 36:this.$=R.RiskLevel.MED_RISK;break;case 37:this.$=R.RiskLevel.HIGH_RISK;break;case 38:this.$=R.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=R.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=R.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=R.VerifyType.VERIFY_TEST;break;case 42:R.addElement(JZ[OZ-3]);break;case 43:R.addElement(JZ[OZ-5]),R.setClass([JZ[OZ-5]],JZ[OZ-3]);break;case 44:R.setNewElementType(JZ[OZ-2]);break;case 45:R.setNewElementDocRef(JZ[OZ-2]);break;case 48:R.addRelationship(JZ[OZ-2],JZ[OZ],JZ[OZ-4]);break;case 49:R.addRelationship(JZ[OZ-2],JZ[OZ-4],JZ[OZ]);break;case 50:this.$=R.Relationships.CONTAINS;break;case 51:this.$=R.Relationships.COPIES;break;case 52:this.$=R.Relationships.DERIVES;break;case 53:this.$=R.Relationships.SATISFIES;break;case 54:this.$=R.Relationships.VERIFIES;break;case 55:this.$=R.Relationships.REFINES;break;case 56:this.$=R.Relationships.TRACES;break;case 57:this.$=JZ[OZ-2],R.defineClass(JZ[OZ-1],JZ[OZ]);break;case 58:R.setClass(JZ[OZ-1],JZ[OZ]);break;case 59:R.setClass([JZ[OZ-2]],JZ[OZ]);break;case 60:case 62:this.$=[JZ[OZ]];break;case 61:case 63:this.$=JZ[OZ-2].concat([JZ[OZ]]);break;case 64:this.$=JZ[OZ-2],R.setCssStyle(JZ[OZ-1],JZ[OZ]);break;case 65:this.$=[JZ[OZ]];break;case 66:JZ[OZ-2].push(JZ[OZ]),this.$=JZ[OZ-2];break;case 68:this.$=JZ[OZ-1]+JZ[OZ];break}},table:[{3:1,4:2,6:Q,9:X,11:J,13:W},{1:[3]},{3:8,4:2,5:[1,7],6:Q,9:X,11:J,13:W},{5:[1,9]},{10:[1,10]},{12:[1,11]},Z(H,[2,6]),{3:12,4:2,6:Q,9:X,11:J,13:W},{1:[2,2]},{4:17,5:Y,7:13,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},Z(H,[2,4]),Z(H,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:Y,7:42,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:43,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:44,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:45,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:46,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:47,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:48,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:49,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{4:17,5:Y,7:50,8:B,9:X,11:J,13:W,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:K,22:U,23:G,24:z,25:23,33:25,41:F,42:q,43:L,44:A,45:k,46:T,54:p,72:s,74:y,77:C,89:P,90:g},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},Z(f,[2,17]),Z(f,[2,18]),Z(f,[2,19]),Z(f,[2,20]),{30:60,33:62,75:O,89:P,90:g},{30:63,33:62,75:O,89:P,90:g},{30:64,33:62,75:O,89:P,90:g},Z(h,[2,29]),Z(h,[2,30]),Z(h,[2,31]),Z(h,[2,32]),Z(h,[2,33]),Z(h,[2,34]),Z(w,[2,81]),Z(w,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},Z($,[2,79]),Z($,[2,80]),{27:[1,67],29:[1,68]},Z($,[2,85]),Z($,[2,86]),{62:69,65:j,66:n,67:d,68:m,69:b,70:u,71:S},{62:77,65:j,66:n,67:d,68:m,69:b,70:u,71:S},{30:78,33:62,75:O,89:P,90:g},{73:79,75:l,76:I,78:81,79:82,80:QZ,81:WZ,82:MZ,83:r,84:qZ,85:BZ,86:DZ,87:UZ,88:AZ},Z(e,[2,60]),Z(e,[2,62]),{73:93,75:l,76:I,78:81,79:82,80:QZ,81:WZ,82:MZ,83:r,84:qZ,85:BZ,86:DZ,87:UZ,88:AZ},{30:94,33:62,75:O,76:I,89:P,90:g},{5:[1,95]},{30:96,33:62,75:O,89:P,90:g},{5:[1,97]},{30:98,33:62,75:O,89:P,90:g},{63:[1,99]},Z(ZZ,[2,50]),Z(ZZ,[2,51]),Z(ZZ,[2,52]),Z(ZZ,[2,53]),Z(ZZ,[2,54]),Z(ZZ,[2,55]),Z(ZZ,[2,56]),{64:[1,100]},Z(f,[2,59],{76:I}),Z(f,[2,64],{76:i}),{33:103,75:[1,102],89:P,90:g},Z(V,[2,65],{79:104,75:l,80:QZ,81:WZ,82:MZ,83:r,84:qZ,85:BZ,86:DZ,87:UZ,88:AZ}),Z(o,[2,67]),Z(o,[2,69]),Z(o,[2,70]),Z(o,[2,71]),Z(o,[2,72]),Z(o,[2,73]),Z(o,[2,74]),Z(o,[2,75]),Z(o,[2,76]),Z(o,[2,77]),Z(o,[2,78]),Z(f,[2,57],{76:i}),Z(f,[2,58],{76:I}),{5:N,28:105,31:YZ,34:M,36:mZ,38:a,40:IZ},{27:[1,112],76:I},{5:nZ,40:vZ,56:113,57:LZ,59:GZ},{27:[1,118],76:I},{33:119,89:P,90:g},{33:120,89:P,90:g},{75:l,78:121,79:82,80:QZ,81:WZ,82:MZ,83:r,84:qZ,85:BZ,86:DZ,87:UZ,88:AZ},Z(e,[2,61]),Z(e,[2,63]),Z(o,[2,68]),Z(f,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:N,28:126,31:YZ,34:M,36:mZ,38:a,40:IZ},Z(f,[2,28]),{5:[1,127]},Z(f,[2,42]),{32:[1,128]},{32:[1,129]},{5:nZ,40:vZ,56:130,57:LZ,59:GZ},Z(f,[2,47]),{5:[1,131]},Z(f,[2,48]),Z(f,[2,49]),Z(V,[2,66],{79:104,75:l,80:QZ,81:WZ,82:MZ,83:r,84:qZ,85:BZ,86:DZ,87:UZ,88:AZ}),{33:132,89:P,90:g},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},Z(f,[2,27]),{5:N,28:145,31:YZ,34:M,36:mZ,38:a,40:IZ},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},Z(f,[2,46]),{5:nZ,40:vZ,56:152,57:LZ,59:GZ},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},Z(f,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},Z(f,[2,43]),{5:N,28:159,31:YZ,34:M,36:mZ,38:a,40:IZ},{5:N,28:160,31:YZ,34:M,36:mZ,38:a,40:IZ},{5:N,28:161,31:YZ,34:M,36:mZ,38:a,40:IZ},{5:N,28:162,31:YZ,34:M,36:mZ,38:a,40:IZ},{5:nZ,40:vZ,56:163,57:LZ,59:GZ},{5:nZ,40:vZ,56:164,57:LZ,59:GZ},Z(f,[2,23]),Z(f,[2,24]),Z(f,[2,25]),Z(f,[2,26]),Z(f,[2,44]),Z(f,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:function(EZ,E){if(E.recoverable)this.trace(EZ);else{var PZ=Error(EZ);throw PZ.hash=E,PZ}},parse:function(EZ){var E=this,PZ=[0],R=[],FZ=[null],JZ=[],jZ=this.table,OZ="",KZ=0,GQ=0,wZ=0,FQ=2,qQ=1,JX=JZ.slice.call(arguments,1),lZ=Object.create(this.lexer),JQ={yy:{}};for(var EQ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,EQ))JQ.yy[EQ]=this.yy[EQ];if(lZ.setInput(EZ,JQ.yy),JQ.yy.lexer=lZ,JQ.yy.parser=this,typeof lZ.yylloc>"u")lZ.yylloc={};var uZ=lZ.yylloc;JZ.push(uZ);var wQ=lZ.options&&lZ.options.ranges;if(typeof JQ.yy.parseError==="function")this.parseError=JQ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function OX(_Q){PZ.length=PZ.length-2*_Q,FZ.length=FZ.length-_Q,JZ.length=JZ.length-_Q}function dZ(){var _Q=R.pop()||lZ.lex()||qQ;if(typeof _Q!=="number"){if(_Q instanceof Array)R=_Q,_Q=R.pop();_Q=E.symbols_[_Q]||_Q}return _Q}var rZ,$Z,iZ,bZ,VZ,hZ,_Z={},PX,gZ,W0,YX;while(!0){if(iZ=PZ[PZ.length-1],this.defaultActions[iZ])bZ=this.defaultActions[iZ];else{if(rZ===null||typeof rZ>"u")rZ=dZ();bZ=jZ[iZ]&&jZ[iZ][rZ]}if(typeof bZ>"u"||!bZ.length||!bZ[0]){var kQ="";YX=[];for(PX in jZ[iZ])if(this.terminals_[PX]&&PX>FQ)YX.push("'"+this.terminals_[PX]+"'");if(lZ.showPosition)kQ="Parse error on line "+(KZ+1)+`:
`+lZ.showPosition()+`
Expecting `+YX.join(", ")+", got '"+(this.terminals_[rZ]||rZ)+"'";else kQ="Parse error on line "+(KZ+1)+": Unexpected "+(rZ==qQ?"end of input":"'"+(this.terminals_[rZ]||rZ)+"'");this.parseError(kQ,{text:lZ.match,token:this.terminals_[rZ]||rZ,line:lZ.yylineno,loc:uZ,expected:YX})}if(bZ[0]instanceof Array&&bZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+iZ+", token: "+rZ);switch(bZ[0]){case 1:if(PZ.push(rZ),FZ.push(lZ.yytext),JZ.push(lZ.yylloc),PZ.push(bZ[1]),rZ=null,!$Z){if(GQ=lZ.yyleng,OZ=lZ.yytext,KZ=lZ.yylineno,uZ=lZ.yylloc,wZ>0)wZ--}else rZ=$Z,$Z=null;break;case 2:if(gZ=this.productions_[bZ[1]][1],_Z.$=FZ[FZ.length-gZ],_Z._$={first_line:JZ[JZ.length-(gZ||1)].first_line,last_line:JZ[JZ.length-1].last_line,first_column:JZ[JZ.length-(gZ||1)].first_column,last_column:JZ[JZ.length-1].last_column},wQ)_Z._$.range=[JZ[JZ.length-(gZ||1)].range[0],JZ[JZ.length-1].range[1]];if(hZ=this.performAction.apply(_Z,[OZ,GQ,KZ,JQ.yy,bZ[1],FZ,JZ].concat(JX)),typeof hZ<"u")return hZ;if(gZ)PZ=PZ.slice(0,-1*gZ*2),FZ=FZ.slice(0,-1*gZ),JZ=JZ.slice(0,-1*gZ);PZ.push(this.productions_[bZ[1]][0]),FZ.push(_Z.$),JZ.push(_Z._$),W0=jZ[PZ[PZ.length-2]][PZ[PZ.length-1]],PZ.push(W0);break;case 3:return!0}}return!0}},t=function(){var x={EOF:1,parseError:function(E,PZ){if(this.yy.parser)this.yy.parser.parseError(E,PZ);else throw Error(E)},setInput:function(EZ,E){if(this.yy=E||this.yy||{},this._input=EZ,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var EZ=this._input[0];this.yytext+=EZ,this.yyleng++,this.offset++,this.match+=EZ,this.matched+=EZ;var E=EZ.match(/(?:\r\n?|\n).*/g);if(E)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),EZ},unput:function(EZ){var E=EZ.length,PZ=EZ.split(/(?:\r\n?|\n)/g);this._input=EZ+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var R=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),PZ.length-1)this.yylineno-=PZ.length-1;var FZ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:PZ?(PZ.length===R.length?this.yylloc.first_column:0)+R[R.length-PZ.length].length-PZ[0].length:this.yylloc.first_column-E},this.options.ranges)this.yylloc.range=[FZ[0],FZ[0]+this.yyleng-E];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(EZ){this.unput(this.match.slice(EZ))},pastInput:function(){var EZ=this.matched.substr(0,this.matched.length-this.match.length);return(EZ.length>20?"...":"")+EZ.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var EZ=this.match;if(EZ.length<20)EZ+=this._input.substr(0,20-EZ.length);return(EZ.substr(0,20)+(EZ.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var EZ=this.pastInput(),E=Array(EZ.length+1).join("-");return EZ+this.upcomingInput()+`
`+E+"^"},test_match:function(EZ,E){var PZ,R,FZ;if(this.options.backtrack_lexer){if(FZ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)FZ.yylloc.range=this.yylloc.range.slice(0)}if(R=EZ[0].match(/(?:\r\n?|\n).*/g),R)this.yylineno+=R.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+EZ[0].length},this.yytext+=EZ[0],this.match+=EZ[0],this.matches=EZ,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(EZ[0].length),this.matched+=EZ[0],PZ=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(PZ)return PZ;else if(this._backtrack){for(var JZ in FZ)this[JZ]=FZ[JZ];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var EZ,E,PZ,R;if(!this._more)this.yytext="",this.match="";var FZ=this._currentRules();for(var JZ=0;JZ<FZ.length;JZ++)if(PZ=this._input.match(this.rules[FZ[JZ]]),PZ&&(!E||PZ[0].length>E[0].length)){if(E=PZ,R=JZ,this.options.backtrack_lexer)if(EZ=this.test_match(PZ,FZ[JZ]),EZ!==!1)return EZ;else if(this._backtrack){E=!1;continue}else return!1;else if(!this.options.flex)break}if(E){if(EZ=this.test_match(E,FZ[R]),EZ!==!1)return EZ;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var E=this.next();if(E)return E;else return this.lex()},begin:function(E){this.conditionStack.push(E)},popState:function(){var E=this.conditionStack.length-1;if(E>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(E){if(E=this.conditionStack.length-1-Math.abs(E||0),E>=0)return this.conditionStack[E];else return"INITIAL"},pushState:function(E){this.begin(E)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(E,PZ,R,FZ){var JZ=FZ;switch(R){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;break;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;break;case 60:return this.begin("style"),74;break;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return PZ.yytext=PZ.yytext.trim(),89;break;case 68:return 75;case 69:return 80;case 70:return 76}},rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return x}();HZ.lexer=t;function zZ(){this.yy={}}return zZ.prototype=HZ,HZ.Parser=zZ,new zZ}();Uz.parser=Uz;var Gz=Uz;var Vg={REQUIREMENT:"requirement",FUNCTIONAL_REQUIREMENT:"functionalRequirement",INTERFACE_REQUIREMENT:"interfaceRequirement",PERFORMANCE_REQUIREMENT:"performanceRequirement",PHYSICAL_REQUIREMENT:"physicalRequirement",DESIGN_CONSTRAINT:"designConstraint"},hg={LOW_RISK:"low",MED_RISK:"medium",HIGH_RISK:"high"},kg={VERIFY_ANALYSIS:"analysis",VERIFY_DEMONSTRATION:"demonstration",VERIFY_INSPECTION:"inspection",VERIFY_TEST:"test"},mg={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"};function ug(Z){let Q={},X={};return{RequirementType:Vg,RiskLevel:hg,VerifyType:kg,Relationships:mg,setDirection(J){Z.direction=J},addRequirement(J,W){let H={name:J,requirementType:W,...Q};Z.requirements.set(J,H),Q={}},setNewReqId(J){Q.id=J},setNewReqText(J){Q.text=J},setNewReqRisk(J){Q.risk=J},setNewReqVerifyMethod(J){Q.verifyMethod=J},addElement(J){let W={name:J,...X};Z.elements.set(J,W),X={}},setNewElementType(J){X.type=J},setNewElementDocRef(J){X.docRef=J},addRelationship(J,W,H){Z.relationships.push({source:W,target:H,relationshipType:J})},setClass(J,W){for(let H of J){let Y=Z.classes.get(H)||[];Z.classes.set(H,[...Y,...W])}},defineClass(J,W){for(let H of J)Z.classDefs.set(H,{name:H,styles:W})},setCssStyle(J,W){for(let H of J){let Y=Z.styles.get(H)||[];Z.styles.set(H,[...Y,...W])}},setAccTitle(J){Z.accTitle=J},setAccDescription(J){Z.accDescription=J},clear(){},setDiagramTitle(){},getLogger(){return{debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}}}}}function w8(Z){let Q=U3(),X=Z.trim();if(!X.toLowerCase().startsWith("requirementdiagram"))X=`requirementDiagram
${X}`;return Gz.yy=ug(Q),Gz.parse(X),Q}function G3(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("requirementdiagram")}function z3(){return{type:"sankey",nodes:new Map,links:[]}}var zz=function(){var Z=function(B,K,U,G){for(U=U||{},G=B.length;G--;U[B[G]]=K);return U},Q=[1,9],X=[1,10],J=[1,5,10,12],W={trace:function(){},yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:function(K,U,G,z,F,q,L){var A=q.length-1;switch(F){case 7:let k=z.findOrCreateNode(q[A-4].trim().replaceAll('""','"')),T=z.findOrCreateNode(q[A-2].trim().replaceAll('""','"')),p=parseFloat(q[A].trim());z.addLink(k,T,p);break;case 8:case 9:case 11:this.$=q[A];break;case 10:this.$=q[A-1];break}},table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:Q,20:X},{1:[2,6],7:11,10:[1,12]},Z(X,[2,4],{9:13,5:[1,14]}),{12:[1,15]},Z(J,[2,8]),Z(J,[2,9]),{19:[1,16]},Z(J,[2,11]),{1:[2,1]},{1:[2,5]},Z(X,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:Q,20:X},{15:18,16:7,17:8,18:Q,20:X},{18:[1,19]},Z(X,[2,3]),{12:[1,20]},Z(J,[2,10]),{15:21,16:7,17:8,18:Q,20:X},Z([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:function(K,U){if(U.recoverable)this.trace(K);else{var G=Error(K);throw G.hash=U,G}},parse:function(K){var U=this,G=[0],z=[],F=[null],q=[],L=this.table,A="",k=0,T=0,p=0,s=2,y=1,C=q.slice.call(arguments,1),P=Object.create(this.lexer),g={yy:{}};for(var f in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,f))g.yy[f]=this.yy[f];if(P.setInput(K,g.yy),g.yy.lexer=P,g.yy.parser=this,typeof P.yylloc>"u")P.yylloc={};var O=P.yylloc;q.push(O);var h=P.options&&P.options.ranges;if(typeof g.yy.parseError==="function")this.parseError=g.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function w(r){G.length=G.length-2*r,F.length=F.length-r,q.length=q.length-r}function $(){var r=z.pop()||P.lex()||y;if(typeof r!=="number"){if(r instanceof Array)z=r,r=z.pop();r=U.symbols_[r]||r}return r}var j,n,d,m,b,u,S={},l,I,QZ,WZ;while(!0){if(d=G[G.length-1],this.defaultActions[d])m=this.defaultActions[d];else{if(j===null||typeof j>"u")j=$();m=L[d]&&L[d][j]}if(typeof m>"u"||!m.length||!m[0]){var MZ="";WZ=[];for(l in L[d])if(this.terminals_[l]&&l>s)WZ.push("'"+this.terminals_[l]+"'");if(P.showPosition)MZ="Parse error on line "+(k+1)+`:
`+P.showPosition()+`
Expecting `+WZ.join(", ")+", got '"+(this.terminals_[j]||j)+"'";else MZ="Parse error on line "+(k+1)+": Unexpected "+(j==y?"end of input":"'"+(this.terminals_[j]||j)+"'");this.parseError(MZ,{text:P.match,token:this.terminals_[j]||j,line:P.yylineno,loc:O,expected:WZ})}if(m[0]instanceof Array&&m.length>1)throw Error("Parse Error: multiple actions possible at state: "+d+", token: "+j);switch(m[0]){case 1:if(G.push(j),F.push(P.yytext),q.push(P.yylloc),G.push(m[1]),j=null,!n){if(T=P.yyleng,A=P.yytext,k=P.yylineno,O=P.yylloc,p>0)p--}else j=n,n=null;break;case 2:if(I=this.productions_[m[1]][1],S.$=F[F.length-I],S._$={first_line:q[q.length-(I||1)].first_line,last_line:q[q.length-1].last_line,first_column:q[q.length-(I||1)].first_column,last_column:q[q.length-1].last_column},h)S._$.range=[q[q.length-(I||1)].range[0],q[q.length-1].range[1]];if(u=this.performAction.apply(S,[A,T,k,g.yy,m[1],F,q].concat(C)),typeof u<"u")return u;if(I)G=G.slice(0,-1*I*2),F=F.slice(0,-1*I),q=q.slice(0,-1*I);G.push(this.productions_[m[1]][0]),F.push(S.$),q.push(S._$),QZ=L[G[G.length-2]][G[G.length-1]],G.push(QZ);break;case 3:return!0}}return!0}},H=function(){var B={EOF:1,parseError:function(U,G){if(this.yy.parser)this.yy.parser.parseError(U,G);else throw Error(U)},setInput:function(K,U){if(this.yy=U||this.yy||{},this._input=K,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var K=this._input[0];this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K;var U=K.match(/(?:\r\n?|\n).*/g);if(U)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),K},unput:function(K){var U=K.length,G=K.split(/(?:\r\n?|\n)/g);this._input=K+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-U),this.offset-=U;var z=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1)this.yylineno-=G.length-1;var F=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===z.length?this.yylloc.first_column:0)+z[z.length-G.length].length-G[0].length:this.yylloc.first_column-U},this.options.ranges)this.yylloc.range=[F[0],F[0]+this.yyleng-U];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(K){this.unput(this.match.slice(K))},pastInput:function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var K=this.match;if(K.length<20)K+=this._input.substr(0,20-K.length);return(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var K=this.pastInput(),U=Array(K.length+1).join("-");return K+this.upcomingInput()+`
`+U+"^"},test_match:function(K,U){var G,z,F;if(this.options.backtrack_lexer){if(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)F.yylloc.range=this.yylloc.range.slice(0)}if(z=K[0].match(/(?:\r\n?|\n).*/g),z)this.yylineno+=z.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+K[0].length},this.yytext+=K[0],this.match+=K[0],this.matches=K,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(K[0].length),this.matched+=K[0],G=this.performAction.call(this,this.yy,this,U,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(G)return G;else if(this._backtrack){for(var q in F)this[q]=F[q];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var K,U,G,z;if(!this._more)this.yytext="",this.match="";var F=this._currentRules();for(var q=0;q<F.length;q++)if(G=this._input.match(this.rules[F[q]]),G&&(!U||G[0].length>U[0].length)){if(U=G,z=q,this.options.backtrack_lexer)if(K=this.test_match(G,F[q]),K!==!1)return K;else if(this._backtrack){U=!1;continue}else return!1;else if(!this.options.flex)break}if(U){if(K=this.test_match(U,F[z]),K!==!1)return K;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var U=this.next();if(U)return U;else return this.lex()},begin:function(U){this.conditionStack.push(U)},popState:function(){var U=this.conditionStack.length-1;if(U>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(U){if(U=this.conditionStack.length-1-Math.abs(U||0),U>=0)return this.conditionStack[U];else return"INITIAL"},pushState:function(U){this.begin(U)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(U,G,z,F){var q=F;switch(z){case 0:return this.pushState("csv"),4;break;case 1:return this.pushState("csv"),4;break;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;break;case 6:return 20;case 7:return this.popState("escaped_text"),18;break;case 8:return 19}},rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return B}();W.lexer=H;function Y(){this.yy={}}return Y.prototype=W,W.Parser=Y,new Y}();zz.parser=zz;var Fz=zz;function pg(Z){return{findOrCreateNode(Q){if(!Z.nodes.has(Q))Z.nodes.set(Q,{id:Q,label:Q});return Z.nodes.get(Q)},addLink(Q,X,J){Z.links.push({source:Q.id,target:X.id,value:J})}}}function F3(Z){let Q=Z.trim();return/^sankey(-beta)?(\s|$)/i.test(Q)}function M8(Z){let Q=z3(),X=Z.trim();if(!X.toLowerCase().startsWith("sankey"))X=`sankey
${X}`;return Fz.yy=pg(Q),Fz.parse(X),Q}function q3(){return{type:"sequence",actors:new Map,boxes:[],statements:[]}}var qz=function(){var Z=function(AZ,e,ZZ,i){for(ZZ=ZZ||{},i=AZ.length;i--;ZZ[AZ[i]]=e);return ZZ},Q=[1,2],X=[1,3],J=[1,4],W=[2,4],H=[1,9],Y=[1,11],B=[1,13],K=[1,14],U=[1,16],G=[1,17],z=[1,18],F=[1,24],q=[1,25],L=[1,26],A=[1,27],k=[1,28],T=[1,29],p=[1,30],s=[1,31],y=[1,32],C=[1,33],P=[1,34],g=[1,35],f=[1,36],O=[1,37],h=[1,38],w=[1,39],$=[1,41],j=[1,42],n=[1,43],d=[1,44],m=[1,45],b=[1,46],u=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],S=[2,71],l=[4,5,16,50,52,53],I=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],QZ=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],WZ=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],MZ=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],r=[69,70,71],qZ=[1,127],BZ={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:function(e,ZZ,i,V,o,N,YZ){var M=N.length-1;switch(o){case 3:return V.apply(N[M]),N[M];break;case 4:case 9:this.$=[];break;case 5:case 10:N[M-1].push(N[M]),this.$=N[M-1];break;case 6:case 7:case 11:case 12:this.$=N[M];break;case 8:case 13:this.$=[];break;case 15:N[M].type="createParticipant",this.$=N[M];break;case 16:N[M-1].unshift({type:"boxStart",boxData:V.parseBoxData(N[M-2])}),N[M-1].push({type:"boxEnd",boxText:N[M-2]}),this.$=N[M-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(N[M-2]),sequenceIndexStep:Number(N[M-1]),sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(N[M-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:V.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:V.LINETYPE.ACTIVE_START,actor:N[M-1].actor};break;case 23:this.$={type:"activeEnd",signalType:V.LINETYPE.ACTIVE_END,actor:N[M-1].actor};break;case 29:V.setDiagramTitle(N[M].substring(6)),this.$=N[M].substring(6);break;case 30:V.setDiagramTitle(N[M].substring(7)),this.$=N[M].substring(7);break;case 31:this.$=N[M].trim(),V.setAccTitle(this.$);break;case 32:case 33:this.$=N[M].trim(),V.setAccDescription(this.$);break;case 34:N[M-1].unshift({type:"loopStart",loopText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.LOOP_START}),N[M-1].push({type:"loopEnd",loopText:N[M-2],signalType:V.LINETYPE.LOOP_END}),this.$=N[M-1];break;case 35:N[M-1].unshift({type:"rectStart",color:V.parseMessage(N[M-2]),signalType:V.LINETYPE.RECT_START}),N[M-1].push({type:"rectEnd",color:V.parseMessage(N[M-2]),signalType:V.LINETYPE.RECT_END}),this.$=N[M-1];break;case 36:N[M-1].unshift({type:"optStart",optText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.OPT_START}),N[M-1].push({type:"optEnd",optText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.OPT_END}),this.$=N[M-1];break;case 37:N[M-1].unshift({type:"altStart",altText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.ALT_START}),N[M-1].push({type:"altEnd",signalType:V.LINETYPE.ALT_END}),this.$=N[M-1];break;case 38:N[M-1].unshift({type:"parStart",parText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.PAR_START}),N[M-1].push({type:"parEnd",signalType:V.LINETYPE.PAR_END}),this.$=N[M-1];break;case 39:N[M-1].unshift({type:"parStart",parText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.PAR_OVER_START}),N[M-1].push({type:"parEnd",signalType:V.LINETYPE.PAR_END}),this.$=N[M-1];break;case 40:N[M-1].unshift({type:"criticalStart",criticalText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.CRITICAL_START}),N[M-1].push({type:"criticalEnd",signalType:V.LINETYPE.CRITICAL_END}),this.$=N[M-1];break;case 41:N[M-1].unshift({type:"breakStart",breakText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.BREAK_START}),N[M-1].push({type:"breakEnd",optText:V.parseMessage(N[M-2]),signalType:V.LINETYPE.BREAK_END}),this.$=N[M-1];break;case 43:this.$=N[M-3].concat([{type:"option",optionText:V.parseMessage(N[M-1]),signalType:V.LINETYPE.CRITICAL_OPTION},N[M]]);break;case 45:this.$=N[M-3].concat([{type:"and",parText:V.parseMessage(N[M-1]),signalType:V.LINETYPE.PAR_AND},N[M]]);break;case 47:this.$=N[M-3].concat([{type:"else",altText:V.parseMessage(N[M-1]),signalType:V.LINETYPE.ALT_ELSE},N[M]]);break;case 48:N[M-3].draw="participant",N[M-3].type="addParticipant",N[M-3].description=V.parseMessage(N[M-1]),this.$=N[M-3];break;case 49:N[M-1].draw="participant",N[M-1].type="addParticipant",this.$=N[M-1];break;case 50:N[M-3].draw="actor",N[M-3].type="addParticipant",N[M-3].description=V.parseMessage(N[M-1]),this.$=N[M-3];break;case 51:N[M-1].draw="actor",N[M-1].type="addParticipant",this.$=N[M-1];break;case 52:N[M-1].type="destroyParticipant",this.$=N[M-1];break;case 53:N[M-1].draw="participant",N[M-1].type="addParticipant",this.$=N[M-1];break;case 54:this.$=[N[M-1],{type:"addNote",placement:N[M-2],actor:N[M-1].actor,text:N[M]}];break;case 55:N[M-2]=[].concat(N[M-1],N[M-1]).slice(0,2),N[M-2][0]=N[M-2][0].actor,N[M-2][1]=N[M-2][1].actor,this.$=[N[M-1],{type:"addNote",placement:V.PLACEMENT.OVER,actor:N[M-2].slice(0,2),text:N[M]}];break;case 56:this.$=[N[M-1],{type:"addLinks",actor:N[M-1].actor,text:N[M]}];break;case 57:this.$=[N[M-1],{type:"addALink",actor:N[M-1].actor,text:N[M]}];break;case 58:this.$=[N[M-1],{type:"addProperties",actor:N[M-1].actor,text:N[M]}];break;case 59:this.$=[N[M-1],{type:"addDetails",actor:N[M-1].actor,text:N[M]}];break;case 62:this.$=[N[M-2],N[M]];break;case 63:this.$=N[M];break;case 64:this.$=V.PLACEMENT.LEFTOF;break;case 65:this.$=V.PLACEMENT.RIGHTOF;break;case 66:this.$=[N[M-4],N[M-1],{type:"addMessage",from:N[M-4].actor,to:N[M-1].actor,signalType:N[M-3],msg:N[M],activate:!0},{type:"activeStart",signalType:V.LINETYPE.ACTIVE_START,actor:N[M-1].actor}];break;case 67:this.$=[N[M-4],N[M-1],{type:"addMessage",from:N[M-4].actor,to:N[M-1].actor,signalType:N[M-3],msg:N[M]},{type:"activeEnd",signalType:V.LINETYPE.ACTIVE_END,actor:N[M-4].actor}];break;case 68:this.$=[N[M-3],N[M-1],{type:"addMessage",from:N[M-3].actor,to:N[M-1].actor,signalType:N[M-2],msg:N[M]}];break;case 69:this.$={type:"addParticipant",actor:N[M-1],config:N[M]};break;case 70:this.$=N[M-1].trim();break;case 71:this.$={type:"addParticipant",actor:N[M]};break;case 72:this.$=V.LINETYPE.SOLID_OPEN;break;case 73:this.$=V.LINETYPE.DOTTED_OPEN;break;case 74:this.$=V.LINETYPE.SOLID;break;case 75:this.$=V.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=V.LINETYPE.DOTTED;break;case 77:this.$=V.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=V.LINETYPE.SOLID_CROSS;break;case 79:this.$=V.LINETYPE.DOTTED_CROSS;break;case 80:this.$=V.LINETYPE.SOLID_POINT;break;case 81:this.$=V.LINETYPE.DOTTED_POINT;break;case 82:this.$=V.parseMessage(N[M].trim().substring(1));break}},table:[{3:1,4:Q,5:X,6:J},{1:[3]},{3:5,4:Q,5:X,6:J},{3:6,4:Q,5:X,6:J},Z([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],W,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:H,5:Y,8:8,9:10,12:12,13:B,14:K,17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},Z(u,[2,5]),{9:47,12:12,13:B,14:K,17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},Z(u,[2,7]),Z(u,[2,8]),Z(u,[2,14]),{12:48,50:O,52:h,53:w},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:b},{22:55,71:b},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},Z(u,[2,29]),Z(u,[2,30]),{32:[1,61]},{34:[1,62]},Z(u,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:b},{22:75,71:b},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:b},{22:92,71:b},{22:93,71:b},{22:94,71:b},Z([5,51,65,76,77,78,79,80,81,82,83,84,85,86],S),Z(u,[2,6]),Z(u,[2,15]),Z(l,[2,9],{10:95}),Z(u,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},Z(u,[2,21]),{5:[1,99]},{5:[1,100]},Z(u,[2,24]),Z(u,[2,25]),Z(u,[2,26]),Z(u,[2,27]),Z(u,[2,28]),Z(u,[2,31]),Z(u,[2,32]),Z(I,W,{7:101}),Z(I,W,{7:102}),Z(I,W,{7:103}),Z(QZ,W,{40:104,7:105}),Z(WZ,W,{42:106,7:107}),Z(WZ,W,{7:107,42:108}),Z(MZ,W,{45:109,7:110}),Z(I,W,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},Z([5,51],S,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:b},Z(r,[2,72]),Z(r,[2,73]),Z(r,[2,74]),Z(r,[2,75]),Z(r,[2,76]),Z(r,[2,77]),Z(r,[2,78]),Z(r,[2,79]),Z(r,[2,80]),Z(r,[2,81]),{22:123,71:b},{22:125,59:124,71:b},{71:[2,64]},{71:[2,65]},{57:126,86:qZ},{57:128,86:qZ},{57:129,86:qZ},{57:130,86:qZ},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:O,52:h,53:w},{5:[1,136]},Z(u,[2,19]),Z(u,[2,20]),Z(u,[2,22]),Z(u,[2,23]),{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[1,137],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[1,138],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[1,139],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{16:[1,140]},{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[2,46],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,49:[1,141],50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{16:[1,142]},{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[2,44],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,48:[1,143],50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{16:[1,144]},{16:[1,145]},{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[2,42],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,47:[1,146],50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{4:H,5:Y,8:8,9:10,12:12,13:B,14:K,16:[1,147],17:15,18:U,21:G,22:40,23:z,24:19,25:20,26:21,27:22,28:23,29:F,30:q,31:L,33:A,35:k,36:T,37:p,38:s,39:y,41:C,43:P,44:g,46:f,50:O,52:h,53:w,55:$,60:j,61:n,62:d,63:m,71:b},{15:[1,148]},Z(u,[2,49]),Z(u,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},Z(u,[2,51]),Z(u,[2,52]),{22:151,71:b},{22:152,71:b},{57:153,86:qZ},{57:154,86:qZ},{57:155,86:qZ},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},Z(u,[2,16]),Z(l,[2,10]),{12:157,50:O,52:h,53:w},Z(l,[2,12]),Z(l,[2,13]),Z(u,[2,18]),Z(u,[2,34]),Z(u,[2,35]),Z(u,[2,36]),Z(u,[2,37]),{15:[1,158]},Z(u,[2,38]),{15:[1,159]},Z(u,[2,39]),Z(u,[2,40]),{15:[1,160]},Z(u,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:qZ},{57:165,86:qZ},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:b},Z(l,[2,11]),Z(QZ,W,{7:105,40:167}),Z(WZ,W,{7:107,42:168}),Z(MZ,W,{7:110,45:169}),Z(u,[2,48]),{5:[2,70]},Z(u,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:function(e,ZZ){if(ZZ.recoverable)this.trace(e);else{var i=Error(e);throw i.hash=ZZ,i}},parse:function(e){var ZZ=this,i=[0],V=[],o=[null],N=[],YZ=this.table,M="",mZ=0,a=0,IZ=0,nZ=2,vZ=1,LZ=N.slice.call(arguments,1),GZ=Object.create(this.lexer),HZ={yy:{}};for(var t in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,t))HZ.yy[t]=this.yy[t];if(GZ.setInput(e,HZ.yy),HZ.yy.lexer=GZ,HZ.yy.parser=this,typeof GZ.yylloc>"u")GZ.yylloc={};var zZ=GZ.yylloc;N.push(zZ);var x=GZ.options&&GZ.options.ranges;if(typeof HZ.yy.parseError==="function")this.parseError=HZ.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function EZ(lZ){i.length=i.length-2*lZ,o.length=o.length-lZ,N.length=N.length-lZ}function E(){var lZ=V.pop()||GZ.lex()||vZ;if(typeof lZ!=="number"){if(lZ instanceof Array)V=lZ,lZ=V.pop();lZ=ZZ.symbols_[lZ]||lZ}return lZ}var PZ,R,FZ,JZ,jZ,OZ,KZ={},GQ,wZ,FQ,qQ;while(!0){if(FZ=i[i.length-1],this.defaultActions[FZ])JZ=this.defaultActions[FZ];else{if(PZ===null||typeof PZ>"u")PZ=E();JZ=YZ[FZ]&&YZ[FZ][PZ]}if(typeof JZ>"u"||!JZ.length||!JZ[0]){var JX="";qQ=[];for(GQ in YZ[FZ])if(this.terminals_[GQ]&&GQ>nZ)qQ.push("'"+this.terminals_[GQ]+"'");if(GZ.showPosition)JX="Parse error on line "+(mZ+1)+`:
`+GZ.showPosition()+`
Expecting `+qQ.join(", ")+", got '"+(this.terminals_[PZ]||PZ)+"'";else JX="Parse error on line "+(mZ+1)+": Unexpected "+(PZ==vZ?"end of input":"'"+(this.terminals_[PZ]||PZ)+"'");this.parseError(JX,{text:GZ.match,token:this.terminals_[PZ]||PZ,line:GZ.yylineno,loc:zZ,expected:qQ})}if(JZ[0]instanceof Array&&JZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+FZ+", token: "+PZ);switch(JZ[0]){case 1:if(i.push(PZ),o.push(GZ.yytext),N.push(GZ.yylloc),i.push(JZ[1]),PZ=null,!R){if(a=GZ.yyleng,M=GZ.yytext,mZ=GZ.yylineno,zZ=GZ.yylloc,IZ>0)IZ--}else PZ=R,R=null;break;case 2:if(wZ=this.productions_[JZ[1]][1],KZ.$=o[o.length-wZ],KZ._$={first_line:N[N.length-(wZ||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(wZ||1)].first_column,last_column:N[N.length-1].last_column},x)KZ._$.range=[N[N.length-(wZ||1)].range[0],N[N.length-1].range[1]];if(OZ=this.performAction.apply(KZ,[M,a,mZ,HZ.yy,JZ[1],o,N].concat(LZ)),typeof OZ<"u")return OZ;if(wZ)i=i.slice(0,-1*wZ*2),o=o.slice(0,-1*wZ),N=N.slice(0,-1*wZ);i.push(this.productions_[JZ[1]][0]),o.push(KZ.$),N.push(KZ._$),FQ=YZ[i[i.length-2]][i[i.length-1]],i.push(FQ);break;case 3:return!0}}return!0}},DZ=function(){var AZ={EOF:1,parseError:function(ZZ,i){if(this.yy.parser)this.yy.parser.parseError(ZZ,i);else throw Error(ZZ)},setInput:function(e,ZZ){if(this.yy=ZZ||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var ZZ=e.match(/(?:\r\n?|\n).*/g);if(ZZ)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),e},unput:function(e){var ZZ=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ZZ),this.offset-=ZZ;var V=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1)this.yylineno-=i.length-1;var o=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===V.length?this.yylloc.first_column:0)+V[V.length-i.length].length-i[0].length:this.yylloc.first_column-ZZ},this.options.ranges)this.yylloc.range=[o[0],o[0]+this.yyleng-ZZ];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;if(e.length<20)e+=this._input.substr(0,20-e.length);return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),ZZ=Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+ZZ+"^"},test_match:function(e,ZZ){var i,V,o;if(this.options.backtrack_lexer){if(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)o.yylloc.range=this.yylloc.range.slice(0)}if(V=e[0].match(/(?:\r\n?|\n).*/g),V)this.yylineno+=V.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,ZZ,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(i)return i;else if(this._backtrack){for(var N in o)this[N]=o[N];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var e,ZZ,i,V;if(!this._more)this.yytext="",this.match="";var o=this._currentRules();for(var N=0;N<o.length;N++)if(i=this._input.match(this.rules[o[N]]),i&&(!ZZ||i[0].length>ZZ[0].length)){if(ZZ=i,V=N,this.options.backtrack_lexer)if(e=this.test_match(i,o[N]),e!==!1)return e;else if(this._backtrack){ZZ=!1;continue}else return!1;else if(!this.options.flex)break}if(ZZ){if(e=this.test_match(ZZ,o[V]),e!==!1)return e;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ZZ=this.next();if(ZZ)return ZZ;else return this.lex()},begin:function(ZZ){this.conditionStack.push(ZZ)},popState:function(){var ZZ=this.conditionStack.length-1;if(ZZ>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(ZZ){if(ZZ=this.conditionStack.length-1-Math.abs(ZZ||0),ZZ>=0)return this.conditionStack[ZZ];else return"INITIAL"},pushState:function(ZZ){this.begin(ZZ)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ZZ,i,V,o){var N=o;switch(V){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;break;case 8:return 74;case 9:return this.popState(),this.popState(),75;break;case 10:return i.yytext=i.yytext.trim(),71;break;case 11:return i.yytext=i.yytext.trim(),this.begin("ALIAS"),71;break;case 12:return this.begin("LINE"),14;break;case 13:return this.begin("ID"),50;break;case 14:return this.begin("ID"),52;break;case 15:return 13;case 16:return this.begin("ID"),53;break;case 17:return i.yytext=i.yytext.trim(),this.begin("ALIAS"),71;break;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 19:return this.popState(),this.popState(),5;break;case 20:return this.begin("LINE"),36;break;case 21:return this.begin("LINE"),37;break;case 22:return this.begin("LINE"),38;break;case 23:return this.begin("LINE"),39;break;case 24:return this.begin("LINE"),49;break;case 25:return this.begin("LINE"),41;break;case 26:return this.begin("LINE"),43;break;case 27:return this.begin("LINE"),48;break;case 28:return this.begin("LINE"),44;break;case 29:return this.begin("LINE"),47;break;case 30:return this.begin("LINE"),46;break;case 31:return this.popState(),15;break;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;break;case 42:return this.begin("ID"),23;break;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;break;case 46:return this.popState(),"acc_title_value";break;case 47:return this.begin("acc_descr"),33;break;case 48:return this.popState(),"acc_descr_value";break;case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return i.yytext=i.yytext.trim(),71;break;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return AZ}();BZ.lexer=DZ;function UZ(){this.yy={}}return UZ.prototype=BZ,BZ.Parser=UZ,new UZ}();qz.parser=qz;var wz=qz;var j0={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34};function yg(Z){switch(Z){case j0.SOLID:return"solid";case j0.DOTTED:return"dotted";case j0.SOLID_CROSS:return"solid_cross";case j0.DOTTED_CROSS:return"dotted_cross";case j0.SOLID_OPEN:return"solid_open";case j0.DOTTED_OPEN:return"dotted_open";case j0.SOLID_POINT:return"solid_point";case j0.DOTTED_POINT:return"dotted_point";case j0.BIDIRECTIONAL_SOLID:return"bidirectional_solid";case j0.BIDIRECTIONAL_DOTTED:return"bidirectional_dotted";default:return"solid"}}function dg(Z){let Q={};if(!Z)return Q;let X=Z.trim(),J=X.match(/^(rgb\([^)]+\)|#[0-9a-fA-F]+|\w+)/);if(J){Q.color=J[1];let W=X.slice(J[0].length).trim();if(W)Q.text=W}else Q.text=X;return Q}function oP(Z){if(!Z)return"";return Z.replace(/^:?(?:no)?wrap:/,"").trim()}var $g={LEFTOF:"left_of",RIGHTOF:"right_of",OVER:"over"};function lg(Z){return{LINETYPE:j0,PLACEMENT:$g,parseBoxData:dg,parseMessage:oP,apply(Q){cg(Q,Z)},addActor(Q,X,J,W){if(!Z.actors.has(Q))Z.actors.set(Q,{id:Q,name:J||X||Q,alias:X!==Q?X:void 0,type:W})},setAccTitle(Q){Z.title=Q},setAccDescription(Q){Z.accDescription=Q},setDiagramTitle(Q){Z.title=Q},getDiagramTitle(){return Z.title||""},getActor:()=>{return},getActorKeys:()=>[],enableSequenceNumbers:()=>{},disableSequenceNumbers:()=>{},showSequenceNumbers:()=>!1}}function cg(Z,Q){let X=[Q.statements],J=null;function W(){return X[X.length-1]}function H(Y){if(!Y||typeof Y!=="object")return;let B=Y,K=B.type;switch(K){case"addParticipant":case"addActor":case"createParticipant":{let U=B.actor,G="draw"in B||"description"in B||K==="addActor",z=Q.actors.get(U);if(z&&!G)break;let F="participant";if(B.draw==="actor"||K==="addActor")F="actor";else if(z)F=z.type;let q=B.description,A={id:U,name:q||U,type:F,created:K==="createParticipant"};if(q&&q!==U)A.alias=q;if(Q.actors.set(U,A),J)J.actors.push(U);break}case"destroyParticipant":{let U=Q.actors.get(B.actor);if(U)U.destroyed=!0;break}case"addMessage":{let U={type:"message",from:B.from,to:B.to,text:oP(B.msg),arrowType:yg(B.signalType)};if(B.activate)U.activate=!0;if(B.deactivate)U.deactivate=!0;nP(Q,U.from),nP(Q,U.to),W().push(U);break}case"addNote":{let U={type:"note",placement:B.placement,actors:Array.isArray(B.actor)?B.actor:[B.actor],text:B.msg};W().push(U);break}case"activeStart":{let U={type:"activate",actor:B.actor};W().push(U);break}case"activeEnd":{let U={type:"deactivate",actor:B.actor};W().push(U);break}case"loopStart":{let U={type:"loop",text:B.loopText,statements:[]};W().push(U),X.push(U.statements);break}case"loopEnd":{X.pop();break}case"altStart":{let U={type:"alt",sections:[{condition:B.altText,statements:[]}]};W().push(U),X.push(U.sections[0].statements);break}case"else":{X.pop();let U=X[X.length-1],G=U[U.length-1];if(G&&"sections"in G){let z=G,F={condition:B.altText||"else",statements:[]};z.sections.push(F),X.push(F.statements)}break}case"altEnd":{X.pop();break}case"optStart":{let U={type:"opt",text:B.optText,statements:[]};W().push(U),X.push(U.statements);break}case"optEnd":{X.pop();break}case"parStart":{let U={type:"par",sections:[{text:B.parText,statements:[]}]};W().push(U),X.push(U.sections[0].statements);break}case"and":{X.pop();let U=X[X.length-1],G=U[U.length-1];if(G&&"sections"in G&&G.type==="par"){let z=G,F={text:B.parText,statements:[]};z.sections.push(F),X.push(F.statements)}break}case"parEnd":{X.pop();break}case"criticalStart":{let U={type:"critical",text:B.criticalText,statements:[],options:[]};W().push(U),X.push(U.statements);break}case"option":{X.pop();let U=X[X.length-1],G=U[U.length-1];if(G&&G.type==="critical"){let z=G,F={text:B.optionText,statements:[]};z.options.push(F),X.push(F.statements)}break}case"criticalEnd":{X.pop();break}case"breakStart":{let U={type:"break",text:B.breakText,statements:[]};W().push(U),X.push(U.statements);break}case"breakEnd":{X.pop();break}case"rectStart":{let U={type:"rect",color:B.color,statements:[]};W().push(U),X.push(U.statements);break}case"rectEnd":{X.pop();break}case"boxStart":{let U=B.boxData;J={type:"box",text:U?.text,color:U?.color,actors:[]};break}case"boxEnd":{if(J)Q.boxes.push(J),J=null;break}case"sequenceIndex":{let U={type:"autonumber",start:B.sequenceIndex,step:B.sequenceIndexStep,visible:B.sequenceVisible};W().push(U);break}default:break}}for(let Y of Z)if(Array.isArray(Y))for(let B of Y)H(B);else H(Y)}function nP(Z,Q){if(!Z.actors.has(Q))Z.actors.set(Q,{id:Q,name:Q,type:"participant"})}function eW(Z){for(let Q=0;Q<Z.length-1;Q++){let X=Z[Q],J=Z[Q+1];if(X.type==="message"&&J.type==="deactivate"){let W=X,H=J;if(W.from===H.actor&&!W.deactivate)W.deactivate=!0}switch(X.type){case"loop":case"opt":case"break":case"rect":{eW(X.statements);break}case"alt":case"par":{let W=X;for(let H of W.sections)eW(H.statements);break}case"critical":{let W=X;eW(W.statements);for(let H of W.options)eW(H.statements);break}default:break}}}function L8(Z){let Q=q3(),X=lg(Q);wz.yy=X;try{wz.parse(Z)}catch(J){if(J instanceof Error)throw Error(`Failed to parse sequence diagram: ${J.message}`);throw J}return eW(Q.statements),Q}function w3(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("sequencediagram")}function M3(){return{type:"state",direction:"TB",states:new Map,transitions:[],classDefs:new Map,styles:[],classApplications:[],clicks:[]}}var Mz=function(){var Z=function(S,l,I,QZ){for(I=I||{},QZ=S.length;QZ--;I[S[QZ]]=l);return I},Q=[1,2],X=[1,3],J=[1,4],W=[2,4],H=[1,9],Y=[1,11],B=[1,16],K=[1,17],U=[1,18],G=[1,19],z=[1,33],F=[1,20],q=[1,21],L=[1,22],A=[1,23],k=[1,24],T=[1,26],p=[1,27],s=[1,28],y=[1,29],C=[1,30],P=[1,31],g=[1,32],f=[1,35],O=[1,36],h=[1,37],w=[1,38],$=[1,34],j=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],n=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],d=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],m={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:function(l,I,QZ,WZ,MZ,r,qZ){var BZ=r.length-1;switch(MZ){case 3:return WZ.setRootDoc(r[BZ]),r[BZ];break;case 4:this.$=[];break;case 5:if(r[BZ]!="nl")r[BZ-1].push(r[BZ]),this.$=r[BZ-1];break;case 6:case 7:this.$=r[BZ];break;case 8:this.$="nl";break;case 12:this.$=r[BZ];break;case 13:let e=r[BZ-1];e.description=WZ.trimColon(r[BZ]),this.$=e;break;case 14:this.$={stmt:"relation",state1:r[BZ-2],state2:r[BZ]};break;case 15:let ZZ=WZ.trimColon(r[BZ]);this.$={stmt:"relation",state1:r[BZ-3],state2:r[BZ-1],description:ZZ};break;case 19:this.$={stmt:"state",id:r[BZ-3],type:"default",description:"",doc:r[BZ-1]};break;case 20:var DZ=r[BZ],UZ=r[BZ-2].trim();if(r[BZ].match(":")){var AZ=r[BZ].split(":");DZ=AZ[0],UZ=[UZ,AZ[1]]}this.$={stmt:"state",id:DZ,type:"default",description:UZ};break;case 21:this.$={stmt:"state",id:r[BZ-3],type:"default",description:r[BZ-5],doc:r[BZ-1]};break;case 22:this.$={stmt:"state",id:r[BZ],type:"fork"};break;case 23:this.$={stmt:"state",id:r[BZ],type:"join"};break;case 24:this.$={stmt:"state",id:r[BZ],type:"choice"};break;case 25:this.$={stmt:"state",id:WZ.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:r[BZ-1].trim(),note:{position:r[BZ-2].trim(),text:r[BZ].trim()}};break;case 29:this.$=r[BZ].trim(),WZ.setAccTitle(this.$);break;case 30:case 31:this.$=r[BZ].trim(),WZ.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:r[BZ-3],url:r[BZ-2],tooltip:r[BZ-1]};break;case 33:this.$={stmt:"click",id:r[BZ-3],url:r[BZ-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:r[BZ-1].trim(),classes:r[BZ].trim()};break;case 36:this.$={stmt:"style",id:r[BZ-1].trim(),styleClass:r[BZ].trim()};break;case 37:this.$={stmt:"applyClass",id:r[BZ-1].trim(),styleClass:r[BZ].trim()};break;case 38:WZ.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:WZ.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:WZ.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:WZ.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:r[BZ].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:r[BZ-2].trim(),classes:[r[BZ].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:r[BZ-2].trim(),classes:[r[BZ].trim()],type:"default",description:""};break}},table:[{3:1,4:Q,5:X,6:J},{1:[3]},{3:5,4:Q,5:X,6:J},{3:6,4:Q,5:X,6:J},Z([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],W,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:H,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:B,17:K,19:U,22:G,24:z,25:F,26:q,27:L,28:A,29:k,32:25,33:T,35:p,37:s,38:y,41:C,45:P,48:g,51:f,52:O,53:h,54:w,57:$},Z(j,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:B,17:K,19:U,22:G,24:z,25:F,26:q,27:L,28:A,29:k,32:25,33:T,35:p,37:s,38:y,41:C,45:P,48:g,51:f,52:O,53:h,54:w,57:$},Z(j,[2,7]),Z(j,[2,8]),Z(j,[2,9]),Z(j,[2,10]),Z(j,[2,11]),Z(j,[2,12],{14:[1,40],15:[1,41]}),Z(j,[2,16]),{18:[1,42]},Z(j,[2,18],{20:[1,43]}),{23:[1,44]},Z(j,[2,22]),Z(j,[2,23]),Z(j,[2,24]),Z(j,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},Z(j,[2,28]),{34:[1,49]},{36:[1,50]},Z(j,[2,31]),{13:51,24:z,57:$},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},Z(n,[2,44],{58:[1,56]}),Z(n,[2,45],{58:[1,57]}),Z(j,[2,38]),Z(j,[2,39]),Z(j,[2,40]),Z(j,[2,41]),Z(j,[2,6]),Z(j,[2,13]),{13:58,24:z,57:$},Z(j,[2,17]),Z(d,W,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},Z(j,[2,29]),Z(j,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},Z(j,[2,14],{14:[1,71]}),{4:H,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:B,17:K,19:U,21:[1,72],22:G,24:z,25:F,26:q,27:L,28:A,29:k,32:25,33:T,35:p,37:s,38:y,41:C,45:P,48:g,51:f,52:O,53:h,54:w,57:$},Z(j,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},Z(j,[2,34]),Z(j,[2,35]),Z(j,[2,36]),Z(j,[2,37]),Z(n,[2,46]),Z(n,[2,47]),Z(j,[2,15]),Z(j,[2,19]),Z(d,W,{7:78}),Z(j,[2,26]),Z(j,[2,27]),{5:[1,79]},{5:[1,80]},{4:H,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:B,17:K,19:U,21:[1,81],22:G,24:z,25:F,26:q,27:L,28:A,29:k,32:25,33:T,35:p,37:s,38:y,41:C,45:P,48:g,51:f,52:O,53:h,54:w,57:$},Z(j,[2,32]),Z(j,[2,33]),Z(j,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:function(l,I){if(I.recoverable)this.trace(l);else{var QZ=Error(l);throw QZ.hash=I,QZ}},parse:function(l){var I=this,QZ=[0],WZ=[],MZ=[null],r=[],qZ=this.table,BZ="",DZ=0,UZ=0,AZ=0,e=2,ZZ=1,i=r.slice.call(arguments,1),V=Object.create(this.lexer),o={yy:{}};for(var N in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,N))o.yy[N]=this.yy[N];if(V.setInput(l,o.yy),o.yy.lexer=V,o.yy.parser=this,typeof V.yylloc>"u")V.yylloc={};var YZ=V.yylloc;r.push(YZ);var M=V.options&&V.options.ranges;if(typeof o.yy.parseError==="function")this.parseError=o.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function mZ(R){QZ.length=QZ.length-2*R,MZ.length=MZ.length-R,r.length=r.length-R}function a(){var R=WZ.pop()||V.lex()||ZZ;if(typeof R!=="number"){if(R instanceof Array)WZ=R,R=WZ.pop();R=I.symbols_[R]||R}return R}var IZ,nZ,vZ,LZ,GZ,HZ,t={},zZ,x,EZ,E;while(!0){if(vZ=QZ[QZ.length-1],this.defaultActions[vZ])LZ=this.defaultActions[vZ];else{if(IZ===null||typeof IZ>"u")IZ=a();LZ=qZ[vZ]&&qZ[vZ][IZ]}if(typeof LZ>"u"||!LZ.length||!LZ[0]){var PZ="";E=[];for(zZ in qZ[vZ])if(this.terminals_[zZ]&&zZ>e)E.push("'"+this.terminals_[zZ]+"'");if(V.showPosition)PZ="Parse error on line "+(DZ+1)+`:
`+V.showPosition()+`
Expecting `+E.join(", ")+", got '"+(this.terminals_[IZ]||IZ)+"'";else PZ="Parse error on line "+(DZ+1)+": Unexpected "+(IZ==ZZ?"end of input":"'"+(this.terminals_[IZ]||IZ)+"'");this.parseError(PZ,{text:V.match,token:this.terminals_[IZ]||IZ,line:V.yylineno,loc:YZ,expected:E})}if(LZ[0]instanceof Array&&LZ.length>1)throw Error("Parse Error: multiple actions possible at state: "+vZ+", token: "+IZ);switch(LZ[0]){case 1:if(QZ.push(IZ),MZ.push(V.yytext),r.push(V.yylloc),QZ.push(LZ[1]),IZ=null,!nZ){if(UZ=V.yyleng,BZ=V.yytext,DZ=V.yylineno,YZ=V.yylloc,AZ>0)AZ--}else IZ=nZ,nZ=null;break;case 2:if(x=this.productions_[LZ[1]][1],t.$=MZ[MZ.length-x],t._$={first_line:r[r.length-(x||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(x||1)].first_column,last_column:r[r.length-1].last_column},M)t._$.range=[r[r.length-(x||1)].range[0],r[r.length-1].range[1]];if(HZ=this.performAction.apply(t,[BZ,UZ,DZ,o.yy,LZ[1],MZ,r].concat(i)),typeof HZ<"u")return HZ;if(x)QZ=QZ.slice(0,-1*x*2),MZ=MZ.slice(0,-1*x),r=r.slice(0,-1*x);QZ.push(this.productions_[LZ[1]][0]),MZ.push(t.$),r.push(t._$),EZ=qZ[QZ[QZ.length-2]][QZ[QZ.length-1]],QZ.push(EZ);break;case 3:return!0}}return!0}},b=function(){var S={EOF:1,parseError:function(I,QZ){if(this.yy.parser)this.yy.parser.parseError(I,QZ);else throw Error(I)},setInput:function(l,I){if(this.yy=I||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var I=l.match(/(?:\r\n?|\n).*/g);if(I)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),l},unput:function(l){var I=l.length,QZ=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var WZ=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),QZ.length-1)this.yylineno-=QZ.length-1;var MZ=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:QZ?(QZ.length===WZ.length?this.yylloc.first_column:0)+WZ[WZ.length-QZ.length].length-QZ[0].length:this.yylloc.first_column-I},this.options.ranges)this.yylloc.range=[MZ[0],MZ[0]+this.yyleng-I];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(l){this.unput(this.match.slice(l))},pastInput:function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var l=this.match;if(l.length<20)l+=this._input.substr(0,20-l.length);return(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var l=this.pastInput(),I=Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+I+"^"},test_match:function(l,I){var QZ,WZ,MZ;if(this.options.backtrack_lexer){if(MZ={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)MZ.yylloc.range=this.yylloc.range.slice(0)}if(WZ=l[0].match(/(?:\r\n?|\n).*/g),WZ)this.yylineno+=WZ.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:WZ?WZ[WZ.length-1].length-WZ[WZ.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],QZ=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(QZ)return QZ;else if(this._backtrack){for(var r in MZ)this[r]=MZ[r];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var l,I,QZ,WZ;if(!this._more)this.yytext="",this.match="";var MZ=this._currentRules();for(var r=0;r<MZ.length;r++)if(QZ=this._input.match(this.rules[MZ[r]]),QZ&&(!I||QZ[0].length>I[0].length)){if(I=QZ,WZ=r,this.options.backtrack_lexer)if(l=this.test_match(QZ,MZ[r]),l!==!1)return l;else if(this._backtrack){I=!1;continue}else return!1;else if(!this.options.flex)break}if(I){if(l=this.test_match(I,MZ[WZ]),l!==!1)return l;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var I=this.next();if(I)return I;else return this.lex()},begin:function(I){this.conditionStack.push(I)},popState:function(){var I=this.conditionStack.length-1;if(I>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(I){if(I=this.conditionStack.length-1-Math.abs(I||0),I>=0)return this.conditionStack[I];else return"INITIAL"},pushState:function(I){this.begin(I)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(I,QZ,WZ,MZ){var r=MZ;switch(WZ){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;break;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;break;case 19:return this.popState(),"acc_title_value";break;case 20:return this.begin("acc_descr"),35;break;case 21:return this.popState(),"acc_descr_value";break;case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;break;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 27:return this.popState(),this.pushState("CLASSDEFID"),42;break;case 28:return this.popState(),43;break;case 29:return this.pushState("CLASS"),48;break;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;break;case 31:return this.popState(),50;break;case 32:return this.pushState("STYLE"),45;break;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;break;case 34:return this.popState(),47;break;case 35:return this.pushState("SCALE"),17;break;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-8).trim(),25;break;case 40:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-8).trim(),26;break;case 41:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-10).trim(),27;break;case 42:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-8).trim(),25;break;case 43:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-8).trim(),26;break;case 44:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-10).trim(),27;break;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";break;case 51:return this.popState(),"ID";break;case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;break;case 57:break;case 58:return this.popState(),21;break;case 59:break;case 60:return this.begin("NOTE"),29;break;case 61:return this.popState(),this.pushState("NOTE_ID"),59;break;case 62:return this.popState(),this.pushState("NOTE_ID"),60;break;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";break;case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;break;case 69:return this.popState(),QZ.yytext=QZ.yytext.substr(2).trim(),31;break;case 70:return this.popState(),QZ.yytext=QZ.yytext.slice(0,-8).trim(),31;break;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return QZ.yytext=QZ.yytext.trim(),14;break;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return S}();m.lexer=b;function u(){this.yy={}}return u.prototype=m,m.Parser=u,new u}();Mz.parser=Mz;var Lz=Mz;function rP(Z,Q,X){let J=X||Q.states;for(let W of Z){if(!W||W==="nl")continue;if(typeof W==="object"&&W!==null){let H=W;if(H.stmt==="state"){let Y=String(H.id||"").trim();if(!Y)continue;let B=H.type||"default",K=H.description,U=H.note,G=H.classes,z=H.doc,F=J.get(Y);if(!F)F={id:Y,type:B},J.set(Y,F);if(B!=="default")F.type=B;if(K)F.description=K;if(U)F.note=U;if(G)F.classes=G;if(z&&Array.isArray(z))F.doc=[],rP(z,Q,J)}else if(H.stmt==="relation"){let{state1:Y,state2:B,description:K}=H;if(Y&&B){let U=String(Y.id||"").trim(),G=String(B.id||"").trim();if(!J.has(U))J.set(U,{id:U,type:Y.type||"default"});if(!J.has(G))J.set(G,{id:G,type:B.type||"default"});if(Y.classes){let F=J.get(U);F.classes=Y.classes}if(B.classes){let F=J.get(G);F.classes=B.classes}let z={state1:J.get(U),state2:J.get(G)};if(K)z.description=K;Q.transitions.push(z)}}else if(H.stmt==="classDef"){let Y=String(H.id||"").trim(),B=String(H.classes||"").trim();if(Y)Q.classDefs.set(Y,{id:Y,classes:B})}else if(H.stmt==="style"){let Y=String(H.id||"").trim(),B=String(H.styleClass||"").trim();if(Y)Q.styles.push({id:Y,styleClass:B})}else if(H.stmt==="applyClass"){let Y=String(H.id||"").trim(),B=String(H.styleClass||"").trim();if(Y)Q.classApplications.push({id:Y,styleClass:B})}else if(H.stmt==="dir")Q.direction=H.value;else if(H.stmt==="click"){let Y=H.id,B=String(Y?.id||Y||"").trim(),K=String(H.url||"").replace(/^"|"$/g,""),U=String(H.tooltip||"").replace(/^"|"$/g,"");if(B)Q.clicks.push({id:B,url:K||void 0,tooltip:U||void 0})}}}}function ig(Z){let Q=0,X=[];return{setRootDoc(J){X=J},getRootDoc(){return X},trimColon(J){if(!J)return"";return J.replace(/^:/,"").trim()},getDividerId(){return`divider-${Q++}`},setDirection(J){Z.direction=J},setAccTitle(J){Z.title=J},setAccDescription(J){Z.accDescription=J},getAccTitle:()=>Z.title||"",getAccDescription:()=>Z.accDescription||"",clear:()=>{},setDiagramTitle:()=>{},getDiagramTitle:()=>""}}function L3(Z){let Q=M3(),X=ig(Q);Lz.yy=X;try{let J=Lz.parse(Z);if(Array.isArray(J))rP(J,Q)}catch(J){if(J instanceof Error)throw Error(`Failed to parse state diagram: ${J.message}`);throw J}return Q}function aP(Z){let X=Z.trim().split(`
`)[0].trim().toLowerCase();return X.startsWith("statediagram")||X.startsWith("statediagram-v2")}function D3(){return{type:"timeline",sections:[]}}var Dz=function(){var Z=function(F,q,L,A){for(L=L||{},A=F.length;A--;L[F[A]]=q);return L},Q=[6,8,10,11,12,14,16,17,20,21],X=[1,9],J=[1,10],W=[1,11],H=[1,12],Y=[1,13],B=[1,16],K=[1,17],U={trace:function(){},yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:function(q,L,A,k,T,p,s){var y=p.length-1;switch(T){case 1:return p[y-1];case 2:this.$=[];break;case 3:p[y-1].push(p[y]),this.$=p[y-1];break;case 4:case 5:this.$=p[y];break;case 6:case 7:this.$=[];break;case 8:k.getCommonDb().setDiagramTitle(p[y].substr(6)),this.$=p[y].substr(6);break;case 9:this.$=p[y].trim(),k.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=p[y].trim(),k.getCommonDb().setAccDescription(this.$);break;case 12:k.addSection(p[y].substr(8)),this.$=p[y].substr(8);break;case 15:k.addTask(p[y],0,""),this.$=p[y];break;case 16:k.addEvent(p[y].substr(2)),this.$=p[y];break}},table:[{3:1,4:[1,2]},{1:[3]},Z(Q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:X,12:J,14:W,16:H,17:Y,18:14,19:15,20:B,21:K},Z(Q,[2,7],{1:[2,1]}),Z(Q,[2,3]),{9:18,11:X,12:J,14:W,16:H,17:Y,18:14,19:15,20:B,21:K},Z(Q,[2,5]),Z(Q,[2,6]),Z(Q,[2,8]),{13:[1,19]},{15:[1,20]},Z(Q,[2,11]),Z(Q,[2,12]),Z(Q,[2,13]),Z(Q,[2,14]),Z(Q,[2,15]),Z(Q,[2,16]),Z(Q,[2,4]),Z(Q,[2,9]),Z(Q,[2,10])],defaultActions:{},parseError:function(q,L){if(L.recoverable)this.trace(q);else{var A=Error(q);throw A.hash=L,A}},parse:function(q){var L=this,A=[0],k=[],T=[null],p=[],s=this.table,y="",C=0,P=0,g=0,f=2,O=1,h=p.slice.call(arguments,1),w=Object.create(this.lexer),$={yy:{}};for(var j in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,j))$.yy[j]=this.yy[j];if(w.setInput(q,$.yy),$.yy.lexer=w,$.yy.parser=this,typeof w.yylloc>"u")w.yylloc={};var n=w.yylloc;p.push(n);var d=w.options&&w.options.ranges;if(typeof $.yy.parseError==="function")this.parseError=$.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function m(AZ){A.length=A.length-2*AZ,T.length=T.length-AZ,p.length=p.length-AZ}function b(){var AZ=k.pop()||w.lex()||O;if(typeof AZ!=="number"){if(AZ instanceof Array)k=AZ,AZ=k.pop();AZ=L.symbols_[AZ]||AZ}return AZ}var u,S,l,I,QZ,WZ,MZ={},r,qZ,BZ,DZ;while(!0){if(l=A[A.length-1],this.defaultActions[l])I=this.defaultActions[l];else{if(u===null||typeof u>"u")u=b();I=s[l]&&s[l][u]}if(typeof I>"u"||!I.length||!I[0]){var UZ="";DZ=[];for(r in s[l])if(this.terminals_[r]&&r>f)DZ.push("'"+this.terminals_[r]+"'");if(w.showPosition)UZ="Parse error on line "+(C+1)+`:
`+w.showPosition()+`
Expecting `+DZ.join(", ")+", got '"+(this.terminals_[u]||u)+"'";else UZ="Parse error on line "+(C+1)+": Unexpected "+(u==O?"end of input":"'"+(this.terminals_[u]||u)+"'");this.parseError(UZ,{text:w.match,token:this.terminals_[u]||u,line:w.yylineno,loc:n,expected:DZ})}if(I[0]instanceof Array&&I.length>1)throw Error("Parse Error: multiple actions possible at state: "+l+", token: "+u);switch(I[0]){case 1:if(A.push(u),T.push(w.yytext),p.push(w.yylloc),A.push(I[1]),u=null,!S){if(P=w.yyleng,y=w.yytext,C=w.yylineno,n=w.yylloc,g>0)g--}else u=S,S=null;break;case 2:if(qZ=this.productions_[I[1]][1],MZ.$=T[T.length-qZ],MZ._$={first_line:p[p.length-(qZ||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(qZ||1)].first_column,last_column:p[p.length-1].last_column},d)MZ._$.range=[p[p.length-(qZ||1)].range[0],p[p.length-1].range[1]];if(WZ=this.performAction.apply(MZ,[y,P,C,$.yy,I[1],T,p].concat(h)),typeof WZ<"u")return WZ;if(qZ)A=A.slice(0,-1*qZ*2),T=T.slice(0,-1*qZ),p=p.slice(0,-1*qZ);A.push(this.productions_[I[1]][0]),T.push(MZ.$),p.push(MZ._$),BZ=s[A[A.length-2]][A[A.length-1]],A.push(BZ);break;case 3:return!0}}return!0}},G=function(){var F={EOF:1,parseError:function(L,A){if(this.yy.parser)this.yy.parser.parseError(L,A);else throw Error(L)},setInput:function(q,L){if(this.yy=L||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var L=q.match(/(?:\r\n?|\n).*/g);if(L)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),q},unput:function(q){var L=q.length,A=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var k=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1)this.yylineno-=A.length-1;var T=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===k.length?this.yylloc.first_column:0)+k[k.length-A.length].length-A[0].length:this.yylloc.first_column-L},this.options.ranges)this.yylloc.range=[T[0],T[0]+this.yyleng-L];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;if(q.length<20)q+=this._input.substr(0,20-q.length);return(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),L=Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+L+"^"},test_match:function(q,L){var A,k,T;if(this.options.backtrack_lexer){if(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)T.yylloc.range=this.yylloc.range.slice(0)}if(k=q[0].match(/(?:\r\n?|\n).*/g),k)this.yylineno+=k.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],A=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(A)return A;else if(this._backtrack){for(var p in T)this[p]=T[p];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var q,L,A,k;if(!this._more)this.yytext="",this.match="";var T=this._currentRules();for(var p=0;p<T.length;p++)if(A=this._input.match(this.rules[T[p]]),A&&(!L||A[0].length>L[0].length)){if(L=A,k=p,this.options.backtrack_lexer)if(q=this.test_match(A,T[p]),q!==!1)return q;else if(this._backtrack){L=!1;continue}else return!1;else if(!this.options.flex)break}if(L){if(q=this.test_match(L,T[k]),q!==!1)return q;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var L=this.next();if(L)return L;else return this.lex()},begin:function(L){this.conditionStack.push(L)},popState:function(){var L=this.conditionStack.length-1;if(L>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(L){if(L=this.conditionStack.length-1-Math.abs(L||0),L>=0)return this.conditionStack[L];else return"INITIAL"},pushState:function(L){this.begin(L)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(L,A,k,T){var p=T;switch(k){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return F}();U.lexer=G;function z(){this.yy={}}return z.prototype=U,U.Parser=z,new z}();Dz.parser=Dz;var Ez=Dz;function sg(Z){let Q=null,X=null;function J(){if(!Q)Q={name:"",periods:[]},Z.sections.push(Q);return Q}function W(){let H=J();if(!X)X={name:"",events:[]},H.periods.push(X);return X}return{getCommonDb(){return{setDiagramTitle(H){Z.title=H},setAccTitle(H){Z.accTitle=H},setAccDescription(H){Z.accDescription=H}}},addSection(H){Q={name:H,periods:[]},Z.sections.push(Q),X=null},addTask(H,Y,B){let K=J();X={name:H.trim(),events:[]},K.periods.push(X)},addEvent(H){W().events.push({text:H.trim()})},clear(){}}}function E3(Z){let Q=D3(),X=Z.trim();if(!X.toLowerCase().startsWith("timeline"))X=`timeline
${X}`;return Ez.yy=sg(Q),Ez.parse(X),Q}function tP(Z){return Z.trim().split(`
`)[0].trim().toLowerCase().startsWith("timeline")}function A3(){return{type:"xychart",series:[]}}var Az=function(){var Z=function(d,m,b,u){for(b=b||{},u=d.length;u--;b[d[u]]=m);return b},Q=[1,10,12,14,16,18,19,21,23],X=[2,6],J=[1,3],W=[1,5],H=[1,6],Y=[1,7],B=[1,5,10,12,14,16,18,19,21,23,34,35,36],K=[1,25],U=[1,26],G=[1,28],z=[1,29],F=[1,30],q=[1,31],L=[1,32],A=[1,33],k=[1,34],T=[1,35],p=[1,36],s=[1,37],y=[1,43],C=[1,42],P=[1,47],g=[1,50],f=[1,10,12,14,16,18,19,21,23,34,35,36],O=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],h=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],w=[1,64],$={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:function(m,b,u,S,l,I,QZ){var WZ=I.length-1;switch(l){case 5:S.setOrientation(I[WZ]);break;case 9:S.setDiagramTitle(I[WZ].text.trim());break;case 12:S.setLineData({text:"",type:"text"},I[WZ]);break;case 13:S.setLineData(I[WZ-1],I[WZ]);break;case 14:S.setBarData({text:"",type:"text"},I[WZ]);break;case 15:S.setBarData(I[WZ-1],I[WZ]);break;case 16:this.$=I[WZ].trim(),S.setAccTitle(this.$);break;case 17:case 18:this.$=I[WZ].trim(),S.setAccDescription(this.$);break;case 19:this.$=I[WZ-1];break;case 20:this.$=[Number(I[WZ-2]),...I[WZ]];break;case 21:this.$=[Number(I[WZ])];break;case 22:S.setXAxisTitle(I[WZ]);break;case 23:S.setXAxisTitle(I[WZ-1]);break;case 24:S.setXAxisTitle({type:"text",text:""});break;case 25:S.setXAxisBand(I[WZ]);break;case 26:S.setXAxisRangeData(Number(I[WZ-2]),Number(I[WZ]));break;case 27:this.$=I[WZ-1];break;case 28:this.$=[I[WZ-2],...I[WZ]];break;case 29:this.$=[I[WZ]];break;case 30:S.setYAxisTitle(I[WZ]);break;case 31:S.setYAxisTitle(I[WZ-1]);break;case 32:S.setYAxisTitle({type:"text",text:""});break;case 33:S.setYAxisRangeData(Number(I[WZ-2]),Number(I[WZ]));break;case 37:this.$={text:I[WZ],type:"text"};break;case 38:this.$={text:I[WZ],type:"text"};break;case 39:this.$={text:I[WZ],type:"markdown"};break;case 40:this.$=I[WZ];break;case 41:this.$=I[WZ-1]+""+I[WZ];break}},table:[Z(Q,X,{3:1,4:2,7:4,5:J,34:W,35:H,36:Y}),{1:[3]},Z(Q,X,{4:2,7:4,3:8,5:J,34:W,35:H,36:Y}),Z(Q,X,{4:2,7:4,6:9,3:10,5:J,8:[1,11],34:W,35:H,36:Y}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},Z(B,[2,34]),Z(B,[2,35]),Z(B,[2,36]),{1:[2,1]},Z(Q,X,{4:2,7:4,3:21,5:J,34:W,35:H,36:Y}),{1:[2,3]},Z(B,[2,5]),Z(Q,[2,7],{4:22,34:W,35:H,36:Y}),{11:23,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},{11:39,13:38,24:y,27:C,29:40,30:41,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},{11:45,15:44,27:P,33:46,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},{11:49,17:48,24:g,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},{11:52,17:51,24:g,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},{20:[1,53]},{22:[1,54]},Z(f,[2,18]),{1:[2,2]},Z(f,[2,8]),Z(f,[2,9]),Z(O,[2,37],{40:55,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s}),Z(O,[2,38]),Z(O,[2,39]),Z(h,[2,40]),Z(h,[2,42]),Z(h,[2,43]),Z(h,[2,44]),Z(h,[2,45]),Z(h,[2,46]),Z(h,[2,47]),Z(h,[2,48]),Z(h,[2,49]),Z(h,[2,50]),Z(h,[2,51]),Z(f,[2,10]),Z(f,[2,22],{30:41,29:56,24:y,27:C}),Z(f,[2,24]),Z(f,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},Z(f,[2,11]),Z(f,[2,30],{33:60,27:P}),Z(f,[2,32]),{31:[1,61]},Z(f,[2,12]),{17:62,24:g},{25:63,27:w},Z(f,[2,14]),{17:65,24:g},Z(f,[2,16]),Z(f,[2,17]),Z(h,[2,41]),Z(f,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},Z(f,[2,31]),{27:[1,69]},Z(f,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},Z(f,[2,15]),Z(f,[2,26]),Z(f,[2,27]),{11:59,32:72,37:24,38:K,39:U,40:27,41:G,42:z,43:F,44:q,45:L,46:A,47:k,48:T,49:p,50:s},Z(f,[2,33]),Z(f,[2,19]),{25:73,27:w},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:function(m,b){if(b.recoverable)this.trace(m);else{var u=Error(m);throw u.hash=b,u}},parse:function(m){var b=this,u=[0],S=[],l=[null],I=[],QZ=this.table,WZ="",MZ=0,r=0,qZ=0,BZ=2,DZ=1,UZ=I.slice.call(arguments,1),AZ=Object.create(this.lexer),e={yy:{}};for(var ZZ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,ZZ))e.yy[ZZ]=this.yy[ZZ];if(AZ.setInput(m,e.yy),e.yy.lexer=AZ,e.yy.parser=this,typeof AZ.yylloc>"u")AZ.yylloc={};var i=AZ.yylloc;I.push(i);var V=AZ.options&&AZ.options.ranges;if(typeof e.yy.parseError==="function")this.parseError=e.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function o(x){u.length=u.length-2*x,l.length=l.length-x,I.length=I.length-x}function N(){var x=S.pop()||AZ.lex()||DZ;if(typeof x!=="number"){if(x instanceof Array)S=x,x=S.pop();x=b.symbols_[x]||x}return x}var YZ,M,mZ,a,IZ,nZ,vZ={},LZ,GZ,HZ,t;while(!0){if(mZ=u[u.length-1],this.defaultActions[mZ])a=this.defaultActions[mZ];else{if(YZ===null||typeof YZ>"u")YZ=N();a=QZ[mZ]&&QZ[mZ][YZ]}if(typeof a>"u"||!a.length||!a[0]){var zZ="";t=[];for(LZ in QZ[mZ])if(this.terminals_[LZ]&&LZ>BZ)t.push("'"+this.terminals_[LZ]+"'");if(AZ.showPosition)zZ="Parse error on line "+(MZ+1)+`:
`+AZ.showPosition()+`
Expecting `+t.join(", ")+", got '"+(this.terminals_[YZ]||YZ)+"'";else zZ="Parse error on line "+(MZ+1)+": Unexpected "+(YZ==DZ?"end of input":"'"+(this.terminals_[YZ]||YZ)+"'");this.parseError(zZ,{text:AZ.match,token:this.terminals_[YZ]||YZ,line:AZ.yylineno,loc:i,expected:t})}if(a[0]instanceof Array&&a.length>1)throw Error("Parse Error: multiple actions possible at state: "+mZ+", token: "+YZ);switch(a[0]){case 1:if(u.push(YZ),l.push(AZ.yytext),I.push(AZ.yylloc),u.push(a[1]),YZ=null,!M){if(r=AZ.yyleng,WZ=AZ.yytext,MZ=AZ.yylineno,i=AZ.yylloc,qZ>0)qZ--}else YZ=M,M=null;break;case 2:if(GZ=this.productions_[a[1]][1],vZ.$=l[l.length-GZ],vZ._$={first_line:I[I.length-(GZ||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(GZ||1)].first_column,last_column:I[I.length-1].last_column},V)vZ._$.range=[I[I.length-(GZ||1)].range[0],I[I.length-1].range[1]];if(nZ=this.performAction.apply(vZ,[WZ,r,MZ,e.yy,a[1],l,I].concat(UZ)),typeof nZ<"u")return nZ;if(GZ)u=u.slice(0,-1*GZ*2),l=l.slice(0,-1*GZ),I=I.slice(0,-1*GZ);u.push(this.productions_[a[1]][0]),l.push(vZ.$),I.push(vZ._$),HZ=QZ[u[u.length-2]][u[u.length-1]],u.push(HZ);break;case 3:return!0}}return!0}},j=function(){var d={EOF:1,parseError:function(b,u){if(this.yy.parser)this.yy.parser.parseError(b,u);else throw Error(b)},setInput:function(m,b){if(this.yy=b||this.yy||{},this._input=m,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var m=this._input[0];this.yytext+=m,this.yyleng++,this.offset++,this.match+=m,this.matched+=m;var b=m.match(/(?:\r\n?|\n).*/g);if(b)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),m},unput:function(m){var b=m.length,u=m.split(/(?:\r\n?|\n)/g);this._input=m+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var S=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),u.length-1)this.yylineno-=u.length-1;var l=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:u?(u.length===S.length?this.yylloc.first_column:0)+S[S.length-u.length].length-u[0].length:this.yylloc.first_column-b},this.options.ranges)this.yylloc.range=[l[0],l[0]+this.yyleng-b];return this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(m){this.unput(this.match.slice(m))},pastInput:function(){var m=this.matched.substr(0,this.matched.length-this.match.length);return(m.length>20?"...":"")+m.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var m=this.match;if(m.length<20)m+=this._input.substr(0,20-m.length);return(m.substr(0,20)+(m.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var m=this.pastInput(),b=Array(m.length+1).join("-");return m+this.upcomingInput()+`
`+b+"^"},test_match:function(m,b){var u,S,l;if(this.options.backtrack_lexer){if(l={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)l.yylloc.range=this.yylloc.range.slice(0)}if(S=m[0].match(/(?:\r\n?|\n).*/g),S)this.yylineno+=S.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+m[0].length},this.yytext+=m[0],this.match+=m[0],this.matches=m,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(m[0].length),this.matched+=m[0],u=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(u)return u;else if(this._backtrack){for(var I in l)this[I]=l[I];return!1}return!1},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var m,b,u,S;if(!this._more)this.yytext="",this.match="";var l=this._currentRules();for(var I=0;I<l.length;I++)if(u=this._input.match(this.rules[l[I]]),u&&(!b||u[0].length>b[0].length)){if(b=u,S=I,this.options.backtrack_lexer)if(m=this.test_match(u,l[I]),m!==!1)return m;else if(this._backtrack){b=!1;continue}else return!1;else if(!this.options.flex)break}if(b){if(m=this.test_match(b,l[S]),m!==!1)return m;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();if(b)return b;else return this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){var b=this.conditionStack.length-1;if(b>0)return this.conditionStack.pop();else return this.conditionStack[0]},_currentRules:function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},topState:function(b){if(b=this.conditionStack.length-1-Math.abs(b||0),b>=0)return this.conditionStack[b];else return"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,u,S,l){var I=l;switch(S){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";break;case 18:return this.pushState("axis_data"),"Y_AXIS";break;case 19:return this.pushState("axis_band_data"),24;break;case 20:return 31;case 21:return this.pushState("data"),16;break;case 22:return this.pushState("data"),18;break;case 23:return this.pushState("data_inner"),24;break;case 24:return 27;case 25:return this.popState(),26;break;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return d}();$.lexer=j;function n(){this.yy={}}return n.prototype=$,$.Parser=n,new n}();Az.parser=Az;var Oz=Az;function ng(Z){return{setDiagramTitle(Q){Z.title=Q},setOrientation(Q){let X=Q.trim().toLowerCase();if(X==="vertical"||X==="horizontal")Z.orientation=X},setXAxisTitle(Q){if(!Z.xAxis)Z.xAxis={type:"range",min:0,max:0};Z.xAxis.title=Q.text},setXAxisBand(Q){Z.xAxis={type:"band",title:Z.xAxis?.title,categories:Q.map((X)=>X.text)}},setXAxisRangeData(Q,X){let J=Z.xAxis;Z.xAxis={type:"range",title:J?.title,min:Q,max:X}},setYAxisTitle(Q){if(!Z.yAxis)Z.yAxis={min:0,max:0};Z.yAxis.title=Q.text},setYAxisRangeData(Q,X){if(!Z.yAxis)Z.yAxis={min:Q,max:X};else Z.yAxis.min=Q,Z.yAxis.max=X},setLineData(Q,X){let J={type:"line",label:Q.text,values:X};Z.series.push(J)},setBarData(Q,X){let J={type:"bar",label:Q.text,values:X};Z.series.push(J)},setAccTitle(Q){Z.accTitle=Q},setAccDescription(Q){Z.accDescription=Q}}}function O3(Z){let Q=A3(),X=Z.trim();if(!X.toLowerCase().match(/^xychart(-beta)?/))X=`xychart
${X}`;return Oz.yy=ng(Q),Oz.parse(X),Q}function eP(Z){let X=Z.trim().split(`
`)[0].trim().toLowerCase();return X.startsWith("xychart")||X.startsWith("xychart-beta")}PH();function Pz(Z){if(BH(Z))return"block";if(MH(Z))return"c4";if(OH(Z))return"flowchart";if(w3(Z))return"sequence";if(DH(Z))return"class";if(aP(Z))return"state";if(dz(Z))return"erDiagram";if(WF(Z))return"gantt";if(oY(Z))return"gitGraph";if(iP(Z))return"mindmap";if($P(Z))return"journey";if(lP(Z))return"kanban";if(Y3(Z))return"pie";if(tP(Z))return"timeline";if(F3(Z))return"sankey";if(K3(Z))return"quadrant";if(G3(Z))return"requirement";if(eP(Z))return"xychart";return null}function ZN(Z){let Q=Pz(Z);if(!Q)throw Error("Unable to detect diagram type. Supported types: flowchart, sequence, class, state, erDiagram, gantt, gitGraph, mindmap, journey, kanban, pie, timeline, sankey, quadrant, requirement, xychart, c4, block");switch(Q){case"block":return x7(Z);case"c4":return V7(Z);case"flowchart":return d7(Z);case"sequence":return L8(Z);case"class":return m7(Z);case"state":return L3(Z);case"erDiagram":return j8(Z);case"gantt":return CH(Z);case"gitGraph":throw Error("GitGraph diagrams use an async parser. Use `GitGraph.parse()` or `parseAsync()` instead.");case"mindmap":return J3(Z);case"journey":return aY(Z);case"kanban":return Z3(Z);case"pie":throw Error("Pie diagrams use an async parser. Use `Pie.parse()` or `parseAsync()` instead.");case"timeline":return E3(Z);case"sankey":return M8(Z);case"quadrant":return q8(Z);case"requirement":return w8(Z);case"xychart":return O3(Z);default:return M0(Q)}}async function og(Z){let Q=Pz(Z);if(!Q)throw Error("Unable to detect diagram type. Supported types: flowchart, sequence, class, state, erDiagram, gantt, gitGraph, mindmap, journey, kanban, pie, timeline, sankey, quadrant, requirement, xychart, c4, block");switch(Q){case"pie":return G8(Z);case"gitGraph":return W8(Z);default:return ZN(Z)}}aQ();function D8(Z,Q){let J=QQ(Q).indent,W=[];if(W.push("quadrantChart"),Z.title)W.push(`${J}title ${Z.title}`);if(Z.accTitle)W.push(`${J}accTitle: ${Z.accTitle}`);if(Z.accDescription)W.push(`${J}accDescr: ${Z.accDescription}`);if(Z.classes&&Z.classes.size>0)for(let H of Z.classes.values()){let Y=H.styles.join(", ");W.push(`${J}classDef ${H.name} ${Y}`)}if(Z.xAxisLeft||Z.xAxisRight){let H=Z.xAxisLeft||"",Y=Z.xAxisRight||"";W.push(`${J}x-axis "${H}" --> "${Y}"`)}if(Z.yAxisBottom||Z.yAxisTop){let H=Z.yAxisBottom||"",Y=Z.yAxisTop||"";W.push(`${J}y-axis "${H}" --> "${Y}"`)}if(Z.quadrant1)W.push(`${J}quadrant-1 "${Z.quadrant1}"`);if(Z.quadrant2)W.push(`${J}quadrant-2 "${Z.quadrant2}"`);if(Z.quadrant3)W.push(`${J}quadrant-3 "${Z.quadrant3}"`);if(Z.quadrant4)W.push(`${J}quadrant-4 "${Z.quadrant4}"`);for(let H of Z.points){let Y=`${J}${H.name}`;if(H.className)Y+=`:::${H.className}`;if(Y+=`: [${H.x}, ${H.y}]`,H.styles&&H.styles.length>0)Y+=` style ${H.styles.join(", ")}`;W.push(Y)}return W.join(`
`)}class E8 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=B3();if(Z)Q.title=Z;return new E8(Q)}static from(Z){return new E8(Z)}static parse(Z){let Q=q8(Z);return new E8(Q)}render(Z){return D8(this.ast,Z)}clone(){let Z={type:"quadrant",title:this.ast.title,accTitle:this.ast.accTitle,accDescription:this.ast.accDescription,points:this.ast.points.map((Q)=>({...Q,styles:Q.styles?[...Q.styles]:void 0})),xAxisLeft:this.ast.xAxisLeft,xAxisRight:this.ast.xAxisRight,yAxisBottom:this.ast.yAxisBottom,yAxisTop:this.ast.yAxisTop,quadrant1:this.ast.quadrant1,quadrant2:this.ast.quadrant2,quadrant3:this.ast.quadrant3,quadrant4:this.ast.quadrant4,classes:this.ast.classes?new Map(Array.from(this.ast.classes.entries()).map(([Q,X])=>[Q,{...X,styles:[...X.styles]}])):void 0};return new E8(Z)}get title(){return this.ast.title}get points(){return this.ast.points}get pointCount(){return this.ast.points.length}setTitle(Z){return this.ast.title=Z,this}setXAxis(Z,Q){return this.ast.xAxisLeft=Z,this.ast.xAxisRight=Q,this}setYAxis(Z,Q){return this.ast.yAxisBottom=Z,this.ast.yAxisTop=Q,this}setQuadrantLabels(Z,Q,X,J){if(Z!==void 0)this.ast.quadrant1=Z;if(Q!==void 0)this.ast.quadrant2=Q;if(X!==void 0)this.ast.quadrant3=X;if(J!==void 0)this.ast.quadrant4=J;return this}addPoint(Z,Q,X,J){let W={name:Z,x:Q,y:X};if(J?.className)W.className=J.className;if(J?.styles)W.styles=J.styles;return this.ast.points.push(W),this}getPoint(Z){return this.ast.points.find((Q)=>Q.name===Z)}removePoint(Z){let Q=this.ast.points.findIndex((X)=>X.name===Z);if(Q!==-1)this.ast.points.splice(Q,1);return this}updatePoint(Z,Q,X){let J=this.getPoint(Z);if(J){if(Q!==void 0)J.x=Q;if(X!==void 0)J.y=X}return this}addClass(Z,Q){if(!this.ast.classes)this.ast.classes=new Map;return this.ast.classes.set(Z,{name:Z,styles:Q}),this}getClass(Z){return this.ast.classes?.get(Z)}findPoints(Z){let Q=this.ast.points;if(Z.nameContains)Q=Q.filter((X)=>X.name.includes(Z.nameContains));if(Z.minX!==void 0)Q=Q.filter((X)=>X.x>=Z.minX);if(Z.maxX!==void 0)Q=Q.filter((X)=>X.x<=Z.maxX);if(Z.minY!==void 0)Q=Q.filter((X)=>X.y>=Z.minY);if(Z.maxY!==void 0)Q=Q.filter((X)=>X.y<=Z.maxY);if(Z.className)Q=Q.filter((X)=>X.className===Z.className);return Q}getPointsInQuadrant(Z){return this.ast.points.filter((Q)=>{if(Z===1)return Q.x>=0.5&&Q.y>=0.5;if(Z===2)return Q.x<0.5&&Q.y>=0.5;if(Z===3)return Q.x<0.5&&Q.y<0.5;if(Z===4)return Q.x>=0.5&&Q.y<0.5;return!1})}}aQ();eX();function rg(Z){switch(Z){case"requirement":return"requirement";case"functionalRequirement":return"functionalRequirement";case"interfaceRequirement":return"interfaceRequirement";case"performanceRequirement":return"performanceRequirement";case"physicalRequirement":return"physicalRequirement";case"designConstraint":return"designConstraint";default:return"requirement"}}function ag(Z,Q,X){let J=X&&X.length>0?`:::${X.join(",")}`:"",W=`${rg(Q.requirementType)} ${Z}${J} {`,H=[];if(Q.id!==void 0)H.push(`id: ${Q.id}`);if(Q.text!==void 0)H.push(`text: ${Q.text}`);if(Q.risk!==void 0)H.push(`risk: ${Q.risk}`);if(Q.verifyMethod!==void 0)H.push(`verifymethod: ${Q.verifyMethod}`);return[W,ZQ(H),"}"]}function tg(Z,Q,X){let J=X&&X.length>0?`:::${X.join(",")}`:"",W=`element ${Z}${J} {`,H=[];if(Q.type!==void 0)H.push(`type: ${Q.type}`);if(Q.docRef!==void 0)H.push(`docref: ${Q.docRef}`);return[W,ZQ(H),"}"]}function eg(Z){return`${Z.source} - ${Z.relationshipType} -> ${Z.target}`}function A8(Z,Q){let X=QQ(Q),J=[];J.push("requirementDiagram");let W=[];if(Z.accTitle)W.push(`accTitle: ${Z.accTitle}`);if(Z.accDescription)W.push(`accDescr: ${Z.accDescription}`);if(Z.direction&&Z.direction!=="TB")W.push(`direction ${Z.direction}`);for(let[H,Y]of Z.classDefs)W.push(`classDef ${H} ${Y.styles.join(",")}`);for(let[H,Y]of Z.requirements){let B=Z.classes.get(H);W.push(ag(H,Y,B))}for(let[H,Y]of Z.elements){let B=Z.classes.get(H);W.push(tg(H,Y,B))}for(let H of Z.relationships)W.push(eg(H));for(let[H,Y]of Z.styles)W.push(`style ${H} ${Y.join(",")}`);return J.push(ZQ(W)),xQ(J,X.indent)}class O8 extends tZ{constructor(Z){super(Z)}static create(Z="TB"){let Q=U3();return Q.direction=Z,new O8(Q)}static from(Z){return new O8(Z)}static parse(Z){let Q=w8(Z);return new O8(Q)}render(Z){return A8(this.ast,Z)}clone(){let Z={type:"requirement",direction:this.ast.direction,requirements:new Map([...this.ast.requirements].map(([Q,X])=>[Q,{...X}])),elements:new Map([...this.ast.elements].map(([Q,X])=>[Q,{...X}])),relationships:[...this.ast.relationships.map((Q)=>({...Q}))],classDefs:new Map([...this.ast.classDefs].map(([Q,X])=>[Q,{...X,styles:[...X.styles]}])),classes:new Map([...this.ast.classes].map(([Q,X])=>[Q,[...X]])),styles:new Map([...this.ast.styles].map(([Q,X])=>[Q,[...X]])),accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new O8(Z)}get direction(){return this.ast.direction}get requirementCount(){return this.ast.requirements.size}get elementCount(){return this.ast.elements.size}get relationshipCount(){return this.ast.relationships.length}get requirementNames(){return[...this.ast.requirements.keys()]}get elementNames(){return[...this.ast.elements.keys()]}addRequirement(Z,Q="requirement",X){let J={name:Z,requirementType:Q,...X};return this.ast.requirements.set(Z,J),this}getRequirement(Z){return this.ast.requirements.get(Z)}hasRequirement(Z){return this.ast.requirements.has(Z)}removeRequirement(Z){return this.ast.requirements.delete(Z),this.ast.relationships=this.ast.relationships.filter((Q)=>Q.source!==Z&&Q.target!==Z),this}updateRequirement(Z,Q){let X=this.ast.requirements.get(Z);if(X){if(Q.id!==void 0)X.id=Q.id;if(Q.text!==void 0)X.text=Q.text;if(Q.risk!==void 0)X.risk=Q.risk;if(Q.verifyMethod!==void 0)X.verifyMethod=Q.verifyMethod}return this}addElement(Z,Q){let X={name:Z,...Q};return this.ast.elements.set(Z,X),this}getElement(Z){return this.ast.elements.get(Z)}hasElement(Z){return this.ast.elements.has(Z)}removeElement(Z){return this.ast.elements.delete(Z),this.ast.relationships=this.ast.relationships.filter((Q)=>Q.source!==Z&&Q.target!==Z),this}updateElement(Z,Q){let X=this.ast.elements.get(Z);if(X){if(Q.type!==void 0)X.type=Q.type;if(Q.docRef!==void 0)X.docRef=Q.docRef}return this}addRelationship(Z,Q,X){return this.ast.relationships.push({source:Z,target:Q,relationshipType:X}),this}getRelationships(){return[...this.ast.relationships]}getRelationshipsFrom(Z){return this.ast.relationships.filter((Q)=>Q.source===Z)}getRelationshipsTo(Z){return this.ast.relationships.filter((Q)=>Q.target===Z)}removeRelationship(Z,Q,X){return this.ast.relationships=this.ast.relationships.filter((J)=>{if(J.source!==Z||J.target!==Q)return!0;if(X&&J.relationshipType!==X)return!0;return!1}),this}findRequirements(Z){return[...this.ast.requirements.values()].filter((Q)=>{if(Z.requirementType&&Q.requirementType!==Z.requirementType)return!1;if(Z.risk&&Q.risk!==Z.risk)return!1;if(Z.verifyMethod&&Q.verifyMethod!==Z.verifyMethod)return!1;if(Z.nameContains&&!Q.name.includes(Z.nameContains))return!1;if(Z.textContains&&(!Q.text||!Q.text.includes(Z.textContains)))return!1;return!0})}findElements(Z){return[...this.ast.elements.values()].filter((Q)=>{if(Z.type&&Q.type!==Z.type)return!1;if(Z.nameContains&&!Q.name.includes(Z.nameContains))return!1;return!0})}findRelationships(Z){return this.ast.relationships.filter((Q)=>{if(Z.relationshipType&&Q.relationshipType!==Z.relationshipType)return!1;if(Z.source&&Q.source!==Z.source)return!1;if(Z.target&&Q.target!==Z.target)return!1;return!0})}defineClass(Z,Q){return this.ast.classDefs.set(Z,{name:Z,styles:Q}),this}addClass(Z,Q){let X=this.ast.classes.get(Z)||[];if(!X.includes(Q))this.ast.classes.set(Z,[...X,Q]);return this}removeClass(Z,Q){let X=this.ast.classes.get(Z);if(X)this.ast.classes.set(Z,X.filter((J)=>J!==Q));return this}setStyle(Z,Q){return this.ast.styles.set(Z,Q),this}setAccTitle(Z){return this.ast.accTitle=Z,this}setAccDescription(Z){return this.ast.accDescription=Z,this}setDirection(Z){return this.ast.direction=Z,this}}NH();function P8(Z,Q){let X=[];X.push("sankey-beta");for(let J of Z.links){let W=Z.nodes.get(J.source)?.label||J.source,H=Z.nodes.get(J.target)?.label||J.target,Y=(B)=>{if(B.includes(",")||B.includes('"')||B.includes(`
`))return`"${B.replace(/"/g,'""')}"`;return B};X.push(`${Y(W)},${Y(H)},${J.value}`)}return X.join(`
`)}aQ();eX();function ZV(Z){switch(Z){case"solid":return"->>";case"dotted":return"-->>";case"solid_open":return"->";case"dotted_open":return"-->";case"solid_cross":return"-x";case"dotted_cross":return"--x";case"solid_point":return"-)";case"dotted_point":return"--)";case"bidirectional_solid":return"<<->>";case"bidirectional_dotted":return"<<-->>";default:return M0(Z,`Unknown arrow type: ${Z}`)}}function P9(Z){switch(Z.type){case"message":{let Q=Z,X=ZV(Q.arrowType);if(Q.activate)X=`${X}+`;if(Q.deactivate)X=`${X}-`;let J=`${Q.from}${X}${Q.to}`;if(Q.text)J+=`: ${Q.text}`;return J}case"note":{let Q=Z,X=Q.placement.replace("_"," "),J=Q.actors.join(",");return`note ${X} ${J}: ${Q.text}`}case"activate":return`activate ${Z.actor}`;case"deactivate":return`deactivate ${Z.actor}`;case"loop":{let Q=Z;return NX(`loop ${Q.text}`,Q.statements.map(P9),"end")}case"alt":{let Q=Z,X=[];for(let J=0;J<Q.sections.length;J++){let W=Q.sections[J];if(J===0)X.push(`alt ${W.condition}`);else X.push(`else ${W.condition}`);X.push(ZQ(W.statements.map(P9)))}return X.push("end"),X}case"opt":{let Q=Z;return NX(`opt ${Q.text}`,Q.statements.map(P9),"end")}case"par":{let Q=Z,X=[];for(let J=0;J<Q.sections.length;J++){let W=Q.sections[J];if(J===0)X.push(`par ${W.text}`);else X.push(`and ${W.text}`);X.push(ZQ(W.statements.map(P9)))}return X.push("end"),X}case"critical":{let Q=Z,X=[];X.push(`critical ${Q.text}`),X.push(ZQ(Q.statements.map(P9)));for(let J of Q.options)X.push(`option ${J.text}`),X.push(ZQ(J.statements.map(P9)));return X.push("end"),X}case"break":{let Q=Z;return NX(`break ${Q.text}`,Q.statements.map(P9),"end")}case"rect":{let Q=Z;return NX(`rect ${Q.color}`,Q.statements.map(P9),"end")}case"autonumber":{let Q=Z;if(!Q.visible)return"autonumber off";if(Q.start!==void 0&&Q.step!==void 0)return`autonumber ${Q.start} ${Q.step}`;if(Q.start!==void 0)return`autonumber ${Q.start}`;return"autonumber"}case"link":{let Q=Z;return`link ${Q.actor}: ${Q.text} @ ${Q.url}`}case"links":{let Q=Z,X=JSON.stringify(Q.links);return`links ${Q.actor}: ${X}`}case"properties":{let Q=Z,X=JSON.stringify(Q.properties);return`properties ${Q.actor}: ${X}`}case"details":{let Q=Z;return`details ${Q.actor}: ${Q.details}`}default:return M0(Z,`Unknown statement type: ${Z.type}`)}}function QN(Z){let Q=Z.type==="actor"?"actor":"participant",X=Z.created?"create ":"";if(Z.alias&&Z.alias!==Z.id)return`${X}${Q} ${Z.id} as ${Z.name}`;if(Z.name!==Z.id)return`${X}${Q} ${Z.id} as ${Z.name}`;return`${X}${Q} ${Z.id}`}function QV(Z,Q){let X="box";if(Z.color)X+=` ${Z.color}`;if(Z.text)X+=` ${Z.text}`;let J=[];for(let W of Z.actors){let H=Q.actors.get(W);if(H)J.push(QN(H))}return NX(X,J,"end")}function XV(Z){let Q=[];for(let X=0;X<Z.length;X++){let J=Z[X],W=X>0?Z[X-1]:null;if(J.type==="activate"&&W?.type==="message"){let H=W,Y=J;if(H.activate&&H.to===Y.actor)continue}if(J.type==="deactivate"&&W?.type==="message"){let H=W,Y=J;if(H.deactivate&&H.from===Y.actor)continue}Q.push(J)}return Q}function N8(Z,Q){let X=QQ(Q),J=new Set,W=[...Z.actors.entries()];if(X.sortNodes)W.sort((B,K)=>B[0].localeCompare(K[0]));let H=XV(Z.statements),Y=["sequenceDiagram",ZQ([...Z.boxes.map((B)=>{for(let K of B.actors)J.add(K);return QV(B,Z)}),...W.filter(([B,K])=>!J.has(B)&&!K.created).map(([,B])=>QN(B)),...H.map(P9)])];return xQ(Y,X.indent)}aQ();eX();function JV(Z){switch(Z){case"fork":return"<<fork>>";case"join":return"<<join>>";case"choice":return"<<choice>>";case"divider":return null;case"default":default:return null}}function Nz(Z){if(Z.id==="[*]")return"[*]";return Z.id}function Rz(Z,Q){let X=Nz(Z),J=JV(Z.type);if(Z.doc&&Z.doc.length>0){let W=[];for(let H of Z.doc)if(H.stmt==="state"){let Y=Rz(H.state,Q);if(Y)W.push(Y)}else if(H.stmt==="relation")W.push(XN(H.transition));else if(H.stmt==="dir")W.push(`direction ${H.value}`);return NX(`state ${X} {`,W,"}")}if(J)return`state ${X} ${J}`;if(Z.description){let W=Array.isArray(Z.description)?Z.description.join("\\n"):Z.description;return`${X} : ${W}`}if(!Q.has(Z.id)&&Z.id!=="[*]")return`state ${X}`;return null}function XN(Z){let Q=Nz(Z.state1),X=Nz(Z.state2);if(Z.description)return`${Q} --> ${X} : ${Z.description}`;return`${Q} --> ${X}`}function WV(Z){if(!Z.note)return null;return`note ${Z.note.position} ${Z.id} : ${Z.note.text}`}function HV(Z){return[...Z.entries()].map(([,Q])=>`classDef ${Q.id} ${Q.classes}`)}function YV(Z){return Z.map((Q)=>`style ${Q.id} ${Q.styleClass}`)}function BV(Z){return Z.map((Q)=>`class ${Q.id} ${Q.styleClass}`)}function KV(Z){return Z.map((Q)=>{if(Q.url){let X=Q.tooltip?` "${Q.tooltip}"`:"";return`click ${Q.id} href "${Q.url}"${X}`}return null}).filter(Boolean)}function JN(Z,Q){let X=QQ(Q),J=new Set;for(let Y of Z.transitions)J.add(Y.state1.id),J.add(Y.state2.id);let W=[...Z.states.entries()];if(X.sortNodes)W.sort((Y,B)=>Y[0].localeCompare(B[0]));let H=["stateDiagram-v2",ZQ([KQ(Z.direction&&Z.direction!=="TB",`direction ${Z.direction}`),KQ(Z.title,`accTitle: ${Z.title}`),KQ(Z.accDescription,`accDescr: ${Z.accDescription}`),...W.filter(([,Y])=>Y.type!=="default"||Y.doc).map(([,Y])=>Rz(Y,J)),...W.filter(([,Y])=>Y.description&&!Y.doc&&Y.type==="default").map(([,Y])=>Rz(Y,J)),...Z.transitions.map(XN),...W.filter(([,Y])=>Y.note).map(([,Y])=>WV(Y)),HV(Z.classDefs),YV(Z.styles),BV(Z.classApplications),KV(Z.clicks)])];return xQ(H,X.indent)}aQ();function P3(Z,Q){let J=QQ(Q).indent,W=[];if(W.push("timeline"),Z.title)W.push(`${J}title ${Z.title}`);for(let H of Z.sections){if(H.name)W.push(`${J}section ${H.name}`);for(let Y of H.periods){if(Y.name)W.push(`${J}${J}${Y.name}`);for(let B of Y.events)W.push(`${J}${J}${J}: ${B.text}`)}}return W.join(`
`)}aQ();eX();function UV(Z){if(!Z)return null;let Q=[];if(Z.title)Q.push(`"${Z.title}"`);if(Z.type==="band"){let X=Z.categories.map((J)=>`"${J}"`).join(", ");Q.push(`[${X}]`)}else Q.push(`${Z.min} --> ${Z.max}`);return`x-axis ${Q.join(" ")}`}function GV(Z){if(!Z)return null;let Q=[];if(Z.title)Q.push(`"${Z.title}"`);return Q.push(`${Z.min} --> ${Z.max}`),`y-axis ${Q.join(" ")}`}function zV(Z){let Q=Z.values.join(", "),X=Z.label?`"${Z.label}" `:"";return`${Z.type} ${X}[${Q}]`}function N3(Z,Q){let X=QQ(Q),W=[Z.orientation?`xychart-beta ${Z.orientation}`:"xychart-beta",ZQ([KQ(Z.title,()=>`title "${Z.title}"`),KQ(Z.accTitle,()=>`accTitle: ${Z.accTitle}`),KQ(Z.accDescription,()=>`accDescr: ${Z.accDescription}`),UV(Z.xAxis),GV(Z.yAxis),...Z.series.map(zV)])];return xQ(W,X.indent)}aQ();function WN(Z){return Z.type==="flowchart"}function HN(Z){return Z.type==="sequence"}function YN(Z){return Z.type==="classDiagram"}function BN(Z){return Z.type==="state"}function KN(Z){return Z.type==="erDiagram"}function UN(Z){return Z.type==="gantt"}function GN(Z){return Z.type==="mindmap"}function zN(Z){return Z.type==="journey"}function FN(Z){return Z.type==="kanban"}function qN(Z){return Z.type==="timeline"}function wN(Z){return Z.type==="sankey"}function MN(Z){return Z.type==="quadrant"}function LN(Z){return Z.type==="xychart"}function DN(Z){return Z.type==="requirement"}function EN(Z){return Z.type==="block"}function AN(Z){return Z.type==="c4"}function ON(Z){return Z.type==="pie"}function PN(Z){return Z.type==="gitGraph"}NH();function FV(Z,Q){if(EN(Z))return b7(Z,Q);if(AN(Z))return h7(Z,Q);if(WN(Z))return l7(Z,Q);if(HN(Z))return N8(Z,Q);if(YN(Z))return u7(Z,Q);if(KN(Z))return f8(Z,Q);if(wN(Z))return P8(Z,Q);if(ON(Z))return z8(Z,Q);if(PN(Z))return H8(Z,Q);if(MN(Z))return D8(Z,Q);if(LN(Z))return N3(Z,Q);if(FN(Z))return Q3(Z,Q);if(DN(Z))return A8(Z,Q);if(BN(Z))return JN(Z,Q);if(UN(Z))return IH(Z,Q);if(zN(Z))return tY(Z,Q);if(GN(Z))return W3(Z,Q);if(qN(Z))return P3(Z,Q);throw Error(`Unsupported AST type: ${Z.type}`)}class R8 extends tZ{constructor(Z){super(Z)}static create(){let Z=z3();return new R8(Z)}static from(Z){return new R8(Z)}static parse(Z){let Q=M8(Z);return new R8(Q)}render(Z){return P8(this.ast,Z)}clone(){let Z={type:"sankey",nodes:new Map(Array.from(this.ast.nodes.entries()).map(([Q,X])=>[Q,{...X}])),links:this.ast.links.map((Q)=>({...Q}))};return new R8(Z)}get nodes(){return Array.from(this.ast.nodes.values())}get links(){return this.ast.links}get nodeCount(){return this.ast.nodes.size}get linkCount(){return this.ast.links.length}addNode(Z,Q){return this.ast.nodes.set(Z,{id:Z,label:Q||Z}),this}getNode(Z){return this.ast.nodes.get(Z)}removeNode(Z){return this.ast.nodes.delete(Z),this.ast.links=this.ast.links.filter((Q)=>Q.source!==Z&&Q.target!==Z),this}updateNodeLabel(Z,Q){let X=this.ast.nodes.get(Z);if(X)X.label=Q;return this}addLink(Z,Q,X){if(!this.ast.nodes.has(Z))this.addNode(Z);if(!this.ast.nodes.has(Q))this.addNode(Q);return this.ast.links.push({source:Z,target:Q,value:X}),this}getLinksFrom(Z){return this.ast.links.filter((Q)=>Q.source===Z)}getLinksTo(Z){return this.ast.links.filter((Q)=>Q.target===Z)}removeLink(Z,Q){let X=this.ast.links.findIndex((J)=>J.source===Z&&J.target===Q);if(X!==-1)this.ast.links.splice(X,1);return this}updateLinkValue(Z,Q,X){let J=this.ast.links.find((W)=>W.source===Z&&W.target===Q);if(J)J.value=X;return this}findNodes(Z){let Q=this.nodes;if(Z.labelContains)Q=Q.filter((X)=>X.label.includes(Z.labelContains));return Q}findLinks(Z){let Q=this.ast.links;if(Z.source)Q=Q.filter((X)=>X.source===Z.source);if(Z.target)Q=Q.filter((X)=>X.target===Z.target);if(Z.minValue!==void 0)Q=Q.filter((X)=>X.value>=Z.minValue);if(Z.maxValue!==void 0)Q=Q.filter((X)=>X.value<=Z.maxValue);return Q}getTotalFlow(){return this.ast.links.reduce((Z,Q)=>Z+Q.value,0)}}class aX extends tZ{constructor(Z){super(Z)}static create(Z){let Q=q3();if(Z)Q.title=Z;return new aX(Q)}static from(Z){return new aX(structuredClone(Z))}static parse(Z){return new aX(L8(Z))}render(Z){return N8(this.ast,Z)}clone(){return new aX(structuredClone(this.ast))}get title(){return this.ast.title}get actorCount(){return this.ast.actors.size}get statementCount(){return this.ast.statements.length}get actors(){return new Map(Array.from(this.ast.actors.entries()).map(([Z,Q])=>[Z,{id:Q.id,name:Q.name,type:Q.type}]))}setTitle(Z){return this.ast.title=Z,this}addParticipant(Z,Q,X){return this.ast.actors.set(Z,{id:Z,name:Q??Z,alias:X?.alias,type:"participant"}),this}addActor(Z,Q,X){return this.ast.actors.set(Z,{id:Z,name:Q??Z,alias:X?.alias,type:"actor"}),this}removeActor(Z,Q){if(this.ast.actors.delete(Z),Q?.removeMessages)this.ast.statements=this.filterStatements(this.ast.statements,(X)=>{if(X.type==="message")return X.from!==Z&&X.to!==Z;if(X.type==="note")return!X.actors.includes(Z);if(X.type==="activate"||X.type==="deactivate")return X.actor!==Z;return!0});return this}renameActor(Z,Q){let X=this.ast.actors.get(Z);if(X)X.name=Q;return this}getActor(Z){let Q=this.ast.actors.get(Z);if(!Q)return;return{id:Q.id,name:Q.name,type:Q.type}}hasActor(Z){return this.ast.actors.has(Z)}addMessage(Z,Q,X,J){if(!this.ast.actors.has(Z))this.addParticipant(Z);if(!this.ast.actors.has(Q))this.addParticipant(Q);let W={type:"message",from:Z,to:Q,text:X,arrowType:J?.arrow??"solid"};if(J?.activate)W.activate=!0;if(J?.deactivate)W.deactivate=!0;return this.ast.statements.push(W),this}getMessages(){return this.ast.statements.filter((Z)=>Z.type==="message")}getMessagesFrom(Z){return this.getMessages().filter((Q)=>Q.from===Z)}getMessagesTo(Z){return this.getMessages().filter((Q)=>Q.to===Z)}getMessagesBetween(Z,Q){return this.getMessages().filter((X)=>X.from===Z&&X.to===Q||X.from===Q&&X.to===Z)}addNote(Z,Q,X){let J=Array.isArray(Z)?Z:[Z],W={type:"note",placement:X?.placement??"right_of",actors:J,text:Q};return this.ast.statements.push(W),this}getNotes(){return this.ast.statements.filter((Z)=>Z.type==="note")}activate(Z){let Q={type:"activate",actor:Z};return this.ast.statements.push(Q),this}deactivate(Z){let Q={type:"deactivate",actor:Z};return this.ast.statements.push(Q),this}addLoop(Z,Q){let X=aX.create();Q(X);let J={type:"loop",text:Z,statements:X.ast.statements};this.ast.statements.push(J);for(let[W,H]of X.ast.actors)if(!this.ast.actors.has(W))this.ast.actors.set(W,H);return this}addAlt(Z){let X={type:"alt",sections:Z.map((J)=>{let W=aX.create();J.build(W);for(let[H,Y]of W.ast.actors)if(!this.ast.actors.has(H))this.ast.actors.set(H,Y);return{condition:J.condition,statements:W.ast.statements}})};return this.ast.statements.push(X),this}addOpt(Z,Q){let X=aX.create();Q(X);let J={type:"opt",text:Z,statements:X.ast.statements};this.ast.statements.push(J);for(let[W,H]of X.ast.actors)if(!this.ast.actors.has(W))this.ast.actors.set(W,H);return this}addPar(Z){let X={type:"par",sections:Z.map((J)=>{let W=aX.create();J.build(W);for(let[H,Y]of W.ast.actors)if(!this.ast.actors.has(H))this.ast.actors.set(H,Y);return{text:J.text,statements:W.ast.statements}})};return this.ast.statements.push(X),this}addCritical(Z,Q,X){let J=aX.create();Q(J);for(let[Y,B]of J.ast.actors)if(!this.ast.actors.has(Y))this.ast.actors.set(Y,B);let W=(X??[]).map((Y)=>{let B=aX.create();Y.build(B);for(let[K,U]of B.ast.actors)if(!this.ast.actors.has(K))this.ast.actors.set(K,U);return{text:Y.text,statements:B.ast.statements}}),H={type:"critical",text:Z,statements:J.ast.statements,options:W};return this.ast.statements.push(H),this}addBreak(Z,Q){let X=aX.create();Q(X);let J={type:"break",text:Z,statements:X.ast.statements};this.ast.statements.push(J);for(let[W,H]of X.ast.actors)if(!this.ast.actors.has(W))this.ast.actors.set(W,H);return this}addRect(Z,Q){let X=aX.create();Q(X);let J={type:"rect",color:Z,statements:X.ast.statements};this.ast.statements.push(J);for(let[W,H]of X.ast.actors)if(!this.ast.actors.has(W))this.ast.actors.set(W,H);return this}addBox(Z,Q,X){let J={type:"box",text:Z,color:X,actors:Q};return this.ast.boxes.push(J),this}getBoxes(){return this.ast.boxes}autonumber(Z,Q){let X={type:"autonumber",start:Z,step:Q,visible:!0};return this.ast.statements.push(X),this}autonumberOff(){let Z={type:"autonumber",visible:!1};return this.ast.statements.push(Z),this}findActors(Z){let Q=[];for(let X of this.ast.actors.values()){if(Z.type&&X.type!==Z.type)continue;Q.push({id:X.id,name:X.name,type:X.type})}return Q}findMessages(Z){return this.getMessages().filter((Q)=>{if(Z.from&&Q.from!==Z.from)return!1;if(Z.to&&Q.to!==Z.to)return!1;if(Z.textContains&&!Q.text.includes(Z.textContains))return!1;if(Z.arrow&&Q.arrowType!==Z.arrow)return!1;return!0})}getCommunicatingActors(Z){let Q=new Set;for(let X of this.getMessages()){if(X.from===Z)Q.add(X.to);if(X.to===Z)Q.add(X.from)}return Array.from(Q)}filterStatements(Z,Q){return Z.filter(Q).map((X)=>{if(X.type==="loop"||X.type==="opt"||X.type==="break")return{...X,statements:this.filterStatements(X.statements,Q)};if(X.type==="alt")return{...X,sections:X.sections.map((J)=>({condition:J.condition,statements:this.filterStatements(J.statements,Q)}))};if(X.type==="par")return{...X,sections:X.sections.map((J)=>({text:J.text,statements:this.filterStatements(J.statements,Q)}))};if(X.type==="critical")return{...X,statements:this.filterStatements(X.statements,Q),options:X.options.map((J)=>({...J,statements:this.filterStatements(J.statements,Q)}))};if(X.type==="rect")return{...X,statements:this.filterStatements(X.statements,Q)};return X})}}aQ();eX();function Cz(Z){if(Z==="[*]")return"[*]";return Z}function qV(Z){let Q=Cz(Z.id);if(Z.type==="fork")return`state ${Q} <<fork>>`;if(Z.type==="join")return`state ${Q} <<join>>`;if(Z.type==="choice")return`state ${Q} <<choice>>`;if(Z.type==="divider")return null;if(Q==="[*]")return null;if(Z.doc&&Z.doc.length>0){let X=Z.description?typeof Z.description==="string"?Z.description:Z.description[0]:"";if(X)return NX(`state "${X}" as ${Q} {`,[],"}");return NX(`state ${Q} {`,[],"}")}if(Z.description)return`state "${typeof Z.description==="string"?Z.description:Z.description[0]}" as ${Q}`;return null}function wV(Z){if(Z.note)return`note ${Z.note.position} ${Z.id} : ${Z.note.text}`;return null}function MV(Z){let Q=Cz(Z.state1.id),X=Cz(Z.state2.id);if(Z.description)return`${Q} --> ${X} : ${Z.description}`;return`${Q} --> ${X}`}function NN(Z,Q){let X=QQ(Q),J=["stateDiagram-v2",ZQ([KQ(Z.direction&&Z.direction!=="TB",`direction ${Z.direction}`),...[...Z.classDefs.values()].map((W)=>`classDef ${W.id} ${W.classes}`),...[...Z.states.entries()].filter(([W,H])=>{if(W==="[*]")return!1;if(H.type==="fork"||H.type==="join"||H.type==="choice")return!0;if(H.description)return!0;return!1}).map(([,W])=>qV(W)),...[...Z.states.entries()].filter(([W,H])=>W!=="[*]"&&H.note).map(([,W])=>wV(W)),...Z.transitions.map(MV),...Z.styles.map((W)=>`style ${W.id} ${W.styleClass}`),...Z.classApplications.map((W)=>`class ${W.id} ${W.styleClass}`),...Z.clicks.map((W)=>{if(W.url){if(W.tooltip)return`click ${W.id} href "${W.url}" "${W.tooltip}"`;return`click ${W.id} href "${W.url}"`}return null})])];return xQ(J,X.indent)}var Iz="[*]",_z="[*]";class f7 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=M3();if(Z)Q.direction=Z;return new f7(Q)}static from(Z){return new f7(structuredClone(Z))}static parse(Z){return new f7(L3(Z))}render(Z){return NN(this.ast,Z)}clone(){return new f7(structuredClone(this.ast))}get direction(){return this.ast.direction}get stateCount(){return this.ast.states.size}get transitionCount(){return this.ast.transitions.length}get states(){return new Map(Array.from(this.ast.states.entries()).map(([Z,Q])=>[Z,{id:Q.id,type:Q.type,description:Array.isArray(Q.description)?Q.description.join(`
`):Q.description}]))}setDirection(Z){return this.ast.direction=Z,this}addState(Z,Q){let X={id:Z,type:Q?.type??"default",description:Q?.description};return this.ast.states.set(Z,X),this}removeState(Z,Q){if(this.ast.states.delete(Z),Q?.removeTransitions)this.ast.transitions=this.ast.transitions.filter((X)=>X.state1.id!==Z&&X.state2.id!==Z);return this}renameState(Z,Q){let X=this.ast.states.get(Z);if(X){X.id=Q,this.ast.states.delete(Z),this.ast.states.set(Q,X);for(let J of this.ast.transitions){if(J.state1.id===Z)J.state1.id=Q;if(J.state2.id===Z)J.state2.id=Q}}return this}getState(Z){return this.ast.states.get(Z)}hasState(Z){return this.ast.states.has(Z)}setStateDescription(Z,Q){let X=this.ast.states.get(Z);if(X)X.description=Q;return this}addFork(Z){return this.addState(Z,{type:"fork"})}addJoin(Z){return this.addState(Z,{type:"join"})}addChoice(Z){return this.addState(Z,{type:"choice"})}addTransition(Z,Q,X){if(Z!==Iz&&!this.ast.states.has(Z))this.addState(Z);if(Q!==_z&&!this.ast.states.has(Q))this.addState(Q);let J=this.ast.states.get(Z)??{id:Z,type:"default"},W=this.ast.states.get(Q)??{id:Q,type:"default"},H={state1:J,state2:W,description:X?.label};return this.ast.transitions.push(H),this}addInitial(Z){return this.addTransition(Iz,Z)}addFinal(Z){return this.addTransition(Z,_z)}getTransitions(){return this.ast.transitions.map((Z)=>({from:Z.state1.id,to:Z.state2.id,label:Z.description}))}getTransitionsFrom(Z){return this.ast.transitions.filter((Q)=>Q.state1.id===Z).map((Q)=>({to:Q.state2.id,label:Q.description}))}getTransitionsTo(Z){return this.ast.transitions.filter((Q)=>Q.state2.id===Z).map((Q)=>({from:Q.state1.id,label:Q.description}))}removeTransition(Z,Q){return this.ast.transitions=this.ast.transitions.filter((X)=>!(X.state1.id===Z&&X.state2.id===Q)),this}setTransitionLabel(Z,Q,X){let J=this.ast.transitions.find((W)=>W.state1.id===Z&&W.state2.id===Q);if(J)J.description=X;return this}addComposite(Z,Q){let X=f7.create();Q(X);let J=[];for(let H of X.ast.states.values())J.push({stmt:"state",state:H});for(let H of X.ast.transitions)J.push({stmt:"relation",transition:H});let W={id:Z,type:"default",doc:J};this.ast.states.set(Z,W);for(let H of X.ast.states.values())if(!this.ast.states.has(H.id))this.ast.states.set(H.id,H);return this}isComposite(Z){let Q=this.ast.states.get(Z);return Q?.doc!==void 0&&Q.doc.length>0}getNestedStates(Z){let Q=this.ast.states.get(Z);if(!Q?.doc)return[];return Q.doc.filter((X)=>X.stmt==="state").map((X)=>X.state.id)}addNote(Z,Q,X="right of"){let J=this.ast.states.get(Z);if(J)J.note={position:X,text:Q};return this}getNote(Z){return this.ast.states.get(Z)?.note}defineStyle(Z,Q){return this.ast.classDefs.set(Z,{id:Z,classes:Q}),this}applyStyle(Z,Q){this.ast.classApplications.push({id:Z,styleClass:Q});let X=this.ast.states.get(Z);if(X){if(!X.classes)X.classes=[];if(!X.classes.includes(Q))X.classes.push(Q)}return this}findStates(Z){let Q=[];for(let X of this.ast.states.values()){if(Z.type&&X.type!==Z.type)continue;if(Z.hasNote!==void 0){let J=X.note!==void 0;if(Z.hasNote!==J)continue}Q.push(X)}return Q}getReachable(Z){let Q=new Set,X=[Z];while(X.length>0){let J=X.shift();if(Q.has(J))continue;Q.add(J);for(let W of this.ast.transitions)if(W.state1.id===J&&!Q.has(W.state2.id))X.push(W.state2.id)}return Q.delete(Z),Array.from(Q)}getAncestors(Z){let Q=new Set,X=[Z];while(X.length>0){let J=X.shift();if(Q.has(J))continue;Q.add(J);for(let W of this.ast.transitions)if(W.state2.id===J&&!Q.has(W.state1.id))X.push(W.state1.id)}return Q.delete(Z),Array.from(Q)}hasPath(Z,Q){return this.getReachable(Z).includes(Q)}getInitialStates(){return this.ast.transitions.filter((Z)=>Z.state1.id===Iz).map((Z)=>Z.state2.id)}getFinalStates(){return this.ast.transitions.filter((Z)=>Z.state2.id===_z).map((Z)=>Z.state1.id)}}class C8 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=D3();if(Z)Q.title=Z;return new C8(Q)}static from(Z){return new C8(Z)}static parse(Z){let Q=E3(Z);return new C8(Q)}render(Z){return P3(this.ast,Z)}clone(){let Z={type:"timeline",title:this.ast.title,sections:this.ast.sections.map((Q)=>({...Q,periods:Q.periods.map((X)=>({...X,events:X.events.map((J)=>({...J}))}))})),accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new C8(Z)}get title(){return this.ast.title}get sections(){return this.ast.sections}get sectionCount(){return this.ast.sections.length}get periodCount(){return this.ast.sections.reduce((Z,Q)=>Z+Q.periods.length,0)}get eventCount(){return this.ast.sections.reduce((Z,Q)=>Z+Q.periods.reduce((X,J)=>X+J.events.length,0),0)}setTitle(Z){return this.ast.title=Z,this}addSection(Z){return this.ast.sections.push({name:Z,periods:[]}),this}getSection(Z){return this.ast.sections.find((Q)=>Q.name===Z)}removeSection(Z){let Q=this.ast.sections.findIndex((X)=>X.name===Z);if(Q!==-1)this.ast.sections.splice(Q,1);return this}renameSection(Z,Q){let X=this.getSection(Z);if(X)X.name=Q;return this}addPeriod(Z,Q){let X=this.getSection(Z);if(!X)this.addSection(Z),X=this.getSection(Z);return X.periods.push({name:Q,events:[]}),this}getPeriod(Z){for(let Q of this.ast.sections){let X=Q.periods.find((J)=>J.name===Z);if(X)return X}return}removePeriod(Z){for(let Q of this.ast.sections){let X=Q.periods.findIndex((J)=>J.name===Z);if(X!==-1){Q.periods.splice(X,1);break}}return this}renamePeriod(Z,Q){let X=this.getPeriod(Z);if(X)X.name=Q;return this}addEvent(Z,Q){let X=this.getPeriod(Z);if(X)X.events.push({text:Q});return this}addEventWithPeriod(Z,Q,X){let J=this.getPeriod(Q);if(!J)this.addPeriod(Z,Q),J=this.getPeriod(Q);return J.events.push({text:X}),this}removeEvent(Z,Q){let X=this.getPeriod(Z);if(X){let J=X.events.findIndex((W)=>W.text===Q);if(J!==-1)X.events.splice(J,1)}return this}updateEvent(Z,Q,X){let J=this.getPeriod(Z);if(J){let W=J.events.find((H)=>H.text===Q);if(W)W.text=X}return this}getAllPeriods(){return this.ast.sections.flatMap((Z)=>Z.periods)}getAllEvents(){return this.ast.sections.flatMap((Z)=>Z.periods.flatMap((Q)=>Q.events))}findPeriods(Z){let Q=this.getAllPeriods();if(Z.section){let X=this.getSection(Z.section);Q=X?X.periods:[]}return Q.filter((X)=>{if(Z.nameContains&&!X.name.includes(Z.nameContains))return!1;if(Z.hasEvents!==void 0){let J=X.events.length>0;if(Z.hasEvents!==J)return!1}return!0})}findEvents(Z){let Q=[];if(Z.section){let X=this.getSection(Z.section);if(X)if(Z.period){let J=X.periods.find((W)=>W.name===Z.period);Q=J?J.events:[]}else Q=X.periods.flatMap((J)=>J.events)}else if(Z.period){let X=this.getPeriod(Z.period);Q=X?X.events:[]}else Q=this.getAllEvents();if(Z.textContains)Q=Q.filter((X)=>X.text.includes(Z.textContains));return Q}getEventsForPeriod(Z){let Q=this.getPeriod(Z);return Q?Q.events:[]}getSectionForPeriod(Z){for(let Q of this.ast.sections)if(Q.periods.some((X)=>X.name===Z))return Q;return}}class I8 extends tZ{constructor(Z){super(Z)}static create(Z){let Q=A3();if(Z)Q.orientation=Z;return new I8(Q)}static from(Z){return new I8(Z)}static parse(Z){let Q=O3(Z);return new I8(Q)}render(Z){return N3(this.ast,Z)}clone(){let Z=(X)=>({...X,values:[...X.values]}),Q={type:"xychart",title:this.ast.title,orientation:this.ast.orientation,xAxis:this.ast.xAxis?this.ast.xAxis.type==="band"?{...this.ast.xAxis,categories:[...this.ast.xAxis.categories]}:{...this.ast.xAxis}:void 0,yAxis:this.ast.yAxis?{...this.ast.yAxis}:void 0,series:this.ast.series.map(Z),accTitle:this.ast.accTitle,accDescription:this.ast.accDescription};return new I8(Q)}get title(){return this.ast.title}get orientation(){return this.ast.orientation}get xAxis(){return this.ast.xAxis}get yAxis(){return this.ast.yAxis}get series(){return this.ast.series}get seriesCount(){return this.ast.series.length}get accTitle(){return this.ast.accTitle}get accDescription(){return this.ast.accDescription}setTitle(Z){return this.ast.title=Z,this}removeTitle(){return delete this.ast.title,this}setOrientation(Z){return this.ast.orientation=Z,this}removeOrientation(){return delete this.ast.orientation,this}setAccessibilityTitle(Z){return this.ast.accTitle=Z,this}removeAccessibilityTitle(){return delete this.ast.accTitle,this}setAccessibilityDescription(Z){return this.ast.accDescription=Z,this}removeAccessibilityDescription(){return delete this.ast.accDescription,this}setXAxisBand(Z,Q){let X={type:"band",categories:Z};if(Q)X.title=Q;return this.ast.xAxis=X,this}setXAxisRange(Z,Q,X){let J={type:"range",min:Z,max:Q};if(X)J.title=X;return this.ast.xAxis=J,this}setXAxisTitle(Z){if(!this.ast.xAxis)this.ast.xAxis={type:"range",min:0,max:0};return this.ast.xAxis.title=Z,this}removeXAxisTitle(){if(this.ast.xAxis)delete this.ast.xAxis.title;return this}removeXAxis(){return delete this.ast.xAxis,this}setYAxisRange(Z,Q,X){let J={min:Z,max:Q};if(X)J.title=X;return this.ast.yAxis=J,this}setYAxisTitle(Z){if(!this.ast.yAxis)this.ast.yAxis={min:0,max:0};return this.ast.yAxis.title=Z,this}removeYAxisTitle(){if(this.ast.yAxis)delete this.ast.yAxis.title;return this}removeYAxis(){return delete this.ast.yAxis,this}addLineSeries(Z,Q){let X={type:"line",label:Q||"",values:Z};return this.ast.series.push(X),this}addBarSeries(Z,Q){let X={type:"bar",label:Q||"",values:Z};return this.ast.series.push(X),this}removeSeries(Z){if(Z>=0&&Z<this.ast.series.length)this.ast.series.splice(Z,1);return this}removeSeriesByLabel(Z){return this.ast.series=this.ast.series.filter((Q)=>Q.label!==Z),this}clearSeries(){return this.ast.series=[],this}setSeriesLabel(Z,Q){if(Z>=0&&Z<this.ast.series.length)this.ast.series[Z].label=Q;return this}setSeriesValues(Z,Q){if(Z>=0&&Z<this.ast.series.length)this.ast.series[Z].values=Q;return this}setSeriesType(Z,Q){if(Z>=0&&Z<this.ast.series.length)this.ast.series[Z].type=Q;return this}getSeries(Z){return this.ast.series[Z]}findSeries(Z){return this.ast.series.filter((Q)=>{if(Z.type!==void 0&&Q.type!==Z.type)return!1;if(Z.label!==void 0&&Q.label!==Z.label)return!1;if(Z.labelContains&&!Q.label.includes(Z.labelContains))return!1;return!0})}getLineSeries(){return this.ast.series.filter((Z)=>Z.type==="line")}getBarSeries(){return this.ast.series.filter((Z)=>Z.type==="bar")}isXAxisBand(){return this.ast.xAxis?.type==="band"}isXAxisRange(){return this.ast.xAxis?.type==="range"}getXAxisCategories(){return this.ast.xAxis?.type==="band"?this.ast.xAxis.categories:void 0}getXAxisRange(){return this.ast.xAxis?.type==="range"?{min:this.ast.xAxis.min,max:this.ast.xAxis.max}:void 0}getYAxisRange(){return this.ast.yAxis?{min:this.ast.yAxis.min,max:this.ast.yAxis.max}:void 0}}export{QQ as resolveOptions,N8 as renderSequence,P8 as renderSankey,A8 as renderRequirement,D8 as renderQuadrant,z8 as renderPie,H8 as renderGitGraph,l7 as renderFlowchart,f8 as renderErDiagram,u7 as renderClassDiagram,h7 as renderC4,b7 as renderBlock,FV as render,L8 as parseSequence,M8 as parseSankey,w8 as parseRequirement,q8 as parseQuadrant,G8 as parsePie,W8 as parseGitGraph,d7 as parseFlowchart,j8 as parseErDiagram,m7 as parseClassDiagram,V7 as parseC4,x7 as parseBlock,og as parseAsync,ZN as parse,LN as isXYChartAST,qN as isTimelineAST,BN as isStateDiagramAST,w3 as isSequenceDiagram,HN as isSequenceAST,F3 as isSankeyDiagram,wN as isSankeyAST,G3 as isRequirementDiagram,DN as isRequirementAST,K3 as isQuadrantDiagram,MN as isQuadrantAST,Y3 as isPieDiagram,ON as isPieAST,GN as isMindmapAST,FN as isKanbanAST,zN as isJourneyAST,oY as isGitGraphDiagram,PN as isGitGraphAST,UN as isGanttAST,OH as isFlowchartDiagram,WN as isFlowchartAST,KN as isErDiagramAST,YN as isClassDiagramAST,DH as isClassDiagram,FH as isC4System,zH as isC4Person,MH as isC4Diagram,H9 as isC4DeploymentNode,qH as isC4Container,wH as isC4Component,W9 as isC4Boundary,AN as isC4AST,gz as isBlockSpace,x3 as isBlockNode,YH as isBlockEdge,BH as isBlockDiagram,HH as isBlockComposite,PV as isBlockColumnSetting,NV as isBlockClassDef,CV as isBlockApplyStyles,RV as isBlockApplyClass,EN as isBlockAST,Pz as detectDiagramType,A3 as createEmptyXYChartAST,D3 as createEmptyTimelineAST,M3 as createEmptyStateDiagramAST,q3 as createEmptySequenceAST,z3 as createEmptySankeyAST,U3 as createEmptyRequirementAST,B3 as createEmptyQuadrantAST,H3 as createEmptyPieAST,X3 as createEmptyMindmapAST,eY as createEmptyKanbanAST,rY as createEmptyJourneyAST,nY as createEmptyGitGraphAST,RH as createEmptyGanttAST,AH as createEmptyFlowchartAST,EH as createEmptyErDiagramAST,GH as createEmptyC4AST,_8 as createEmptyBlockAST,LH as createClassDiagramAST,I8 as XYChart,C8 as Timeline,f7 as StateDiagram,aX as Sequence,R8 as Sankey,O8 as Requirement,E8 as Quadrant,F8 as Pie,U8 as Mindmap,XX as KanbanNodeType,K8 as Kanban,B8 as Journey,Y8 as GitGraph,c7 as Gantt,H7 as Flowchart,y7 as ErDiagram,tZ as DiagramWrapper,KH as DEFAULT_RENDER_OPTIONS,p7 as ClassDiagram,k7 as C4,g7 as Block};
